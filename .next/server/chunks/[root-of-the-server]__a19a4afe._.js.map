{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/app/api/webhooks/clerk/route.ts"],"sourcesContent":["import { deleteUser, upsertUser } from \"@/features/users/db\"\nimport { verifyWebhook } from \"@clerk/nextjs/webhooks\"\nimport { NextRequest } from \"next/server\"\n\nexport async function POST(request: NextRequest) {\n  try {\n    const event = await verifyWebhook(request)\n\n    console.log(event)\n    \n    // switch (event.type) {\n    //   case \"user.created\":\n    //   case \"user.updated\":\n    //     const clerkData = event.data\n    //     const email = clerkData.email_addresses.find(\n    //       e => e.id === clerkData.primary_email_address_id\n    //     )?.email_address\n    //     if (email == null) {\n    //       return new Response(\"No primary email found\", { status: 400 })\n    //     }\n\n    //     await upsertUser({\n    //       id: clerkData.id,\n    //       email,\n    //       name: `${clerkData.first_name} ${clerkData.last_name}`,\n    //       imageUrl: clerkData.image_url,\n    //       createdAt: new Date(clerkData.created_at),\n    //       updatedAt: new Date(clerkData.updated_at),\n    //     })\n\n    //     break\n    //   case \"user.deleted\":\n    //     if (event.data.id == null) {\n    //       return new Response(\"No user ID found\", { status: 400 })\n    //     }\n\n    //     await deleteUser(event.data.id)\n    //     break\n    // }\n  } catch (error) {\n\n\n    return new Response(\"Invalid webhook\", { status: 400 })\n  }\n\n  return new Response(\"Webhook received\", { status: 200 })\n}\n"],"names":[],"mappings":";;;AACA;;AAGO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,QAAQ,MAAM,IAAA,+LAAa,EAAC;QAElC,QAAQ,GAAG,CAAC;IAEZ,wBAAwB;IACxB,yBAAyB;IACzB,yBAAyB;IACzB,mCAAmC;IACnC,oDAAoD;IACpD,yDAAyD;IACzD,uBAAuB;IACvB,2BAA2B;IAC3B,uEAAuE;IACvE,QAAQ;IAER,yBAAyB;IACzB,0BAA0B;IAC1B,eAAe;IACf,gEAAgE;IAChE,uCAAuC;IACvC,mDAAmD;IACnD,mDAAmD;IACnD,SAAS;IAET,YAAY;IACZ,yBAAyB;IACzB,mCAAmC;IACnC,iEAAiE;IACjE,QAAQ;IAER,sCAAsC;IACtC,YAAY;IACZ,IAAI;IACN,EAAE,OAAO,OAAO;QAGd,OAAO,IAAI,SAAS,mBAAmB;YAAE,QAAQ;QAAI;IACvD;IAEA,OAAO,IAAI,SAAS,oBAAoB;QAAE,QAAQ;IAAI;AACxD","debugId":null}}]
}
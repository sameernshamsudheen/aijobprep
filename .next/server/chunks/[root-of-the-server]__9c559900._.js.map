{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/data/env/server.ts"],"sourcesContent":["import { createEnv } from \"@t3-oss/env-nextjs\";\nimport { z } from \"zod\";\n\nexport const serverEnv = createEnv({\n  server: {\n    CLERK_SECRET_KEY: z.string().min(1),\n    ARCJET_KEY: z.string().min(1),\n    POSTGRES_DB: z.string().min(1),\n    POSTGRES_USER: z.string().min(1),\n    POSTGRES_PASSWORD: z.string().min(1),\n    POSTGRES_PORT: z.string().min(1),\n    POSTGRES_HOST: z.string().min(1),\n    POSTGRES_HOSTNAME: z.string().min(1),\n    HUME_API_KEY: z.string().min(1),\n    HUME_SECRET_KEY: z.string().min(1),\n    GEMINI_API_KEY: z.string().min(1),\n  },\n\n  createFinalSchema:env=>{\n    return z.object(env).transform(val=>{\n      const {POSTGRES_HOST,POSTGRES_DB,POSTGRES_PASSWORD,POSTGRES_PORT,POSTGRES_USER,...rest} =val\n      return{\n        ...rest,\n         DATABSE_URL:`postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}`\n      }\n    })\n  },\n  experimental__runtimeEnv: process.env,\n  emptyStringAsUndefined: true,\n});\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,YAAY,IAAA,4KAAS,EAAC;IACjC,QAAQ;QACN,kBAAkB,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACjC,YAAY,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC3B,aAAa,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC5B,eAAe,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC9B,mBAAmB,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAClC,eAAe,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC9B,eAAe,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC9B,mBAAmB,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAClC,cAAc,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC7B,iBAAiB,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAChC,gBAAgB,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IACjC;IAEA,mBAAkB,CAAA;QAChB,OAAO,yKAAC,CAAC,MAAM,CAAC,KAAK,SAAS,CAAC,CAAA;YAC7B,MAAM,EAAC,aAAa,EAAC,WAAW,EAAC,iBAAiB,EAAC,aAAa,EAAC,aAAa,EAAC,GAAG,MAAK,GAAE;YACzF,OAAM;gBACJ,GAAG,IAAI;gBACN,aAAY,CAAC,WAAW,EAAE,cAAc,CAAC,EAAE,kBAAkB,CAAC,EAAE,cAAc,CAAC,EAAE,cAAc,CAAC,EAAE,aAAa;YAClH;QACF;IACF;IACA,0BAA0B,QAAQ,GAAG;IACrC,wBAAwB;AAC1B","debugId":null}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/drizzle/schema-helpers.ts"],"sourcesContent":["import { timestamp, uuid } from \"drizzle-orm/pg-core\";\nexport const uuidId = {\n  id: uuid(\"id\").defaultRandom().primaryKey(),\n};\nexport const timestamps = {\n  createdAt: timestamp(\"created_at\", { withTimezone: true })\n    .defaultNow()\n    .notNull(),\n  updatedAt: timestamp(\"updated_at\", { withTimezone: true })\n    .defaultNow()\n    .notNull()\n    .$onUpdate(() => new Date()),\n};\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AACO,MAAM,SAAS;IACpB,IAAI,IAAA,yKAAI,EAAC,MAAM,aAAa,GAAG,UAAU;AAC3C;AACO,MAAM,aAAa;IACxB,WAAW,IAAA,mLAAS,EAAC,cAAc;QAAE,cAAc;IAAK,GACrD,UAAU,GACV,OAAO;IACV,WAAW,IAAA,mLAAS,EAAC,cAAc;QAAE,cAAc;IAAK,GACrD,UAAU,GACV,OAAO,GACP,SAAS,CAAC,IAAM,IAAI;AACzB","debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/drizzle/schema/interviews.ts"],"sourcesContent":["import { relations } from \"drizzle-orm\";\nimport { pgTable, uuid, varchar } from \"drizzle-orm/pg-core\";\n\nimport { timestamps, uuidId } from \"../schema-helpers\";\nimport { JobInfoTable } from \"./job-info\";\n\nexport const InterviewsTable = pgTable(\"interviews\", {\n  ...uuidId,\n  jobInfoId: uuid(\"job_info_id\")\n    .notNull()\n    .references(() => JobInfoTable.id, { onDelete: \"cascade\" }),\n  duration: varchar(\"duration\", { length: 255 }).notNull(),\n  humeChatId: varchar(\"hume_chat_id\", { length: 255 }).notNull(),\n  feedback: varchar(\"feedback\", { length: 2000 }),\n  ...timestamps,\n});\n\nexport const interviewRelations = relations(InterviewsTable, ({ one }) => ({\n  jobInfo: one(JobInfoTable, {\n    fields: [InterviewsTable.jobInfoId],\n    references: [JobInfoTable.id],\n  }),\n}));\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAEA;AACA;;;;;AAEO,MAAM,kBAAkB,IAAA,kKAAO,EAAC,cAAc;IACnD,GAAG,+IAAM;IACT,WAAW,IAAA,yKAAI,EAAC,eACb,OAAO,GACP,UAAU,CAAC,IAAM,yJAAY,CAAC,EAAE,EAAE;QAAE,UAAU;IAAU;IAC3D,UAAU,IAAA,+KAAO,EAAC,YAAY;QAAE,QAAQ;IAAI,GAAG,OAAO;IACtD,YAAY,IAAA,+KAAO,EAAC,gBAAgB;QAAE,QAAQ;IAAI,GAAG,OAAO;IAC5D,UAAU,IAAA,+KAAO,EAAC,YAAY;QAAE,QAAQ;IAAK;IAC7C,GAAG,mJAAU;AACf;AAEO,MAAM,qBAAqB,IAAA,0JAAS,EAAC,iBAAiB,CAAC,EAAE,GAAG,EAAE,GAAK,CAAC;QACzE,SAAS,IAAI,yJAAY,EAAE;YACzB,QAAQ;gBAAC,gBAAgB,SAAS;aAAC;YACnC,YAAY;gBAAC,yJAAY,CAAC,EAAE;aAAC;QAC/B;IACF,CAAC","debugId":null}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/drizzle/schema/questions.ts"],"sourcesContent":["import { pgEnum, pgTable, uuid, varchar } from \"drizzle-orm/pg-core\";\nimport { relations } from \"drizzle-orm\";\n\nimport { timestamps, uuidId } from \"../schema-helpers\";\nimport { JobInfoTable } from \"./job-info\";\n\nexport const questionDifficultyOptions = [\n  \"easy\",\n  \"medium\",\n  \"hard\",\n] as const;\n\nexport const questionDifficultyEnum = pgEnum(\n  \"question_difficulty\",\n  questionDifficultyOptions\n);\n\nexport const QuestionsTable = pgTable(\"questions\", {\n  ...uuidId,\n  jobInfoId: uuid(\"job_info_id\")\n    .notNull()\n    .references(() => JobInfoTable.id, { onDelete: \"cascade\" }),\n  text: varchar(\"text\", { length: 2000 }).notNull(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  difficulty: questionDifficultyEnum(\"difficulty\").notNull(),\n  ...timestamps,\n});\nexport const questionsRelations = relations(QuestionsTable, ({ one }) => ({\n  JobInfo: one(JobInfoTable, {\n    fields: [QuestionsTable.jobInfoId],\n    references: [JobInfoTable.id],\n  }),\n}));"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;;;;;AAEO,MAAM,4BAA4B;IACvC;IACA;IACA;CACD;AAEM,MAAM,yBAAyB,IAAA,2KAAM,EAC1C,uBACA;AAGK,MAAM,iBAAiB,IAAA,kKAAO,EAAC,aAAa;IACjD,GAAG,+IAAM;IACT,WAAW,IAAA,yKAAI,EAAC,eACb,OAAO,GACP,UAAU,CAAC,IAAM,yJAAY,CAAC,EAAE,EAAE;QAAE,UAAU;IAAU;IAC3D,MAAM,IAAA,+KAAO,EAAC,QAAQ;QAAE,QAAQ;IAAK,GAAG,OAAO;IAC/C,MAAM,IAAA,+KAAO,EAAC,QAAQ;QAAE,QAAQ;IAAI,GAAG,OAAO;IAC9C,YAAY,uBAAuB,cAAc,OAAO;IACxD,GAAG,mJAAU;AACf;AACO,MAAM,qBAAqB,IAAA,0JAAS,EAAC,gBAAgB,CAAC,EAAE,GAAG,EAAE,GAAK,CAAC;QACxE,SAAS,IAAI,yJAAY,EAAE;YACzB,QAAQ;gBAAC,eAAe,SAAS;aAAC;YAClC,YAAY;gBAAC,yJAAY,CAAC,EAAE;aAAC;QAC/B;IACF,CAAC","debugId":null}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/drizzle/schema/job-info.ts"],"sourcesContent":["import { relations } from \"drizzle-orm\";\n\nimport { pgEnum, pgTable, varchar } from \"drizzle-orm/pg-core\";\n\nimport { timestamps, uuidId } from \"../schema-helpers\";\nimport { UserTable } from \"./user\";\nimport { InterviewsTable } from \"./interviews\";\nimport { QuestionsTable } from \"./questions\";\n\nexport const experienceLevelOptions = [\n  \"junior\",\n  \"mid-level\",\n  \"senior\",\n] as const;\n\nexport const experienceLevelEnum = pgEnum(\n  \"experience_level\",\n  experienceLevelOptions\n);\n\nexport const JobInfoTable = pgTable(\"job_infos\", {\n  ...uuidId,\n  userId: varchar(\"user_id\", { length: 255 })\n    .notNull()\n    .references(() => UserTable.id, { onDelete: \"cascade\" }),\n  title: varchar(\"title\", { length: 255 }).notNull(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n   description: varchar().notNull(),\n  experienceLevel: experienceLevelEnum(\"experience_level\").notNull(),\n  ...timestamps,\n});\n\nexport const jobInfoRelations = relations(JobInfoTable, ({ one, many }) => ({\n  user: one(UserTable, {\n    fields: [JobInfoTable.userId],\n    references: [UserTable.id],\n  }),\n  questions:many(QuestionsTable),\n  interviews: many(InterviewsTable),\n}));\n"],"names":[],"mappings":";;;;;;AAAA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,yBAAyB;IACpC;IACA;IACA;CACD;AAEM,MAAM,sBAAsB,IAAA,2KAAM,EACvC,oBACA;AAGK,MAAM,eAAe,IAAA,kKAAO,EAAC,aAAa;IAC/C,GAAG,+IAAM;IACT,QAAQ,IAAA,+KAAO,EAAC,WAAW;QAAE,QAAQ;IAAI,GACtC,OAAO,GACP,UAAU,CAAC,IAAM,+IAAS,CAAC,EAAE,EAAE;QAAE,UAAU;IAAU;IACxD,OAAO,IAAA,+KAAO,EAAC,SAAS;QAAE,QAAQ;IAAI,GAAG,OAAO;IAChD,MAAM,IAAA,+KAAO,EAAC,QAAQ;QAAE,QAAQ;IAAI,GAAG,OAAO;IAC7C,aAAa,IAAA,+KAAO,IAAG,OAAO;IAC/B,iBAAiB,oBAAoB,oBAAoB,OAAO;IAChE,GAAG,mJAAU;AACf;AAEO,MAAM,mBAAmB,IAAA,0JAAS,EAAC,cAAc,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,GAAK,CAAC;QAC1E,MAAM,IAAI,+IAAS,EAAE;YACnB,QAAQ;gBAAC,aAAa,MAAM;aAAC;YAC7B,YAAY;gBAAC,+IAAS,CAAC,EAAE;aAAC;QAC5B;QACA,WAAU,KAAK,yJAAc;QAC7B,YAAY,KAAK,2JAAe;IAClC,CAAC","debugId":null}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/drizzle/schema/user.ts"],"sourcesContent":["import { relations } from \"drizzle-orm\";\nimport { pgTable, varchar } from \"drizzle-orm/pg-core\";\n\nimport { timestamps } from \"../schema-helpers\";\nimport { JobInfoTable } from \"./job-info\";\n\nexport const UserTable = pgTable(\"users\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  imageUrl: varchar(\"image_url\", { length: 2048 }).notNull(),\n  email: varchar(\"email\", { length: 255 }).notNull().unique(),\n  ...timestamps,\n});\n\nexport const userRelations = relations(UserTable, ({ many }) => ({\n  jobInfos: many(JobInfoTable),\n}));\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAEA;AACA;;;;;AAEO,MAAM,YAAY,IAAA,kKAAO,EAAC,SAAS;IACxC,IAAI,IAAA,+KAAO,EAAC,MAAM;QAAE,QAAQ;IAAI,GAAG,UAAU;IAC7C,MAAM,IAAA,+KAAO,EAAC,QAAQ;QAAE,QAAQ;IAAI,GAAG,OAAO;IAC9C,UAAU,IAAA,+KAAO,EAAC,aAAa;QAAE,QAAQ;IAAK,GAAG,OAAO;IACxD,OAAO,IAAA,+KAAO,EAAC,SAAS;QAAE,QAAQ;IAAI,GAAG,OAAO,GAAG,MAAM;IACzD,GAAG,mJAAU;AACf;AAEO,MAAM,gBAAgB,IAAA,0JAAS,EAAC,WAAW,CAAC,EAAE,IAAI,EAAE,GAAK,CAAC;QAC/D,UAAU,KAAK,yJAAY;IAC7B,CAAC","debugId":null}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/drizzle/schema.ts"],"sourcesContent":["export * from \"./schema/user\";\nexport * from \"./schema/job-info\";\nexport * from \"./schema/questions\";\nexport * from \"./schema/interviews\";\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/drizzle/db.ts"],"sourcesContent":["import { drizzle } from \"drizzle-orm/node-postgres\";\nimport { Pool } from \"pg\";\n\nimport { serverEnv } from \"@/data/env/server\";\nimport * as schema from \"./schema\";\n\nconst pool = new Pool({\n  connectionString: serverEnv.DATABSE_URL,\n});\n\nexport const db = drizzle(pool, { schema });\n"],"names":[],"mappings":";;;AAAA;AACA;AAEA;AACA;AAAA;;;;;;;;;;AAEA,MAAM,OAAO,IAAI,4GAAI,CAAC;IACpB,kBAAkB,2IAAS,CAAC,WAAW;AACzC;AAEO,MAAM,KAAK,IAAA,yKAAO,EAAC,MAAM;IAAE,QAAA;AAAO","debugId":null}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/lib/dataCache.ts"],"sourcesContent":["type CacheTag = \"users\" | \"jobInfos\" | \"interviews\" | \"questions\"\n\nexport function getGlobalTag(tag: CacheTag) {\n  return `global:${tag}` as const\n}\n\nexport function getUserTag(tag: CacheTag, userId: string) {\n  return `user:${userId}:${tag}` as const\n}\n\nexport function getJobInfoTag(tag: CacheTag, jobInfoId: string) {\n  return `jobInfo:${jobInfoId}:${tag}` as const\n}\n\nexport function getIdTag(tag: CacheTag, id: string) {\n  return `id:${id}:${tag}` as const\n}"],"names":[],"mappings":";;;;;;AAEO,SAAS,aAAa,GAAa;IACxC,OAAO,CAAC,OAAO,EAAE,KAAK;AACxB;AAEO,SAAS,WAAW,GAAa,EAAE,MAAc;IACtD,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,KAAK;AAChC;AAEO,SAAS,cAAc,GAAa,EAAE,SAAiB;IAC5D,OAAO,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE,KAAK;AACtC;AAEO,SAAS,SAAS,GAAa,EAAE,EAAU;IAChD,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,KAAK;AAC1B","debugId":null}},
    {"offset": {"line": 466, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/features/jobinfos/dbCache.ts"],"sourcesContent":["import { getGlobalTag, getIdTag, getUserTag } from \"@/lib/dataCache\"\nimport { revalidateTag } from \"next/cache\"\n\nexport function getJobInfoGlobalTag() {\n  return getGlobalTag(\"jobInfos\")\n}\n\nexport function getJobInfoUserTag(userId: string) {\n  return getUserTag(\"jobInfos\", userId)\n}\n\nexport function getJobInfoIdTag(id: string) {\n  return getIdTag(\"jobInfos\", id)\n}\n\nexport function revalidateJobInfoCache({\n  id,\n  userId,\n}: {\n  id: string\n  userId: string\n}) {\n  revalidateTag(getJobInfoGlobalTag())\n  revalidateTag(getJobInfoUserTag(userId))\n  revalidateTag(getJobInfoIdTag(id))\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,IAAA,yIAAY,EAAC;AACtB;AAEO,SAAS,kBAAkB,MAAc;IAC9C,OAAO,IAAA,uIAAU,EAAC,YAAY;AAChC;AAEO,SAAS,gBAAgB,EAAU;IACxC,OAAO,IAAA,qIAAQ,EAAC,YAAY;AAC9B;AAEO,SAAS,uBAAuB,EACrC,EAAE,EACF,MAAM,EAIP;IACC,IAAA,gJAAa,EAAC;IACd,IAAA,gJAAa,EAAC,kBAAkB;IAChC,IAAA,gJAAa,EAAC,gBAAgB;AAChC","debugId":null}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/services/lib/hasPermission.ts"],"sourcesContent":["import { auth } from \"@clerk/nextjs/server\"\n\ntype Permission =\n  | \"unlimited_resume_analysis\"\n  | \"unlimited_interviews\"\n  | \"unlimited_questions\"\n  | \"1_interview\"\n  | \"5_questions\"\n\nexport async function hasPermission(permission: Permission) {\n  const { has } = await auth()\n  return has({ feature: permission })\n}"],"names":[],"mappings":";;;AAAA;;AASO,eAAe,cAAc,UAAsB;IACxD,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,IAAA,6LAAI;IAC1B,OAAO,IAAI;QAAE,SAAS;IAAW;AACnC","debugId":null}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/features/resumeAnalyses/permissions.ts"],"sourcesContent":["import { hasPermission } from \"@/services/lib/hasPermission\"\n\nexport async function canRunResumeAnalysis() {\n  return hasPermission(\"unlimited_resume_analysis\")\n}"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe;IACpB,OAAO,IAAA,0JAAa,EAAC;AACvB","debugId":null}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/lib/errorToast.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PLAN_LIMIT_MESSAGE = registerClientReference(\n    function() { throw new Error(\"Attempted to call PLAN_LIMIT_MESSAGE() from the server but PLAN_LIMIT_MESSAGE is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/errorToast.tsx <module evaluation>\",\n    \"PLAN_LIMIT_MESSAGE\",\n);\nexport const errorToast = registerClientReference(\n    function() { throw new Error(\"Attempted to call errorToast() from the server but errorToast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/errorToast.tsx <module evaluation>\",\n    \"errorToast\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,qBAAqB,IAAA,0QAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,wDACA;AAEG,MAAM,aAAa,IAAA,0QAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,wDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 554, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/lib/errorToast.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PLAN_LIMIT_MESSAGE = registerClientReference(\n    function() { throw new Error(\"Attempted to call PLAN_LIMIT_MESSAGE() from the server but PLAN_LIMIT_MESSAGE is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/errorToast.tsx\",\n    \"PLAN_LIMIT_MESSAGE\",\n);\nexport const errorToast = registerClientReference(\n    function() { throw new Error(\"Attempted to call errorToast() from the server but errorToast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/errorToast.tsx\",\n    \"errorToast\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,qBAAqB,IAAA,0QAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,oCACA;AAEG,MAAM,aAAa,IAAA,0QAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,oCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 579, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/services/ai/models/google.ts"],"sourcesContent":["import { serverEnv} from \"@/data/env/server\"\nimport { createGoogleGenerativeAI } from \"@ai-sdk/google\"\n\nexport const google = createGoogleGenerativeAI({\n  apiKey: serverEnv.GEMINI_API_KEY,\n})"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,SAAS,IAAA,qLAAwB,EAAC;IAC7C,QAAQ,2IAAS,CAAC,cAAc;AAClC","debugId":null}},
    {"offset": {"line": 593, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/services/ai/resumes/schemas.ts"],"sourcesContent":["import z from \"zod\"\n\nconst categorySchema = z.object({\n  score: z.number().min(0).max(10).describe(\"Score of the category from 1-10\"),\n  summary: z.string().describe(\"Short summary of the category\"),\n  feedback: z\n    .array(\n      z.object({\n        type: z.enum([\"strength\", \"minor-improvement\", \"major-improvement\"]),\n        name: z.string().describe(\"Name of the feedback\"),\n        message: z.string().describe(\"Description of the feedback\"),\n      })\n    )\n    .describe(\"Specific feedback on positives and negatives\"),\n})\n\nexport const aiAnalyzeSchema = z.object({\n  overallScore: z\n    .number()\n    .min(0)\n    .max(10)\n    .describe(\"Overall score of the resume\"),\n  ats: categorySchema.describe(\n    \"Analysis of how well the resume matches ATS requirements\"\n  ),\n  jobMatch: categorySchema.describe(\n    \"Analysis of how well the resume matches the job requirements\"\n  ),\n  writingAndFormatting: categorySchema.describe(\n    \"Analysis of the writing quality and formatting of the resume (taking into account the job requirements)\"\n  ),\n  keywordCoverage: categorySchema.describe(\n    \"Analysis of the keyword coverage in the resume (taking into account the job requirements)\"\n  ),\n  other: categorySchema.describe(\n    \"Any other relevant analysis not covered by the above categories\"\n  ),\n})"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,iBAAiB,yJAAC,CAAC,MAAM,CAAC;IAC9B,OAAO,yJAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,QAAQ,CAAC;IAC1C,SAAS,yJAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC7B,UAAU,yJAAC,CACR,KAAK,CACJ,yJAAC,CAAC,MAAM,CAAC;QACP,MAAM,yJAAC,CAAC,IAAI,CAAC;YAAC;YAAY;YAAqB;SAAoB;QACnE,MAAM,yJAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QAC1B,SAAS,yJAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC/B,IAED,QAAQ,CAAC;AACd;AAEO,MAAM,kBAAkB,yJAAC,CAAC,MAAM,CAAC;IACtC,cAAc,yJAAC,CACZ,MAAM,GACN,GAAG,CAAC,GACJ,GAAG,CAAC,IACJ,QAAQ,CAAC;IACZ,KAAK,eAAe,QAAQ,CAC1B;IAEF,UAAU,eAAe,QAAQ,CAC/B;IAEF,sBAAsB,eAAe,QAAQ,CAC3C;IAEF,iBAAiB,eAAe,QAAQ,CACtC;IAEF,OAAO,eAAe,QAAQ,CAC5B;AAEJ","debugId":null}},
    {"offset": {"line": 623, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/services/ai/resumes/ai.ts"],"sourcesContent":["import { JobInfoTable } from \"@/drizzle/schema\"\nimport { streamObject } from \"ai\"\nimport { google } from \"../models/google\"\nimport { aiAnalyzeSchema } from \"./schemas\"\n\nexport async function analyzeResumeForJob({\n  resumeFile,\n  jobInfo,\n}: {\n  resumeFile: File\n  jobInfo: Pick<\n    typeof JobInfoTable.$inferSelect,\n    \"title\" | \"experienceLevel\" | \"description\"\n  >\n}) {\n  return streamObject({\n    model: google(\"gemini-2.5-flash\"),\n    schema: aiAnalyzeSchema,\n    messages: [\n      {\n        role: \"user\",\n        content: [\n          {\n            type: \"file\",\n            data: await resumeFile.arrayBuffer(),\n            mimeType: resumeFile.type,\n          },\n        ],\n      },\n    ],\n    system: `You are an expert resume reviewer and hiring advisor.\n\nYou will receive a candidate's resume as a file in the user prompt. This resume is being used to apply for a job with the following information:\n\nJob Description:\n\\`\\`\\`\n${jobInfo.description}\n\\`\\`\\`\nExperience Level: ${jobInfo.experienceLevel}\n${jobInfo.title ? `\\nJob Title: ${jobInfo.title}` : \"\"}\n\nYour task is to evaluate the resume against the job requirements and provide structured feedback using the following categories:\n\n1. **ats** - Analysis of how well the resume matches ATS (Applicant Tracking System) requirements.\n   - Consider layout simplicity, use of standard section headings, avoidance of graphics or columns, consistent formatting, etc.\n\n2. **jobMatch** - Analysis of how well the resume aligns with the job description and experience level.\n   - Assess skills, technologies, achievements, and relevance.\n\n3. **writingAndFormatting** - Analysis of the writing quality, tone, grammar, clarity, and formatting.\n   - Comment on structure, readability, section organization, and consistency.\n   - Be sure to consider the wording and formatting of the job description when evaluating the resume so you can recommend specific wording or formatting changes that would improve the resume's alignment with the job requirements.\n\n4. **keywordCoverage** - Analysis of how well the resume includes keywords or terminology from the job description.\n   - Highlight missing or well-used terms that might help with ATS matching and recruiter readability.\n   - Be sure to consider the keywords used in the job description when evaluating the resume so you can recommend specific keywords that would improve the resume's alignment with the job requirements.\n\n5. **other** - Any other relevant feedback not captured above.\n   - This may include things like missing contact info, outdated technologies, major red flags, or career gaps.\n\nFor each category, return:\n- \\`score\\` (1-10): A number rating the resume in that category.\n- \\`summary\\`: A short, high-level summary of your evaluation.\n- \\`feedback\\`: An array of structured feedback items:\n  - \\`type\\`: One of \\`\"strength\"\\`, \\`\"minor-improvement\"\\`, or \\`\"major-improvement\"\\`\n  - \\`name\\`: A label for the feedback item.\n  - \\`message\\`: A specific and helpful explanation or recommendation.\n\nAlso return an overall score for the resume from 1-10 based on your analysis.\n\nOnly return the structured JSON response as defined by the schema. Do not include explanations, markdown, or extra commentary outside the defined format.\n\nOther Guidelines:\n- Tailor your analysis and feedback to the specific job description and experience level provided.\n- Be clear, constructive, and actionable. The goal is to help the candidate improve their resume so it is ok to be critical.\n- Refer to the candidate as \"you\" in your feedback. This feedback should be written as if you were speaking directly to the candidate.\n- Stop generating output as soon you have provided the full feedback.\n`,\n  })\n}"],"names":[],"mappings":";;;AACA;AACA;AACA;;;;AAEO,eAAe,oBAAoB,EACxC,UAAU,EACV,OAAO,EAOR;IACC,OAAO,IAAA,sKAAY,EAAC;QAClB,OAAO,IAAA,qJAAM,EAAC;QACd,QAAQ,gKAAe;QACvB,UAAU;YACR;gBACE,MAAM;gBACN,SAAS;oBACP;wBACE,MAAM;wBACN,MAAM,MAAM,WAAW,WAAW;wBAClC,UAAU,WAAW,IAAI;oBAC3B;iBACD;YACH;SACD;QACD,QAAQ,CAAC;;;;;;AAMb,EAAE,QAAQ,WAAW,CAAC;;kBAEJ,EAAE,QAAQ,eAAe,CAAC;AAC5C,EAAE,QAAQ,KAAK,GAAG,CAAC,aAAa,EAAE,QAAQ,KAAK,EAAE,GAAG,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCvD,CAAC;IACC;AACF","debugId":null}},
    {"offset": {"line": 702, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/features/users/dbCache.ts"],"sourcesContent":["import { getGlobalTag, getIdTag } from \"../../lib/dataCache\"\nimport { revalidateTag } from \"next/cache\"\n\nexport function getUserGlobalTag() {\n  return getGlobalTag(\"users\")\n}\n\nexport function getUserIdTag(id: string) {\n  return getIdTag(\"users\", id)\n}\n\nexport function revalidateUserCache(id: string) {\n  revalidateTag(getUserGlobalTag())\n  revalidateTag(getUserIdTag(id))\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,IAAA,yIAAY,EAAC;AACtB;AAEO,SAAS,aAAa,EAAU;IACrC,OAAO,IAAA,qIAAQ,EAAC,SAAS;AAC3B;AAEO,SAAS,oBAAoB,EAAU;IAC5C,IAAA,gJAAa,EAAC;IACd,IAAA,gJAAa,EAAC,aAAa;AAC7B","debugId":null}},
    {"offset": {"line": 727, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/services/lib/getcurrentUser.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\nimport { UserTable } from \"@/drizzle/schema\"\nimport { getUserIdTag } from \"@/features/users/dbCache\"\nimport { auth } from \"@clerk/nextjs/server\"\nimport { eq } from \"drizzle-orm\"\nimport { cacheTag } from \"next/dist/server/use-cache/cache-tag\"\n\nexport async function getCurrentUser({ allData = false } = {}) {\n  const { userId, redirectToSignIn } = await auth()\n\n  return {\n    userId,\n    redirectToSignIn,\n    user: allData && userId != null ? await getUser(userId) : undefined,\n  }\n}\n\nasync function getUser(id: string) {\n  \"use cache\"\n  cacheTag(getUserIdTag(id))\n\n  return db.query.UserTable.findFirst({\n    where: eq(UserTable.id, id),\n  })\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAEO,eAAe,eAAe,EAAE,UAAU,KAAK,EAAE,GAAG,CAAC,CAAC;IAC3D,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,GAAG,MAAM,IAAA,6LAAI;IAE/C,OAAO;QACL;QACA;QACA,MAAM,WAAW,UAAU,OAAO,MAAM,QAAQ,UAAU;IAC5D;AACF;IAEA,+SAAA,eAAe,QAAQ,EAAU;IAE/B,IAAA,oLAAQ,EAAC,IAAA,qJAAY,EAAC;IAEtB,OAAO,4HAAE,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC;QAClC,OAAO,IAAA,0KAAE,EAAC,+IAAS,CAAC,EAAE,EAAE;IAC1B;AACF;;;;;;IAPe","debugId":null}},
    {"offset": {"line": 779, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/app/api/ai/resume/analyze/route.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\nimport { JobInfoTable } from \"@/drizzle/schema\"\nimport { getJobInfoIdTag } from \"@/features/jobinfos/dbCache\"\nimport { canRunResumeAnalysis } from \"@/features/resumeAnalyses/permissions\"\nimport { PLAN_LIMIT_MESSAGE } from \"@/lib/errorToast\"\nimport { analyzeResumeForJob } from \"@/services/ai/resumes/ai\"\nimport { getCurrentUser } from \"@/services/lib/getcurrentUser\"\nimport { and, eq } from \"drizzle-orm\"\nimport { cacheTag } from \"next/dist/server/use-cache/cache-tag\"\n\nexport async function POST(req: Request) {\n  const { userId } = await getCurrentUser()\n\n  if (userId == null) {\n    return new Response(\"You are not logged in\", { status: 401 })\n  }\n\n  const formData = await req.formData()\n  const resumeFile = formData.get(\"resumeFile\") as File\n  const jobInfoId = formData.get(\"jobInfoId\") as string\n\n  if (!resumeFile || !jobInfoId) {\n    return new Response(\"Invalid request\", { status: 400 })\n  }\n\n  if (resumeFile.size > 10 * 1024 * 1024) {\n    return new Response(\"File size exceeds 10MB limit\", { status: 400 })\n  }\n\n  const allowedTypes = [\n    \"application/pdf\",\n    \"application/msword\",\n    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n    \"text/plain\",\n  ]\n\n  if (!allowedTypes.includes(resumeFile.type)) {\n    return new Response(\"Please upload a PDF, Word document, or text file\", {\n      status: 400,\n    })\n  }\n\n  const jobInfo = await getJobInfo(jobInfoId, userId)\n  if (jobInfo == null) {\n    return new Response(\"You do not have permission to do this\", {\n      status: 403,\n    })\n  }\n\n  if (!(await canRunResumeAnalysis())) {\n    return new Response(PLAN_LIMIT_MESSAGE, { status: 403 })\n  }\n\n  const res = await analyzeResumeForJob({\n    resumeFile,\n    jobInfo,\n  })\n\n  return res.toTextStreamResponse()\n}\n\nasync function getJobInfo(id: string, userId: string) {\n  \"use cache\"\n  cacheTag(getJobInfoIdTag(id))\n\n  return db.query.JobInfoTable.findFirst({\n    where: and(eq(JobInfoTable.id, id), eq(JobInfoTable.userId, userId)),\n  })\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAEO,eAAe,KAAK,GAAY;IACrC,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAA,4JAAc;IAEvC,IAAI,UAAU,MAAM;QAClB,OAAO,IAAI,SAAS,yBAAyB;YAAE,QAAQ;QAAI;IAC7D;IAEA,MAAM,WAAW,MAAM,IAAI,QAAQ;IACnC,MAAM,aAAa,SAAS,GAAG,CAAC;IAChC,MAAM,YAAY,SAAS,GAAG,CAAC;IAE/B,IAAI,CAAC,cAAc,CAAC,WAAW;QAC7B,OAAO,IAAI,SAAS,mBAAmB;YAAE,QAAQ;QAAI;IACvD;IAEA,IAAI,WAAW,IAAI,GAAG,KAAK,OAAO,MAAM;QACtC,OAAO,IAAI,SAAS,gCAAgC;YAAE,QAAQ;QAAI;IACpE;IAEA,MAAM,eAAe;QACnB;QACA;QACA;QACA;KACD;IAED,IAAI,CAAC,aAAa,QAAQ,CAAC,WAAW,IAAI,GAAG;QAC3C,OAAO,IAAI,SAAS,oDAAoD;YACtE,QAAQ;QACV;IACF;IAEA,MAAM,UAAU,MAAM,WAAW,WAAW;IAC5C,IAAI,WAAW,MAAM;QACnB,OAAO,IAAI,SAAS,yCAAyC;YAC3D,QAAQ;QACV;IACF;IAEA,IAAI,CAAE,MAAM,IAAA,0KAAoB,KAAK;QACnC,OAAO,IAAI,SAAS,iJAAkB,EAAE;YAAE,QAAQ;QAAI;IACxD;IAEA,MAAM,MAAM,MAAM,IAAA,+JAAmB,EAAC;QACpC;QACA;IACF;IAEA,OAAO,IAAI,oBAAoB;AACjC;IAEA,+SAAA,eAAe,WAAW,EAAU,EAAE,MAAc;IAElD,IAAA,oLAAQ,EAAC,IAAA,2JAAe,EAAC;IAEzB,OAAO,4HAAE,CAAC,KAAK,CAAC,YAAY,CAAC,SAAS,CAAC;QACrC,OAAO,IAAA,2KAAG,EAAC,IAAA,0KAAE,EAAC,yJAAY,CAAC,EAAE,EAAE,KAAK,IAAA,0KAAE,EAAC,yJAAY,CAAC,MAAM,EAAE;IAC9D;AACF;;;;;;IAPe","debugId":null}}]
}
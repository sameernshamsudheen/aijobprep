{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/features/jobInfos/dbCache.ts"],"sourcesContent":["import { getGlobalTag, getIdTag, getUserTag } from \"@/lib/dataCache\"\nimport { revalidateTag } from \"next/cache\"\n\nexport function getJobInfoGlobalTag() {\n  return getGlobalTag(\"jobInfos\")\n}\n\nexport function getJobInfoUserTag(userId: string) {\n  return getUserTag(\"jobInfos\", userId)\n}\n\nexport function getJobInfoIdTag(id: string) {\n  return getIdTag(\"jobInfos\", id)\n}\n\nexport function revalidateJobInfoCache({\n  id,\n  userId,\n}: {\n  id: string\n  userId: string\n}) {\n  revalidateTag(getJobInfoGlobalTag())\n  revalidateTag(getJobInfoUserTag(userId))\n  revalidateTag(getJobInfoIdTag(id))\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,IAAA,uIAAY,EAAC;AACtB;AAEO,SAAS,kBAAkB,MAAc;IAC9C,OAAO,IAAA,qIAAU,EAAC,YAAY;AAChC;AAEO,SAAS,gBAAgB,EAAU;IACxC,OAAO,IAAA,mIAAQ,EAAC,YAAY;AAC9B;AAEO,SAAS,uBAAuB,EACrC,EAAE,EACF,MAAM,EAIP;IACC,IAAA,8IAAa,EAAC;IACd,IAAA,8IAAa,EAAC,kBAAkB;IAChC,IAAA,8IAAa,EAAC,gBAAgB;AAChC","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/app/app/job-infos/%5BjobInfoId%5D/questions/_NewQuestionClientPage.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const NewQuestionClientPage = registerClientReference(\n    function() { throw new Error(\"Attempted to call NewQuestionClientPage() from the server but NewQuestionClientPage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/app/job-infos/[jobInfoId]/questions/_NewQuestionClientPage.tsx <module evaluation>\",\n    \"NewQuestionClientPage\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;AACvE;;AACO,MAAM,wBAAwB,IAAA,wQAAuB,EACxD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,wGACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/app/app/job-infos/%5BjobInfoId%5D/questions/_NewQuestionClientPage.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const NewQuestionClientPage = registerClientReference(\n    function() { throw new Error(\"Attempted to call NewQuestionClientPage() from the server but NewQuestionClientPage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/app/job-infos/[jobInfoId]/questions/_NewQuestionClientPage.tsx\",\n    \"NewQuestionClientPage\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;AACvE;;AACO,MAAM,wBAAwB,IAAA,wQAAuB,EACxD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,oFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/app/app/job-infos/%5BjobInfoId%5D/questions/page.tsx"],"sourcesContent":["import { db } from \"@/drizzle/db\"\nimport { JobInfoTable } from \"@/drizzle/schema\"\nimport { getJobInfoIdTag } from \"@/features/jobInfos/dbCache\"\nimport { canCreateQuestion } from \"@/features/questions/permissions\"\nimport { getCurrentUser } from \"@/services/clerk/lib/getCurrentUser\"\nimport { and, eq } from \"drizzle-orm\"\nimport { Loader2Icon } from \"lucide-react\"\nimport { cacheTag } from \"next/dist/server/use-cache/cache-tag\"\nimport { notFound, redirect } from \"next/navigation\"\nimport { Suspense } from \"react\"\nimport { NewQuestionClientPage } from \"./_NewQuestionClientPage\"\n\nexport default async function QuestionsPage({\n  params,\n}: {\n  params: Promise<{ jobInfoId: string }>\n}) {\n  const { jobInfoId } = await params\n\n  return (\n    <Suspense\n      fallback={\n        <div className=\"h-screen-header flex items-center justify-center\">\n          <Loader2Icon className=\"animate-spin size-24\" />\n        </div>\n      }\n    >\n      <SuspendedComponent jobInfoId={jobInfoId} />\n    </Suspense>\n  )\n}\n\nasync function SuspendedComponent({ jobInfoId }: { jobInfoId: string }) {\n  const { userId, redirectToSignIn } = await getCurrentUser()\n  if (userId == null) return redirectToSignIn()\n\n  if (!(await canCreateQuestion())) return redirect(\"/app/upgrade\")\n\n  const jobInfo = await getJobInfo(jobInfoId, userId)\n  if (jobInfo == null) return notFound()\n\n  return <NewQuestionClientPage jobInfo={jobInfo} />\n}\n\nasync function getJobInfo(id: string, userId: string) {\n  \"use cache\"\n  cacheTag(getJobInfoIdTag(id))\n\n  return db.query.JobInfoTable.findFirst({\n    where: and(eq(JobInfoTable.id, id), eq(JobInfoTable.userId, userId)),\n  })\n}"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;AACA;;;;;;;;;;;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;AAEe,eAAe,cAAc,EAC1C,MAAM,EAGP;IACC,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM;IAE5B,qBACE,8OAAC,iNAAQ;QACP,wBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,oOAAW;gBAAC,WAAU;;;;;;;;;;;kBAI3B,cAAA,8OAAC;YAAmB,WAAW;;;;;;;;;;;AAGrC;AAEA,eAAe,mBAAmB,EAAE,SAAS,EAAyB;IACpE,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,GAAG,MAAM;IAC3C,IAAI,UAAU,MAAM,OAAO;IAE3B,IAAI,CAAE,MAAM,qBAAsB,OAAO,IAAA,iMAAQ,EAAC;IAElD,MAAM,UAAU,MAAM,WAAW,WAAW;IAC5C,IAAI,WAAW,MAAM,OAAO,IAAA,iMAAQ;IAEpC,qBAAO,8OAAC,mNAAqB;QAAC,SAAS;;;;;;AACzC;IAEA,6SAAA,eAAe,WAAW,EAAU,EAAE,MAAc;IAElD,IAAA,kLAAQ,EAAC,IAAA,yJAAe,EAAC;IAEzB,OAAO,0HAAE,CAAC,KAAK,CAAC,YAAY,CAAC,SAAS,CAAC;QACrC,OAAO,IAAA,yKAAG,EAAC,IAAA,wKAAE,EAAC,uJAAY,CAAC,EAAE,EAAE,KAAK,IAAA,wKAAE,EAAC,uJAAY,CAAC,MAAM,EAAE;IAC9D;AACF;;;;;;IAPe","debugId":null}}]
}
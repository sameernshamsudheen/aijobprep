{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\n        \"rounded-lg border border-slate-200 bg-white text-slate-950 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n);\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-slate-500\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;AAIf,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,sDAAsD;QACnE,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,0BAA0B;QACvC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/features/interviews/dbCache.ts"],"sourcesContent":["import { getGlobalTag, getIdTag, getJobInfoTag } from \"@/lib/dataCache\"\nimport { revalidateTag } from \"next/cache\"\n\nexport function getInterviewGlobalTag() {\n  return getGlobalTag(\"interviews\")\n}\n\nexport function getInterviewJobInfoTag(jobInfoId: string) {\n  return getJobInfoTag(\"interviews\", jobInfoId)\n}\n\nexport function getInterviewIdTag(id: string) {\n  return getIdTag(\"interviews\", id)\n}\n\nexport function revalidateInterviewCache({\n  id,\n  jobInfoId,\n}: {\n  id: string\n  jobInfoId: string\n}) {\n  revalidateTag(getInterviewGlobalTag())\n  revalidateTag(getInterviewJobInfoTag(jobInfoId))\n  revalidateTag(getInterviewIdTag(id))\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,IAAA,uIAAY,EAAC;AACtB;AAEO,SAAS,uBAAuB,SAAiB;IACtD,OAAO,IAAA,wIAAa,EAAC,cAAc;AACrC;AAEO,SAAS,kBAAkB,EAAU;IAC1C,OAAO,IAAA,mIAAQ,EAAC,cAAc;AAChC;AAEO,SAAS,yBAAyB,EACvC,EAAE,EACF,SAAS,EAIV;IACC,IAAA,8IAAa,EAAC;IACd,IAAA,8IAAa,EAAC,uBAAuB;IACrC,IAAA,8IAAa,EAAC,kBAAkB;AAClC","debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/components/BackLInk.tsx"],"sourcesContent":["\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"./ui/button\"\nimport Link from \"next/link\"\nimport { ArrowLeftIcon } from \"lucide-react\"\n\nexport function BackLink({\n  href,\n  children,\n  className,\n}: {\n  href: string\n  children: React.ReactNode\n  className?: string\n}) {\n  return (\n    <Button\n      asChild\n      variant=\"ghost\"\n      size=\"sm\"\n      className={cn(\"-ml-3\", className)}\n    >\n      <Link\n        href={href}\n        className=\"flex gap-2 items-center text-sm text-muted-foreground\"\n      >\n        <ArrowLeftIcon />\n        {children}\n      </Link>\n    </Button>\n  )\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;;;;AAEO,SAAS,SAAS,EACvB,IAAI,EACJ,QAAQ,EACR,SAAS,EAKV;IACC,qBACE,8OAAC,4IAAM;QACL,OAAO;QACP,SAAQ;QACR,MAAK;QACL,WAAW,IAAA,yHAAE,EAAC,SAAS;kBAEvB,cAAA,8OAAC,uKAAI;YACH,MAAM;YACN,WAAU;;8BAEV,8OAAC,qOAAa;;;;;gBACb;;;;;;;;;;;;AAIT","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/features/jobinfos/dbCache.ts"],"sourcesContent":["import { getGlobalTag, getIdTag, getUserTag } from \"@/lib/dataCache\"\nimport { revalidateTag } from \"next/cache\"\n\nexport function getJobInfoGlobalTag() {\n  return getGlobalTag(\"jobInfos\")\n}\n\nexport function getJobInfoUserTag(userId: string) {\n  return getUserTag(\"jobInfos\", userId)\n}\n\nexport function getJobInfoIdTag(id: string) {\n  return getIdTag(\"jobInfos\", id)\n}\n\nexport function revalidateJobInfoCache({\n  id,\n  userId,\n}: {\n  id: string\n  userId: string\n}) {\n  revalidateTag(getJobInfoGlobalTag())\n  revalidateTag(getJobInfoUserTag(userId))\n  revalidateTag(getJobInfoIdTag(id))\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,IAAA,uIAAY,EAAC;AACtB;AAEO,SAAS,kBAAkB,MAAc;IAC9C,OAAO,IAAA,qIAAU,EAAC,YAAY;AAChC;AAEO,SAAS,gBAAgB,EAAU;IACxC,OAAO,IAAA,mIAAQ,EAAC,YAAY;AAC9B;AAEO,SAAS,uBAAuB,EACrC,EAAE,EACF,MAAM,EAIP;IACC,IAAA,8IAAa,EAAC;IACd,IAAA,8IAAa,EAAC,kBAAkB;IAChC,IAAA,8IAAa,EAAC,gBAAgB;AAChC","debugId":null}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/features/jobinfos/components/JobinfoBackLink.tsx"],"sourcesContent":["\nimport { BackLink } from \"@/components/BackLInk\"\nimport { db } from \"@/drizzle/db\"\nimport { JobInfoTable } from \"@/drizzle/schema\"\nimport { cn } from \"@/lib/utils\"\nimport { eq } from \"drizzle-orm\"\nimport { cacheTag } from \"next/dist/server/use-cache/cache-tag\"\nimport { Suspense } from \"react\"\nimport { getJobInfoIdTag } from \"../dbCache\"\n\nexport function JobInfoBackLink({\n  jobInfoId,\n  className,\n}: {\n  jobInfoId: string\n  className?: string\n}) {\n  return (\n    <BackLink\n      href={`/app/job-infos/${jobInfoId}`}\n      className={cn(\"mb-4\", className)}\n    >\n      <Suspense fallback=\"Job Description\">\n        <JobName jobInfoId={jobInfoId} />\n      </Suspense>\n    </BackLink>\n  )\n}\n\nasync function JobName({ jobInfoId }: { jobInfoId: string }) {\n  const jobInfo = await getJobInfo(jobInfoId)\n  return jobInfo?.name ?? \"Job Description\"\n}\n\nasync function getJobInfo(id: string) {\n  \"use cache\"\n  cacheTag(getJobInfoIdTag(id))\n\n  return db.query.JobInfoTable.findFirst({\n    where: eq(JobInfoTable.id, id),\n  })\n}\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AAEO,SAAS,gBAAgB,EAC9B,SAAS,EACT,SAAS,EAIV;IACC,qBACE,8OAAC,0IAAQ;QACP,MAAM,CAAC,eAAe,EAAE,WAAW;QACnC,WAAW,IAAA,yHAAE,EAAC,QAAQ;kBAEtB,cAAA,8OAAC,iNAAQ;YAAC,UAAS;sBACjB,cAAA,8OAAC;gBAAQ,WAAW;;;;;;;;;;;;;;;;AAI5B;AAEA,eAAe,QAAQ,EAAE,SAAS,EAAyB;IACzD,MAAM,UAAU,MAAM,WAAW;IACjC,OAAO,SAAS,QAAQ;AAC1B;IAEA,6SAAA,eAAe,WAAW,EAAU;IAElC,IAAA,kLAAQ,EAAC,IAAA,yJAAe,EAAC;IAEzB,OAAO,0HAAE,CAAC,KAAK,CAAC,YAAY,CAAC,SAAS,CAAC;QACrC,OAAO,IAAA,wKAAE,EAAC,uJAAY,CAAC,EAAE,EAAE;IAC7B;AACF;;;;;;IAPe","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/lib/formatters.ts"],"sourcesContent":["const DATE_TIME_FORMATTER = new Intl.DateTimeFormat(undefined, {\n  dateStyle: \"medium\",\n  timeStyle: \"short\",\n})\nexport function formatDateTime(date: Date) {\n  return DATE_TIME_FORMATTER.format(date)\n}"],"names":[],"mappings":";;;AAAA,MAAM,sBAAsB,IAAI,KAAK,cAAc,CAAC,WAAW;IAC7D,WAAW;IACX,WAAW;AACb;AACO,SAAS,eAAe,IAAU;IACvC,OAAO,oBAAoB,MAAM,CAAC;AACpC","debugId":null}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///Users/sameershamsudheen/aijobprep/src/app/app/job-infos/%5BjobInfoId%5D/interviews/page.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\"\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\"\nimport { db } from \"@/drizzle/db\"\nimport { InterviewsTable } from \"@/drizzle/schema\"\nimport { getInterviewJobInfoTag } from \"@/features/interviews/dbCache\"\nimport { JobInfoBackLink } from \"@/features/jobinfos/components/JobinfoBackLink\"\nimport { getJobInfoIdTag } from \"@/features/jobinfos/dbCache\"\nimport { formatDateTime } from \"@/lib/formatters\"\nimport { getCurrentUser } from \"@/services/lib/getcurrentUser\"\nimport { and, desc, eq, isNotNull } from \"drizzle-orm\"\nimport { ArrowRightIcon, Loader2Icon, PlusIcon } from \"lucide-react\"\nimport { cacheTag } from \"next/dist/server/use-cache/cache-tag\"\nimport Link from \"next/link\"\nimport { redirect } from \"next/navigation\"\nimport { Suspense } from \"react\"\n\nexport default async function InterviewsPage({\n  params,\n}: {\n  params: Promise<{ jobInfoId: string }>\n}) {\n  const { jobInfoId } = await params\n\n  return (\n    <div className=\"container py-4 gap-4 h-screen-header flex flex-col items-start\">\n      <JobInfoBackLink jobInfoId={jobInfoId} />\n\n      <Suspense\n        fallback={<Loader2Icon className=\"size-24 animate-spin m-auto\" />}\n      >\n        <SuspendedPage jobInfoId={jobInfoId} />\n      </Suspense>\n    </div>\n  )\n}\n\nasync function SuspendedPage({ jobInfoId }: { jobInfoId: string }) {\n  const { userId, redirectToSignIn } = await getCurrentUser()\n  if (userId == null) return redirectToSignIn()\n\n  const interviews = await getInterviews(jobInfoId, userId)\n  if (interviews.length === 0) {\n    return redirect(`/app/job-infos/${jobInfoId}/interviews/new`)\n  }\n  return (\n    <div className=\"space-y-6 w-full\">\n      <div className=\"flex gap-2 justify-between\">\n        <h1 className=\"text-3xl md:text-4xl lg:text-5xl\">Interviews</h1>\n        <Button asChild>\n          <Link href={`/app/job-infos/${jobInfoId}/interviews/new`}>\n            <PlusIcon />\n            New Interview\n          </Link>\n        </Button>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 has-hover:*:not-hover:opacity-70\">\n        <Link\n          className=\"transition-opacity\"\n          href={`/app/job-infos/${jobInfoId}/interviews/new`}\n        >\n          <Card className=\"h-full flex items-center justify-center border-dashed border-3 bg-transparent hover:border-primary/50 transition-colors shadow-none\">\n            <div className=\"text-lg flex items-center gap-2\">\n              <PlusIcon className=\"size-6\" />\n              New Interview\n            </div>\n          </Card>\n        </Link>\n        {interviews.map(interview => (\n          <Link\n            className=\"hover:scale-[1.02] transition-[transform_opacity]\"\n            href={`/app/job-infos/${jobInfoId}/interviews/${interview.id}`}\n            key={interview.id}\n          >\n            <Card className=\"h-full\">\n              <div className=\"flex items-center justify-between h-full\">\n                <CardHeader className=\"gap-1 flex-grow\">\n                  <CardTitle className=\"text-lg\">\n                    {formatDateTime(interview.createdAt)}\n                  </CardTitle>\n                  <CardDescription>{interview.duration}</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <ArrowRightIcon className=\"size-6\" />\n                </CardContent>\n              </div>\n            </Card>\n          </Link>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nasync function getInterviews(jobInfoId: string, userId: string) {\n  \"use cache\"\n  cacheTag(getInterviewJobInfoTag(jobInfoId))\n  cacheTag(getJobInfoIdTag(jobInfoId))\n\n  const data = await db.query.InterviewsTable.findMany({\n    where: and(\n      eq(InterviewsTable.jobInfoId, jobInfoId),\n      isNotNull(InterviewsTable.humeChatId)\n    ),\n    with: { jobInfo: { columns: { userId: true } } },\n    orderBy: desc(InterviewsTable.updatedAt),\n  })\n\n  return data.filter(interview => interview.jobInfo.userId === userId)\n}"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAOA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AAEe,eAAe,eAAe,EAC3C,MAAM,EAGP;IACC,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM;IAE5B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,gLAAe;gBAAC,WAAW;;;;;;0BAE5B,8OAAC,iNAAQ;gBACP,wBAAU,8OAAC,oOAAW;oBAAC,WAAU;;;;;;0BAEjC,cAAA,8OAAC;oBAAc,WAAW;;;;;;;;;;;;;;;;;AAIlC;AAEA,eAAe,cAAc,EAAE,SAAS,EAAyB;IAC/D,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,GAAG,MAAM,IAAA,0JAAc;IACzD,IAAI,UAAU,MAAM,OAAO;IAE3B,MAAM,aAAa,MAAM,cAAc,WAAW;IAClD,IAAI,WAAW,MAAM,KAAK,GAAG;QAC3B,OAAO,IAAA,iMAAQ,EAAC,CAAC,eAAe,EAAE,UAAU,eAAe,CAAC;IAC9D;IACA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,8OAAC,4IAAM;wBAAC,OAAO;kCACb,cAAA,8OAAC,uKAAI;4BAAC,MAAM,CAAC,eAAe,EAAE,UAAU,eAAe,CAAC;;8CACtD,8OAAC,kNAAQ;;;;;gCAAG;;;;;;;;;;;;;;;;;;0BAMlB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,uKAAI;wBACH,WAAU;wBACV,MAAM,CAAC,eAAe,EAAE,UAAU,eAAe,CAAC;kCAElD,cAAA,8OAAC,wIAAI;4BAAC,WAAU;sCACd,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,kNAAQ;wCAAC,WAAU;;;;;;oCAAW;;;;;;;;;;;;;;;;;oBAKpC,WAAW,GAAG,CAAC,CAAA,0BACd,8OAAC,uKAAI;4BACH,WAAU;4BACV,MAAM,CAAC,eAAe,EAAE,UAAU,YAAY,EAAE,UAAU,EAAE,EAAE;sCAG9D,cAAA,8OAAC,wIAAI;gCAAC,WAAU;0CACd,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,8IAAU;4CAAC,WAAU;;8DACpB,8OAAC,6IAAS;oDAAC,WAAU;8DAClB,IAAA,0IAAc,EAAC,UAAU,SAAS;;;;;;8DAErC,8OAAC,mJAAe;8DAAE,UAAU,QAAQ;;;;;;;;;;;;sDAEtC,8OAAC,+IAAW;sDACV,cAAA,8OAAC,wOAAc;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;2BAX3B,UAAU,EAAE;;;;;;;;;;;;;;;;;AAoB7B;IAEA,6SAAA,eAAe,cAAc,SAAiB,EAAE,MAAc;IAE5D,IAAA,kLAAQ,EAAC,IAAA,kKAAsB,EAAC;IAChC,IAAA,kLAAQ,EAAC,IAAA,yJAAe,EAAC;IAEzB,MAAM,OAAO,MAAM,0HAAE,CAAC,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC;QACnD,OAAO,IAAA,yKAAG,EACR,IAAA,wKAAE,EAAC,yJAAe,CAAC,SAAS,EAAE,YAC9B,IAAA,+KAAS,EAAC,yJAAe,CAAC,UAAU;QAEtC,MAAM;YAAE,SAAS;gBAAE,SAAS;oBAAE,QAAQ;gBAAK;YAAE;QAAE;QAC/C,SAAS,IAAA,sKAAI,EAAC,yJAAe,CAAC,SAAS;IACzC;IAEA,OAAO,KAAK,MAAM,CAAC,CAAA,YAAa,UAAU,OAAO,CAAC,MAAM,KAAK;AAC/D;;;;;;IAfe","debugId":null}}]
}
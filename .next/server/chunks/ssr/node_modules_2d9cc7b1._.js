module.exports = {

"[project]/node_modules/uuid/dist/esm-node/native.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__
});
var __TURBOPACK__imported__module__$5b$externals$5d2f$crypto__$5b$external$5d$__$28$crypto$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/crypto [external] (crypto, cjs)");
;
const __TURBOPACK__default__export__ = {
    randomUUID: __TURBOPACK__imported__module__$5b$externals$5d2f$crypto__$5b$external$5d$__$28$crypto$2c$__cjs$29$__["default"].randomUUID
};
}),
"[project]/node_modules/uuid/dist/esm-node/rng.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>rng
});
var __TURBOPACK__imported__module__$5b$externals$5d2f$crypto__$5b$external$5d$__$28$crypto$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/crypto [external] (crypto, cjs)");
;
const rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate
let poolPtr = rnds8Pool.length;
function rng() {
    if (poolPtr > rnds8Pool.length - 16) {
        __TURBOPACK__imported__module__$5b$externals$5d2f$crypto__$5b$external$5d$__$28$crypto$2c$__cjs$29$__["default"].randomFillSync(rnds8Pool);
        poolPtr = 0;
    }
    return rnds8Pool.slice(poolPtr, poolPtr += 16);
}
}),
"[project]/node_modules/uuid/dist/esm-node/regex.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__
});
const __TURBOPACK__default__export__ = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
}),
"[project]/node_modules/uuid/dist/esm-node/validate.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$regex$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/uuid/dist/esm-node/regex.js [app-ssr] (ecmascript)");
;
function validate(uuid) {
    return typeof uuid === 'string' && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$regex$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].test(uuid);
}
const __TURBOPACK__default__export__ = validate;
}),
"[project]/node_modules/uuid/dist/esm-node/stringify.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "unsafeStringify": ()=>unsafeStringify
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$validate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/uuid/dist/esm-node/validate.js [app-ssr] (ecmascript)");
;
/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */ const byteToHex = [];
for(let i = 0; i < 256; ++i){
    byteToHex.push((i + 0x100).toString(16).slice(1));
}
function unsafeStringify(arr, offset = 0) {
    // Note: Be careful editing this code!  It's been tuned for performance
    // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
    return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];
}
function stringify(arr, offset = 0) {
    const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one
    // of the following:
    // - One or more input array values don't map to a hex octet (leading to
    // "undefined" in the uuid)
    // - Invalid input values for the RFC `version` or `variant` fields
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$validate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(uuid)) {
        throw TypeError('Stringified UUID is invalid');
    }
    return uuid;
}
const __TURBOPACK__default__export__ = stringify;
}),
"[project]/node_modules/uuid/dist/esm-node/v4.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$native$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/uuid/dist/esm-node/native.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$rng$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/uuid/dist/esm-node/rng.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$stringify$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/uuid/dist/esm-node/stringify.js [app-ssr] (ecmascript)");
;
;
;
function v4(options, buf, offset) {
    if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$native$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].randomUUID && !buf && !options) {
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$native$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].randomUUID();
    }
    options = options || {};
    const rnds = options.random || (options.rng || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$rng$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
    rnds[6] = rnds[6] & 0x0f | 0x40;
    rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided
    if (buf) {
        offset = offset || 0;
        for(let i = 0; i < 16; ++i){
            buf[offset + i] = rnds[i];
        }
        return buf;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$stringify$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["unsafeStringify"])(rnds);
}
const __TURBOPACK__default__export__ = v4;
}),
"[project]/node_modules/uuid/dist/esm-node/v4.js [app-ssr] (ecmascript) <export default as v4>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "v4": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$v4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$node$2f$v4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/uuid/dist/esm-node/v4.js [app-ssr] (ecmascript)");
}),
"[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

/**
 * @name toDate
 * @category Common Helpers
 * @summary Convert the given argument to an instance of Date.
 *
 * @description
 * Convert the given argument to an instance of Date.
 *
 * If the argument is an instance of Date, the function returns its clone.
 *
 * If the argument is a number, it is treated as a timestamp.
 *
 * If the argument is none of the above, the function returns Invalid Date.
 *
 * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.
 *
 * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).
 *
 * @param argument - The value to convert
 *
 * @returns The parsed date in the local time zone
 *
 * @example
 * // Clone the date:
 * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))
 * //=> Tue Feb 11 2014 11:30:30
 *
 * @example
 * // Convert the timestamp to date:
 * const result = toDate(1392098430000)
 * //=> Tue Feb 11 2014 11:30:30
 */ __turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "toDate": ()=>toDate
});
function toDate(argument) {
    const argStr = Object.prototype.toString.call(argument);
    // Clone the date
    if (argument instanceof Date || typeof argument === "object" && argStr === "[object Date]") {
        // Prevent the date to lose the milliseconds when passed to new Date() in IE10
        return new argument.constructor(+argument);
    } else if (typeof argument === "number" || argStr === "[object Number]" || typeof argument === "string" || argStr === "[object String]") {
        // TODO: Can we get rid of as?
        return new Date(argument);
    } else {
        // TODO: Can we get rid of as?
        return new Date(NaN);
    }
}
const __TURBOPACK__default__export__ = toDate;
}),
"[project]/node_modules/date-fns/constructFrom.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

/**
 * @name constructFrom
 * @category Generic Helpers
 * @summary Constructs a date using the reference date and the value
 *
 * @description
 * The function constructs a new date using the constructor from the reference
 * date and the given value. It helps to build generic functions that accept
 * date extensions.
 *
 * It defaults to `Date` if the passed reference date is a number or a string.
 *
 * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).
 *
 * @param date - The reference date to take constructor from
 * @param value - The value to create the date
 *
 * @returns Date initialized using the given date and value
 *
 * @example
 * import { constructFrom } from 'date-fns'
 *
 * // A function that clones a date preserving the original type
 * function cloneDate<DateType extends Date(date: DateType): DateType {
 *   return constructFrom(
 *     date, // Use contrustor from the given date
 *     date.getTime() // Use the date value to create a new date
 *   )
 * }
 */ __turbopack_context__.s({
    "constructFrom": ()=>constructFrom,
    "default": ()=>__TURBOPACK__default__export__
});
function constructFrom(date, value) {
    if (date instanceof Date) {
        return new date.constructor(value);
    } else {
        return new Date(value);
    }
}
const __TURBOPACK__default__export__ = constructFrom;
}),
"[project]/node_modules/date-fns/addDays.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "addDays": ()=>addDays,
    "default": ()=>__TURBOPACK__default__export__
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constructFrom$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/constructFrom.mjs [app-ssr] (ecmascript)");
;
;
function addDays(date, amount) {
    const _date = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(date);
    if (isNaN(amount)) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constructFrom$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["constructFrom"])(date, NaN);
    if (!amount) {
        // If 0 days, no-op to avoid changing times in the hour before end of DST
        return _date;
    }
    _date.setDate(_date.getDate() + amount);
    return _date;
}
const __TURBOPACK__default__export__ = addDays;
}),
"[project]/node_modules/date-fns/addMonths.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "addMonths": ()=>addMonths,
    "default": ()=>__TURBOPACK__default__export__
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constructFrom$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/constructFrom.mjs [app-ssr] (ecmascript)");
;
;
function addMonths(date, amount) {
    const _date = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(date);
    if (isNaN(amount)) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constructFrom$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["constructFrom"])(date, NaN);
    if (!amount) {
        // If 0 months, no-op to avoid changing times in the hour before end of DST
        return _date;
    }
    const dayOfMonth = _date.getDate();
    // The JS Date object supports date math by accepting out-of-bounds values for
    // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and
    // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we
    // want except that dates will wrap around the end of a month, meaning that
    // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So
    // we'll default to the end of the desired month by adding 1 to the desired
    // month and using a date of 0 to back up one day to the end of the desired
    // month.
    const endOfDesiredMonth = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constructFrom$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["constructFrom"])(date, _date.getTime());
    endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);
    const daysInMonth = endOfDesiredMonth.getDate();
    if (dayOfMonth >= daysInMonth) {
        // If we're already at the end of the month, then this is the correct date
        // and we're done.
        return endOfDesiredMonth;
    } else {
        // Otherwise, we now know that setting the original day-of-month value won't
        // cause an overflow, so set the desired day-of-month. Note that we can't
        // just set the date of `endOfDesiredMonth` because that object may have had
        // its time changed in the unusual case where where a DST transition was on
        // the last day of the month and its local time was in the hour skipped or
        // repeated next to a DST transition.  So we use `date` instead which is
        // guaranteed to still have the original time.
        _date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);
        return _date;
    }
}
const __TURBOPACK__default__export__ = addMonths;
}),
"[project]/node_modules/date-fns/add.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "add": ()=>add,
    "default": ()=>__TURBOPACK__default__export__
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$addDays$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/addDays.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$addMonths$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/addMonths.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constructFrom$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/constructFrom.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
;
;
;
function add(date, duration) {
    const { years = 0, months = 0, weeks = 0, days = 0, hours = 0, minutes = 0, seconds = 0 } = duration;
    // Add years and months
    const _date = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(date);
    const dateWithMonths = months || years ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$addMonths$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["addMonths"])(_date, months + years * 12) : _date;
    // Add weeks and days
    const dateWithDays = days || weeks ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$addDays$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["addDays"])(dateWithMonths, days + weeks * 7) : dateWithMonths;
    // Add days, hours, minutes and seconds
    const minutesToAdd = minutes + hours * 60;
    const secondsToAdd = seconds + minutesToAdd * 60;
    const msToAdd = secondsToAdd * 1000;
    const finalDate = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constructFrom$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["constructFrom"])(date, dateWithDays.getTime() + msToAdd);
    return finalDate;
}
const __TURBOPACK__default__export__ = add;
}),
"[project]/node_modules/date-fns/constants.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

/**
 * @module constants
 * @summary Useful constants
 * @description
 * Collection of useful date constants.
 *
 * The constants could be imported from `date-fns/constants`:
 *
 * ```ts
 * import { maxTime, minTime } from "./constants/date-fns/constants";
 *
 * function isAllowedTime(time) {
 *   return time <= maxTime && time >= minTime;
 * }
 * ```
 */ /**
 * @constant
 * @name daysInWeek
 * @summary Days in 1 week.
 */ __turbopack_context__.s({
    "daysInWeek": ()=>daysInWeek,
    "daysInYear": ()=>daysInYear,
    "maxTime": ()=>maxTime,
    "millisecondsInDay": ()=>millisecondsInDay,
    "millisecondsInHour": ()=>millisecondsInHour,
    "millisecondsInMinute": ()=>millisecondsInMinute,
    "millisecondsInSecond": ()=>millisecondsInSecond,
    "millisecondsInWeek": ()=>millisecondsInWeek,
    "minTime": ()=>minTime,
    "minutesInDay": ()=>minutesInDay,
    "minutesInHour": ()=>minutesInHour,
    "minutesInMonth": ()=>minutesInMonth,
    "minutesInYear": ()=>minutesInYear,
    "monthsInQuarter": ()=>monthsInQuarter,
    "monthsInYear": ()=>monthsInYear,
    "quartersInYear": ()=>quartersInYear,
    "secondsInDay": ()=>secondsInDay,
    "secondsInHour": ()=>secondsInHour,
    "secondsInMinute": ()=>secondsInMinute,
    "secondsInMonth": ()=>secondsInMonth,
    "secondsInQuarter": ()=>secondsInQuarter,
    "secondsInWeek": ()=>secondsInWeek,
    "secondsInYear": ()=>secondsInYear
});
const daysInWeek = 7;
const daysInYear = 365.2425;
const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;
const minTime = -maxTime;
const millisecondsInWeek = 604800000;
const millisecondsInDay = 86400000;
const millisecondsInMinute = 60000;
const millisecondsInHour = 3600000;
const millisecondsInSecond = 1000;
const minutesInYear = 525600;
const minutesInMonth = 43200;
const minutesInDay = 1440;
const minutesInHour = 60;
const monthsInQuarter = 3;
const monthsInYear = 12;
const quartersInYear = 4;
const secondsInHour = 3600;
const secondsInMinute = 60;
const secondsInDay = secondsInHour * 24;
const secondsInWeek = secondsInDay * 7;
const secondsInYear = secondsInDay * daysInYear;
const secondsInMonth = secondsInYear / 12;
const secondsInQuarter = secondsInMonth * 3;
}),
"[project]/node_modules/date-fns/startOfDay.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "startOfDay": ()=>startOfDay
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
function startOfDay(date) {
    const _date = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(date);
    _date.setHours(0, 0, 0, 0);
    return _date;
}
const __TURBOPACK__default__export__ = startOfDay;
}),
"[project]/node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "getTimezoneOffsetInMilliseconds": ()=>getTimezoneOffsetInMilliseconds
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
function getTimezoneOffsetInMilliseconds(date) {
    const _date = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(date);
    const utcDate = new Date(Date.UTC(_date.getFullYear(), _date.getMonth(), _date.getDate(), _date.getHours(), _date.getMinutes(), _date.getSeconds(), _date.getMilliseconds()));
    utcDate.setUTCFullYear(_date.getFullYear());
    return +date - +utcDate;
}
}),
"[project]/node_modules/date-fns/differenceInCalendarDays.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "differenceInCalendarDays": ()=>differenceInCalendarDays
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constants$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/constants.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$startOfDay$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/startOfDay.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$_lib$2f$getTimezoneOffsetInMilliseconds$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs [app-ssr] (ecmascript)");
;
;
;
function differenceInCalendarDays(dateLeft, dateRight) {
    const startOfDayLeft = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$startOfDay$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["startOfDay"])(dateLeft);
    const startOfDayRight = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$startOfDay$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["startOfDay"])(dateRight);
    const timestampLeft = +startOfDayLeft - (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$_lib$2f$getTimezoneOffsetInMilliseconds$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getTimezoneOffsetInMilliseconds"])(startOfDayLeft);
    const timestampRight = +startOfDayRight - (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$_lib$2f$getTimezoneOffsetInMilliseconds$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getTimezoneOffsetInMilliseconds"])(startOfDayRight);
    // Round the number of days to the nearest integer because the number of
    // milliseconds in a day is not constant (e.g. it's different in the week of
    // the daylight saving time clock shift).
    return Math.round((timestampLeft - timestampRight) / __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constants$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["millisecondsInDay"]);
}
const __TURBOPACK__default__export__ = differenceInCalendarDays;
}),
"[project]/node_modules/date-fns/differenceInDays.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "differenceInDays": ()=>differenceInDays
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInCalendarDays$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInCalendarDays.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
;
function differenceInDays(dateLeft, dateRight) {
    const _dateLeft = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateLeft);
    const _dateRight = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateRight);
    const sign = compareLocalAsc(_dateLeft, _dateRight);
    const difference = Math.abs((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInCalendarDays$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInCalendarDays"])(_dateLeft, _dateRight));
    _dateLeft.setDate(_dateLeft.getDate() - sign * difference);
    // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full
    // If so, result must be decreased by 1 in absolute value
    const isLastDayNotFull = Number(compareLocalAsc(_dateLeft, _dateRight) === -sign);
    const result = sign * (difference - isLastDayNotFull);
    // Prevent negative zero
    return result === 0 ? 0 : result;
}
// Like `compareAsc` but uses local time not UTC, which is needed
// for accurate equality comparisons of UTC timestamps that end up
// having the same representation in local time, e.g. one hour before
// DST ends vs. the instant that DST ends.
function compareLocalAsc(dateLeft, dateRight) {
    const diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();
    if (diff < 0) {
        return -1;
    } else if (diff > 0) {
        return 1;
    // Return 0 if diff is 0; return NaN if diff is NaN
    } else {
        return diff;
    }
}
const __TURBOPACK__default__export__ = differenceInDays;
}),
"[project]/node_modules/date-fns/_lib/getRoundingMethod.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "getRoundingMethod": ()=>getRoundingMethod
});
function getRoundingMethod(method) {
    return (number)=>{
        const round = method ? Math[method] : Math.trunc;
        const result = round(number);
        // Prevent negative zero
        return result === 0 ? 0 : result;
    };
}
}),
"[project]/node_modules/date-fns/differenceInMilliseconds.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "differenceInMilliseconds": ()=>differenceInMilliseconds
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
function differenceInMilliseconds(dateLeft, dateRight) {
    return +(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateLeft) - +(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateRight);
}
const __TURBOPACK__default__export__ = differenceInMilliseconds;
}),
"[project]/node_modules/date-fns/differenceInHours.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "differenceInHours": ()=>differenceInHours
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$_lib$2f$getRoundingMethod$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/_lib/getRoundingMethod.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constants$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/constants.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInMilliseconds$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInMilliseconds.mjs [app-ssr] (ecmascript)");
;
;
;
function differenceInHours(dateLeft, dateRight, options) {
    const diff = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInMilliseconds$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInMilliseconds"])(dateLeft, dateRight) / __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constants$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["millisecondsInHour"];
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$_lib$2f$getRoundingMethod$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getRoundingMethod"])(options?.roundingMethod)(diff);
}
const __TURBOPACK__default__export__ = differenceInHours;
}),
"[project]/node_modules/date-fns/differenceInMinutes.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "differenceInMinutes": ()=>differenceInMinutes
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$_lib$2f$getRoundingMethod$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/_lib/getRoundingMethod.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constants$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/constants.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInMilliseconds$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInMilliseconds.mjs [app-ssr] (ecmascript)");
;
;
;
function differenceInMinutes(dateLeft, dateRight, options) {
    const diff = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInMilliseconds$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInMilliseconds"])(dateLeft, dateRight) / __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$constants$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["millisecondsInMinute"];
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$_lib$2f$getRoundingMethod$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getRoundingMethod"])(options?.roundingMethod)(diff);
}
const __TURBOPACK__default__export__ = differenceInMinutes;
}),
"[project]/node_modules/date-fns/compareAsc.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "compareAsc": ()=>compareAsc,
    "default": ()=>__TURBOPACK__default__export__
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
function compareAsc(dateLeft, dateRight) {
    const _dateLeft = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateLeft);
    const _dateRight = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateRight);
    const diff = _dateLeft.getTime() - _dateRight.getTime();
    if (diff < 0) {
        return -1;
    } else if (diff > 0) {
        return 1;
    // Return 0 if diff is 0; return NaN if diff is NaN
    } else {
        return diff;
    }
}
const __TURBOPACK__default__export__ = compareAsc;
}),
"[project]/node_modules/date-fns/differenceInCalendarMonths.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "differenceInCalendarMonths": ()=>differenceInCalendarMonths
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
function differenceInCalendarMonths(dateLeft, dateRight) {
    const _dateLeft = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateLeft);
    const _dateRight = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateRight);
    const yearDiff = _dateLeft.getFullYear() - _dateRight.getFullYear();
    const monthDiff = _dateLeft.getMonth() - _dateRight.getMonth();
    return yearDiff * 12 + monthDiff;
}
const __TURBOPACK__default__export__ = differenceInCalendarMonths;
}),
"[project]/node_modules/date-fns/endOfDay.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "endOfDay": ()=>endOfDay
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
function endOfDay(date) {
    const _date = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(date);
    _date.setHours(23, 59, 59, 999);
    return _date;
}
const __TURBOPACK__default__export__ = endOfDay;
}),
"[project]/node_modules/date-fns/endOfMonth.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "endOfMonth": ()=>endOfMonth
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
function endOfMonth(date) {
    const _date = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(date);
    const month = _date.getMonth();
    _date.setFullYear(_date.getFullYear(), month + 1, 0);
    _date.setHours(23, 59, 59, 999);
    return _date;
}
const __TURBOPACK__default__export__ = endOfMonth;
}),
"[project]/node_modules/date-fns/isLastDayOfMonth.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "isLastDayOfMonth": ()=>isLastDayOfMonth
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$endOfDay$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/endOfDay.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$endOfMonth$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/endOfMonth.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
;
;
function isLastDayOfMonth(date) {
    const _date = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(date);
    return +(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$endOfDay$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["endOfDay"])(_date) === +(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$endOfMonth$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["endOfMonth"])(_date);
}
const __TURBOPACK__default__export__ = isLastDayOfMonth;
}),
"[project]/node_modules/date-fns/differenceInMonths.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "differenceInMonths": ()=>differenceInMonths
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$compareAsc$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/compareAsc.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInCalendarMonths$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInCalendarMonths.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$isLastDayOfMonth$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/isLastDayOfMonth.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
;
;
;
function differenceInMonths(dateLeft, dateRight) {
    const _dateLeft = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateLeft);
    const _dateRight = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateRight);
    const sign = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$compareAsc$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["compareAsc"])(_dateLeft, _dateRight);
    const difference = Math.abs((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInCalendarMonths$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInCalendarMonths"])(_dateLeft, _dateRight));
    let result;
    // Check for the difference of less than month
    if (difference < 1) {
        result = 0;
    } else {
        if (_dateLeft.getMonth() === 1 && _dateLeft.getDate() > 27) {
            // This will check if the date is end of Feb and assign a higher end of month date
            // to compare it with Jan
            _dateLeft.setDate(30);
        }
        _dateLeft.setMonth(_dateLeft.getMonth() - sign * difference);
        // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full
        // If so, result must be decreased by 1 in absolute value
        let isLastMonthNotFull = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$compareAsc$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["compareAsc"])(_dateLeft, _dateRight) === -sign;
        // Check for cases of one full calendar month
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$isLastDayOfMonth$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isLastDayOfMonth"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateLeft)) && difference === 1 && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$compareAsc$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["compareAsc"])(dateLeft, _dateRight) === 1) {
            isLastMonthNotFull = false;
        }
        result = sign * (difference - Number(isLastMonthNotFull));
    }
    // Prevent negative zero
    return result === 0 ? 0 : result;
}
const __TURBOPACK__default__export__ = differenceInMonths;
}),
"[project]/node_modules/date-fns/differenceInSeconds.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "differenceInSeconds": ()=>differenceInSeconds
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$_lib$2f$getRoundingMethod$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/_lib/getRoundingMethod.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInMilliseconds$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInMilliseconds.mjs [app-ssr] (ecmascript)");
;
;
function differenceInSeconds(dateLeft, dateRight, options) {
    const diff = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInMilliseconds$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInMilliseconds"])(dateLeft, dateRight) / 1000;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$_lib$2f$getRoundingMethod$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getRoundingMethod"])(options?.roundingMethod)(diff);
}
const __TURBOPACK__default__export__ = differenceInSeconds;
}),
"[project]/node_modules/date-fns/differenceInCalendarYears.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "differenceInCalendarYears": ()=>differenceInCalendarYears
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
function differenceInCalendarYears(dateLeft, dateRight) {
    const _dateLeft = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateLeft);
    const _dateRight = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateRight);
    return _dateLeft.getFullYear() - _dateRight.getFullYear();
}
const __TURBOPACK__default__export__ = differenceInCalendarYears;
}),
"[project]/node_modules/date-fns/differenceInYears.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "differenceInYears": ()=>differenceInYears
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$compareAsc$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/compareAsc.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInCalendarYears$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInCalendarYears.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
;
;
function differenceInYears(dateLeft, dateRight) {
    const _dateLeft = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateLeft);
    const _dateRight = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(dateRight);
    const sign = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$compareAsc$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["compareAsc"])(_dateLeft, _dateRight);
    const difference = Math.abs((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInCalendarYears$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInCalendarYears"])(_dateLeft, _dateRight));
    // Set both dates to a valid leap year for accurate comparison when dealing
    // with leap days
    _dateLeft.setFullYear(1584);
    _dateRight.setFullYear(1584);
    // Math.abs(diff in full years - diff in calendar years) === 1 if last calendar year is not full
    // If so, result must be decreased by 1 in absolute value
    const isLastYearNotFull = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$compareAsc$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["compareAsc"])(_dateLeft, _dateRight) === -sign;
    const result = sign * (difference - +isLastYearNotFull);
    // Prevent negative zero
    return result === 0 ? 0 : result;
}
const __TURBOPACK__default__export__ = differenceInYears;
}),
"[project]/node_modules/date-fns/intervalToDuration.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>__TURBOPACK__default__export__,
    "intervalToDuration": ()=>intervalToDuration
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$add$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/add.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInDays$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInDays.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInHours$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInHours.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInMinutes$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInMinutes.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInMonths$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInMonths.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInSeconds$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInSeconds.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInYears$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/differenceInYears.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/toDate.mjs [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
function intervalToDuration(interval) {
    const start = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(interval.start);
    const end = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$toDate$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toDate"])(interval.end);
    const duration = {};
    const years = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInYears$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInYears"])(end, start);
    if (years) duration.years = years;
    const remainingMonths = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$add$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["add"])(start, {
        years: duration.years
    });
    const months = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInMonths$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInMonths"])(end, remainingMonths);
    if (months) duration.months = months;
    const remainingDays = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$add$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["add"])(remainingMonths, {
        months: duration.months
    });
    const days = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInDays$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInDays"])(end, remainingDays);
    if (days) duration.days = days;
    const remainingHours = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$add$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["add"])(remainingDays, {
        days: duration.days
    });
    const hours = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInHours$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInHours"])(end, remainingHours);
    if (hours) duration.hours = hours;
    const remainingMinutes = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$add$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["add"])(remainingHours, {
        hours: duration.hours
    });
    const minutes = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInMinutes$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInMinutes"])(end, remainingMinutes);
    if (minutes) duration.minutes = minutes;
    const remainingSeconds = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$add$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["add"])(remainingMinutes, {
        minutes: duration.minutes
    });
    const seconds = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$differenceInSeconds$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["differenceInSeconds"])(end, remainingSeconds);
    if (seconds) duration.seconds = seconds;
    return duration;
}
const __TURBOPACK__default__export__ = intervalToDuration;
}),
"[project]/node_modules/@humeai/voice-react/dist/index.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "AudioEncoding": ()=>AudioEncoding,
    "Channels": ()=>Channels,
    "LanguageModelOption": ()=>LanguageModelOption,
    "SocketFailedToParseMessageError": ()=>SocketFailedToParseMessageError,
    "SocketUnknownMessageError": ()=>SocketUnknownMessageError,
    "TTSService": ()=>TTSService,
    "TimeSliceSchema": ()=>TimeSliceSchema,
    "VoiceProvider": ()=>VoiceProvider,
    "VoiceReadyState": ()=>VoiceReadyState,
    "isSocketFailedToParseMessageError": ()=>isSocketFailedToParseMessageError,
    "isSocketUnknownMessageError": ()=>isSocketUnknownMessageError,
    "parseMessageData": ()=>parseMessageData,
    "parseMessageType": ()=>parseMessageType,
    "useMicrophone": ()=>useMicrophone,
    "useMicrophoneStream": ()=>useMicrophoneStream,
    "useSoundPlayer": ()=>useSoundPlayer,
    "useVoice": ()=>useVoice,
    "useVoiceClient": ()=>useVoiceClient
});
// src/lib/useMicrophoneStream.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$wrapper$2f$checkForAudioTracks$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@humeai/voice-react/node_modules/hume/dist/esm/wrapper/checkForAudioTracks.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
// src/lib/useMicrophone.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$wrapper$2f$getBrowserSupportedMimeType$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@humeai/voice-react/node_modules/hume/dist/esm/wrapper/getBrowserSupportedMimeType.mjs [app-ssr] (ecmascript)");
// src/lib/useSoundPlayer.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$wrapper$2f$convertBase64ToBlob$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@humeai/voice-react/node_modules/hume/dist/esm/wrapper/convertBase64ToBlob.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/zod/index.js [app-ssr] (ecmascript) <locals>");
// src/lib/useVoiceClient.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$api$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Hume$3e$__ = __turbopack_context__.i("[project]/node_modules/@humeai/voice-react/node_modules/hume/dist/esm/api/index.mjs [app-ssr] (ecmascript) <export * as Hume>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$wrapper$2f$HumeClient$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@humeai/voice-react/node_modules/hume/dist/esm/wrapper/HumeClient.mjs [app-ssr] (ecmascript)");
// src/lib/useCallDuration.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$intervalToDuration$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/date-fns/intervalToDuration.mjs [app-ssr] (ecmascript)");
// src/lib/VoiceProvider.tsx
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js [app-ssr] (ecmascript)");
// src/lib/messages.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$serialization$2f$resources$2f$empathicVoice$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__empathicVoice$3e$__ = __turbopack_context__.i("[project]/node_modules/@humeai/voice-react/node_modules/hume/dist/esm/serialization/resources/empathicVoice/index.mjs [app-ssr] (ecmascript) <export * as empathicVoice>");
'use client';
;
;
var getAudioStream = async (audioConstraints)=>{
    return navigator.mediaDevices.getUserMedia({
        audio: {
            ...audioConstraints,
            echoCancellation: audioConstraints.echoCancellation ?? true,
            noiseSuppression: audioConstraints.noiseSuppression ?? true,
            autoGainControl: audioConstraints.autoGainControl ?? true,
            deviceId: audioConstraints.deviceId
        },
        video: false
    });
};
var useMicrophoneStream = ()=>{
    const [permission, setPermission] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])("prompt");
    const currentStream = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const getStream = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async (audioConstraints)=>{
        let stream = null;
        try {
            stream = await getAudioStream(audioConstraints);
        } catch (e) {
            if (e instanceof DOMException && "name" in e && e.name === "NotAllowedError") {
                setPermission("denied");
            }
            throw e;
        }
        setPermission("granted");
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$wrapper$2f$checkForAudioTracks$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["checkForAudioTracks"])(stream);
        currentStream.current = stream;
        return stream;
    }, []);
    const stopStream = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        if (currentStream.current) {
            currentStream.current.getTracks().forEach((track)=>track.stop());
            currentStream.current = null;
        }
    }, []);
    return {
        getStream,
        stopStream,
        permission
    };
};
;
;
// src/lib/convertFrequencyScale.ts
var barkCenterFrequencies = [
    50,
    150,
    250,
    350,
    450,
    570,
    700,
    840,
    1e3,
    1170,
    1370,
    1600,
    1850,
    2150,
    2500,
    2900,
    3400,
    4e3,
    4800,
    5800,
    7e3,
    8500,
    10500,
    13500
];
var minValue = 0;
var maxValue = 255;
function convertLinearFrequenciesToBark(linearData, sampleRate) {
    const maxFrequency = sampleRate / 2;
    const frequencyResolution = maxFrequency / linearData.length;
    const barkFrequencies = barkCenterFrequencies.map((barkFreq)=>{
        const linearDataIndex = Math.round(barkFreq / frequencyResolution);
        if (linearDataIndex >= 0 && linearDataIndex < linearData.length) {
            return ((linearData[linearDataIndex] ?? 0) - minValue) / (maxValue - minValue) * 2;
        } else {
            return 0;
        }
    });
    return barkFrequencies;
}
// src/lib/generateEmptyFft.ts
function generateEmptyFft() {
    return Array.from({
        length: 24
    }).map(()=>0);
}
// src/lib/useMicrophone.ts
var useMicrophone = (props)=>{
    const { onAudioCaptured, onError } = props;
    const [isMuted, setIsMuted] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const isMutedRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(isMuted);
    const currentStream = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const [fft, setFft] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(generateEmptyFft());
    const currentAnalyzer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const fftAnimationId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const analyzerSource = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const mimeTypeRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const audioContext = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const recorder = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const sendAudio = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(onAudioCaptured);
    sendAudio.current = onAudioCaptured;
    const dataHandler = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((event)=>{
        const blob = event.data;
        blob.arrayBuffer().then((buffer)=>{
            if (buffer.byteLength > 0) {
                sendAudio.current?.(buffer);
            }
        }).catch((err)=>{
            console.log(err);
        });
    }, []);
    const startFftAnalyzer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((stream)=>{
        if (!audioContext.current) {
            return;
        }
        const source = audioContext.current.createMediaStreamSource(stream);
        analyzerSource.current = source;
        currentAnalyzer.current = audioContext.current.createAnalyser();
        currentAnalyzer.current.fftSize = 2048;
        const bufferLength = currentAnalyzer.current.frequencyBinCount;
        const dataArray = new Uint8Array(bufferLength);
        source.connect(currentAnalyzer.current);
        const draw = ()=>{
            if (!currentAnalyzer.current || !audioContext.current) {
                return;
            }
            currentAnalyzer.current.getByteFrequencyData(dataArray);
            const sampleRate = audioContext.current.sampleRate;
            const barkFrequencies = convertLinearFrequenciesToBark(dataArray, sampleRate);
            setFft(barkFrequencies);
            fftAnimationId.current = requestAnimationFrame(draw);
        };
        draw();
    }, []);
    const start = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((stream)=>{
        if (!stream) {
            throw new Error("No stream connected");
        }
        if (fftAnimationId.current) {
            cancelAnimationFrame(fftAnimationId.current);
        }
        currentStream.current = stream;
        const context = new AudioContext();
        audioContext.current = context;
        try {
            startFftAnalyzer(stream);
        } catch (e) {
            const message = e instanceof Error ? e.message : "Unknown error";
            console.error(`Failed to start mic analyzer: ${message}`);
        }
        const mimeType = mimeTypeRef.current;
        if (!mimeType) {
            throw new Error("No MimeType specified");
        }
        recorder.current = new MediaRecorder(stream, {
            mimeType
        });
        recorder.current.addEventListener("dataavailable", dataHandler);
        recorder.current.start(100);
    }, [
        dataHandler,
        startFftAnalyzer
    ]);
    const stop = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async ()=>{
        if (analyzerSource.current) {
            analyzerSource.current.disconnect();
            analyzerSource.current = null;
        }
        if (currentAnalyzer.current) {
            if (fftAnimationId.current) {
                cancelAnimationFrame(fftAnimationId.current);
            }
            fftAnimationId.current = null;
            currentAnalyzer.current = null;
        }
        if (audioContext.current) {
            await audioContext.current.close().then(()=>{
                audioContext.current = null;
            }).catch(()=>{
                return null;
            });
        }
        recorder.current?.stop();
        recorder.current?.removeEventListener("dataavailable", dataHandler);
        recorder.current = null;
        currentStream.current?.getTracks().forEach((track)=>track.stop());
        setIsMuted(false);
    }, [
        dataHandler
    ]);
    const stopMicWithRetries = async (maxAttempts = 3, delayMs = 500)=>{
        for(let attempt = 1; attempt <= maxAttempts; attempt++){
            try {
                await stop();
                return;
            } catch (e) {
                if (attempt < maxAttempts) {
                    await new Promise((res)=>setTimeout(res, delayMs));
                } else {
                    const message = e instanceof Error ? e.message : "Unknown error";
                    onError?.(`Failed to stop mic after ${maxAttempts} attempts: ${message}`, "mic_closure_failure");
                }
            }
        }
    };
    const mute = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        if (currentAnalyzer.current) {
            setFft(generateEmptyFft());
        }
        currentStream.current?.getTracks().forEach((track)=>{
            track.enabled = false;
        });
        isMutedRef.current = true;
        setIsMuted(true);
    }, []);
    const unmute = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        currentStream.current?.getTracks().forEach((track)=>{
            track.enabled = true;
        });
        isMutedRef.current = false;
        setIsMuted(false);
    }, [
        currentStream
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        return ()=>{
            try {
                recorder.current?.stop();
                recorder.current?.removeEventListener("dataavailable", dataHandler);
                if (currentAnalyzer.current) {
                    analyzerSource.current?.disconnect();
                    if (fftAnimationId.current) {
                        cancelAnimationFrame(fftAnimationId.current);
                    }
                    fftAnimationId.current = null;
                    currentAnalyzer.current = null;
                }
                currentStream.current?.getTracks().forEach((track)=>track.stop());
                currentStream.current = null;
            } catch (e) {
                console.log(e);
            }
        };
    }, [
        dataHandler,
        currentStream
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const mimeTypeResult = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$wrapper$2f$getBrowserSupportedMimeType$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getBrowserSupportedMimeType"])();
        if (mimeTypeResult.success) {
            mimeTypeRef.current = mimeTypeResult.mimeType;
        } else {
            onError(mimeTypeResult.error.message, "mime_types_not_supported");
        }
    }, [
        onError
    ]);
    return {
        start,
        stop: stopMicWithRetries,
        mute,
        unmute,
        isMuted,
        fft
    };
};
;
;
;
// src/utils/loadAudioWorklet.ts
var loadAudioWorklet = async (ctx, attemptNumber = 1)=>{
    return ctx.audioWorklet.addModule(`https://storage.googleapis.com/evi-react-sdk-assets/audio-worklet-20250702.js`).then(()=>{
        return true;
    }).catch(()=>{
        if (attemptNumber >= 10) {
            return false;
        }
        return loadAudioWorklet(ctx, attemptNumber + 1);
    });
};
// src/lib/useSoundPlayer.ts
var useSoundPlayer = (props)=>{
    const [isPlaying, setIsPlaying] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isAudioMuted, setIsAudioMuted] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [volume, setVolumeState] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(1);
    const [fft, setFft] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(generateEmptyFft());
    const audioContext = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const analyserNode = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const gainNode = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const workletNode = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const isInitialized = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(false);
    const isProcessing = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(false);
    const frequencyDataIntervalId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const onPlayAudio = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onPlayAudio);
    onPlayAudio.current = props.onPlayAudio;
    const onStopAudio = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onStopAudio);
    onStopAudio.current = props.onStopAudio;
    const onError = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onError);
    onError.current = props.onError;
    const isWorkletActive = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(false);
    const chunkBufferQueues = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])({});
    const lastQueuedChunk = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const clipQueue = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])([]);
    const [queueLength, setQueueLength] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(0);
    const currentlyPlayingAudioBuffer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const playNextClip = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        if (clipQueue.current.length === 0 || isProcessing.current) {
            setQueueLength(0);
            return;
        }
        if (analyserNode.current === null || audioContext.current === null) {
            onError.current("Audio player is not initialized", "audio_player_initialization_failure");
            return;
        }
        const nextClip = clipQueue.current.shift();
        setQueueLength(clipQueue.current.length);
        if (!nextClip) return;
        isProcessing.current = true;
        setIsPlaying(true);
        const bufferSource = audioContext.current.createBufferSource();
        bufferSource.buffer = nextClip.buffer;
        bufferSource.connect(analyserNode.current);
        currentlyPlayingAudioBuffer.current = bufferSource;
        const updateFrequencyData = ()=>{
            try {
                const bufferSampleRate = bufferSource.buffer?.sampleRate;
                if (!analyserNode.current || typeof bufferSampleRate === "undefined") return;
                const dataArray = new Uint8Array(analyserNode.current.frequencyBinCount);
                analyserNode.current.getByteFrequencyData(dataArray);
                const barkFrequencies = convertLinearFrequenciesToBark(dataArray, bufferSampleRate);
                setFft(()=>barkFrequencies);
            } catch (e) {
                setFft(generateEmptyFft());
            }
        };
        frequencyDataIntervalId.current = window.setInterval(updateFrequencyData, 5);
        bufferSource.start(0);
        if (nextClip.index === 0) {
            onPlayAudio.current(nextClip.id);
        }
        bufferSource.onended = ()=>{
            if (frequencyDataIntervalId.current) {
                clearInterval(frequencyDataIntervalId.current);
                frequencyDataIntervalId.current = null;
            }
            setFft(generateEmptyFft());
            bufferSource.disconnect();
            isProcessing.current = false;
            setIsPlaying(false);
            onStopAudio.current(nextClip.id);
            currentlyPlayingAudioBuffer.current = null;
            playNextClip();
        };
    }, []);
    const initPlayer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async (speakerDeviceId)=>{
        isWorkletActive.current = true;
        try {
            const initAudioContext = new AudioContext();
            audioContext.current = initAudioContext;
            if (speakerDeviceId && "setSinkId" in initAudioContext) {
                try {
                    await initAudioContext.setSinkId(speakerDeviceId);
                } catch (e) {
                    onError.current(`Failed to set speaker device: ${e instanceof Error ? e.message : "Unknown error"}`, "audio_player_initialization_failure");
                }
            }
            const analyser = initAudioContext.createAnalyser();
            const gain = initAudioContext.createGain();
            analyser.fftSize = 2048;
            analyser.connect(gain);
            gain.connect(initAudioContext.destination);
            analyserNode.current = analyser;
            gainNode.current = gain;
            if (props.enableAudioWorklet) {
                const isWorkletLoaded = await loadAudioWorklet(initAudioContext);
                if (!isWorkletLoaded) {
                    onError.current("Failed to load audio worklet", "audio_worklet_load_failure");
                    return;
                }
                const worklet = new AudioWorkletNode(initAudioContext, "audio-processor");
                worklet.connect(analyser);
                workletNode.current = worklet;
                worklet.port.onmessage = (e)=>{
                    const playingEvent = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].object({
                        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].literal("start_clip"),
                        id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].string(),
                        index: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].number()
                    }).safeParse(e.data);
                    if (playingEvent.success) {
                        if (playingEvent.data.index === 0) {
                            onPlayAudio.current(playingEvent.data.id);
                        }
                        setIsPlaying(true);
                    }
                    const endedEvent = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].object({
                        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].literal("ended")
                    }).safeParse(e.data);
                    if (endedEvent.success) {
                        setIsPlaying(false);
                        onStopAudio.current("stream");
                    }
                    const queueLengthEvent = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].object({
                        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].literal("queueLength"),
                        length: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].number()
                    }).safeParse(e.data);
                    if (queueLengthEvent.success) {
                        if (queueLengthEvent.data.length === 0) {
                            setIsPlaying(false);
                        }
                        setQueueLength(queueLengthEvent.data.length);
                    }
                    const closedEvent = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].object({
                        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].literal("worklet_closed")
                    }).safeParse(e.data);
                    if (closedEvent.success) {
                        isWorkletActive.current = false;
                    }
                };
                frequencyDataIntervalId.current = window.setInterval(()=>{
                    const dataArray = new Uint8Array(analyser.frequencyBinCount);
                    analyser.getByteFrequencyData(dataArray);
                    const barkFrequencies = convertLinearFrequenciesToBark(dataArray, initAudioContext.sampleRate);
                    setFft(()=>barkFrequencies);
                }, 5);
                isInitialized.current = true;
            } else {
                isInitialized.current = true;
            }
        } catch (e) {
            onError.current("Failed to initialize audio player", "audio_player_initialization_failure");
        }
    }, [
        props.enableAudioWorklet
    ]);
    const convertToAudioBuffer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async (message)=>{
        if (!isInitialized.current || !audioContext.current) {
            onError.current("Audio player has not been initialized", "audio_player_not_initialized");
            return;
        }
        const blob = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$wrapper$2f$convertBase64ToBlob$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertBase64ToBlob"])(message.data);
        const arrayBuffer = await blob.arrayBuffer();
        const audioBuffer = await audioContext.current.decodeAudioData(arrayBuffer);
        return audioBuffer;
    }, []);
    const getNextAudioBuffers = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((message, audioBuffer)=>{
        if (!chunkBufferQueues.current[message.id]) {
            chunkBufferQueues.current[message.id] = [];
        }
        const queueForCurrMessage = chunkBufferQueues.current[message.id] || [];
        queueForCurrMessage[message.index] = audioBuffer;
        const lastId = lastQueuedChunk.current?.id;
        const buffers = [];
        if (message.id !== lastId) {
            if (queueForCurrMessage[0]) {
                lastQueuedChunk.current = {
                    id: message.id,
                    index: 0
                };
                buffers.push({
                    id: message.id,
                    index: 0,
                    buffer: queueForCurrMessage[0]
                });
                queueForCurrMessage[0] = void 0;
            } else {
                return [];
            }
        }
        let nextIdx = (lastQueuedChunk.current?.index || 0) + 1;
        let nextBuf = queueForCurrMessage[nextIdx];
        while(nextBuf){
            buffers.push({
                index: nextIdx,
                buffer: nextBuf,
                id: message.id
            });
            queueForCurrMessage[nextIdx] = void 0;
            lastQueuedChunk.current = {
                id: message.id,
                index: nextIdx
            };
            nextIdx += 1;
            nextBuf = queueForCurrMessage[nextIdx];
        }
        return buffers;
    }, []);
    const addToQueue = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async (message)=>{
        if (!isInitialized.current || !audioContext.current) {
            onError.current("Audio player has not been initialized", "audio_player_not_initialized");
            return;
        }
        const audioBuffer = await convertToAudioBuffer(message);
        if (!audioBuffer) {
            onError.current("Failed to convert data to audio buffer", "malformed_audio");
            return;
        }
        const playableBuffers = getNextAudioBuffers(message, audioBuffer);
        if (playableBuffers.length === 0) {
            return;
        }
        try {
            for (const nextAudioBufferToPlay of playableBuffers){
                if (props.enableAudioWorklet) {
                    const pcmData = nextAudioBufferToPlay.buffer.getChannelData(0);
                    workletNode.current?.port.postMessage({
                        type: "audio",
                        data: pcmData,
                        id: nextAudioBufferToPlay.id,
                        index: nextAudioBufferToPlay.index
                    });
                } else if (!props.enableAudioWorklet) {
                    clipQueue.current.push({
                        id: nextAudioBufferToPlay.id,
                        buffer: nextAudioBufferToPlay.buffer,
                        index: nextAudioBufferToPlay.index
                    });
                    setQueueLength(clipQueue.current.length);
                    if (clipQueue.current.length === 1) {
                        playNextClip();
                    }
                }
            }
        } catch (e) {
            const eMessage = e instanceof Error ? e.message : "Unknown error";
            onError.current(`Failed to add clip to queue: ${eMessage}`, "malformed_audio");
        }
    }, [
        convertToAudioBuffer,
        getNextAudioBuffers,
        playNextClip,
        props.enableAudioWorklet
    ]);
    const stopAll = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async ()=>{
        isInitialized.current = false;
        isProcessing.current = false;
        setIsPlaying(false);
        setIsAudioMuted(false);
        setVolumeState(1);
        setFft(generateEmptyFft());
        chunkBufferQueues.current = {};
        lastQueuedChunk.current = null;
        if (frequencyDataIntervalId.current) {
            window.clearInterval(frequencyDataIntervalId.current);
        }
        if (props.enableAudioWorklet) {
            workletNode.current?.port.postMessage({
                type: "fadeAndClear"
            });
            workletNode.current?.port.postMessage({
                type: "end"
            });
            let closed = 0;
            while(closed < 5){
                if (isWorkletActive.current === false) {
                    break;
                }
                closed += 1;
                await new Promise((resolve)=>setTimeout(resolve, 100));
            }
            isWorkletActive.current = false;
            if (workletNode.current) {
                workletNode.current.port.close();
                workletNode.current.disconnect();
                workletNode.current = null;
            }
        } else if (!props.enableAudioWorklet) {
            if (currentlyPlayingAudioBuffer.current) {
                currentlyPlayingAudioBuffer.current.disconnect();
                currentlyPlayingAudioBuffer.current = null;
            }
            clipQueue.current = [];
            setQueueLength(0);
        }
        if (analyserNode.current) {
            analyserNode.current.disconnect();
            analyserNode.current = null;
        }
        if (audioContext.current) {
            await audioContext.current.close().then(()=>{
                audioContext.current = null;
            }).catch(()=>{
                return null;
            });
        }
    }, [
        props.enableAudioWorklet
    ]);
    const stopAllWithRetries = async (maxAttempts = 3, delayMs = 500)=>{
        for(let attempt = 1; attempt <= maxAttempts; attempt++){
            try {
                await stopAll();
                return;
            } catch (e) {
                if (attempt < maxAttempts) {
                    await new Promise((res)=>setTimeout(res, delayMs));
                } else {
                    const message = e instanceof Error ? e.message : "Unknown error";
                    onError.current?.(`Failed to stop audio player after ${maxAttempts} attempts: ${message}`, "audio_player_closure_failure");
                }
            }
        }
    };
    const clearQueue = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        if (props.enableAudioWorklet) {
            workletNode.current?.port.postMessage({
                type: "fadeAndClear"
            });
        } else if (!props.enableAudioWorklet) {
            if (currentlyPlayingAudioBuffer.current) {
                currentlyPlayingAudioBuffer.current.stop();
                currentlyPlayingAudioBuffer.current = null;
            }
            clipQueue.current = [];
            setQueueLength(0);
        }
        isProcessing.current = false;
        setIsPlaying(false);
        setFft(generateEmptyFft());
    }, [
        props.enableAudioWorklet
    ]);
    const setVolume = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((newLevel)=>{
        const clampedLevel = Math.max(0, Math.min(newLevel, 1));
        setVolumeState(clampedLevel);
        if (gainNode.current && audioContext.current && !isAudioMuted) {
            gainNode.current.gain.setValueAtTime(clampedLevel, audioContext.current.currentTime);
        }
    }, [
        isAudioMuted
    ]);
    const muteAudio = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        if (gainNode.current && audioContext.current) {
            gainNode.current.gain.setValueAtTime(0, audioContext.current.currentTime);
            setIsAudioMuted(true);
        }
    }, []);
    const unmuteAudio = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        if (gainNode.current && audioContext.current) {
            gainNode.current.gain.setValueAtTime(volume, audioContext.current.currentTime);
            setIsAudioMuted(false);
        }
    }, [
        volume
    ]);
    return {
        addToQueue,
        fft,
        initPlayer,
        isPlaying,
        isAudioMuted,
        muteAudio,
        unmuteAudio,
        stopAll: stopAllWithRetries,
        clearQueue,
        volume,
        setVolume,
        queueLength
    };
};
;
;
var isNever = (_n)=>{
    return;
};
var VoiceReadyState = /* @__PURE__ */ ((VoiceReadyState2)=>{
    VoiceReadyState2["IDLE"] = "idle";
    VoiceReadyState2["CONNECTING"] = "connecting";
    VoiceReadyState2["OPEN"] = "open";
    VoiceReadyState2["CLOSED"] = "closed";
    return VoiceReadyState2;
})(VoiceReadyState || {});
var getSessionSettingsOnConnect = (sessionSettings)=>{
    if (!sessionSettings) {
        return void 0;
    }
    const { builtinTools, tools, metadata, type, systemPrompt, ...onConnect } = sessionSettings;
    return onConnect;
};
var useVoiceClient = (props)=>{
    const connectAbortController = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const client = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const [readyState, setReadyState] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])("idle" /* IDLE */ );
    const onAudioMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onAudioMessage);
    onAudioMessage.current = props.onAudioMessage;
    const onMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onMessage);
    onMessage.current = props.onMessage;
    const onSessionSettings = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onSessionSettings);
    onSessionSettings.current = props.onSessionSettings;
    const onToolCall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onToolCall);
    onToolCall.current = props.onToolCall;
    const onClientError = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onClientError);
    onClientError.current = props.onClientError;
    const onToolCallError = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onToolCallError);
    onToolCallError.current = props.onToolCallError;
    const onOpen = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onOpen);
    onOpen.current = props.onOpen;
    const onClose = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onClose);
    onClose.current = props.onClose;
    const connect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((config, sessionSettings)=>{
        connectAbortController.current?.abort();
        const controller = new AbortController();
        const signal = controller.signal;
        connectAbortController.current = controller;
        const connectSettings = getSessionSettingsOnConnect(sessionSettings);
        return new Promise((resolve, reject)=>{
            if (signal.aborted) {
                reject(new Error("Connection attempt has already been aborted"));
            }
            const hostname = config.hostname || "api.hume.ai";
            const hume = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$wrapper$2f$HumeClient$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HumeClient"](config.auth.type === "apiKey" ? {
                apiKey: config.auth.value,
                environment: hostname
            } : {
                accessToken: config.auth.value,
                environment: hostname
            });
            const socket = hume.empathicVoice.chat.connect({
                ...config,
                reconnectAttempts: 0,
                ...connectSettings && {
                    sessionSettings: connectSettings
                }
            });
            client.current = socket;
            const abortHandler = ()=>{
                socket.close();
                reject(new Error("Connection attempt has been aborted"));
            };
            signal.addEventListener("abort", abortHandler);
            socket.on("message", (message)=>{
                if (signal.aborted) {
                    return;
                }
                if (message.type === "audio_output") {
                    const messageWithReceivedAt = {
                        ...message,
                        receivedAt: /* @__PURE__ */ new Date()
                    };
                    onAudioMessage.current?.(messageWithReceivedAt);
                    return;
                }
                if (message.type === "chat_metadata") {
                    onOpen.current?.();
                    setReadyState("open" /* OPEN */ );
                    signal.removeEventListener("abort", abortHandler);
                    resolve("open" /* OPEN */ );
                }
                if (message.type === "assistant_message" || message.type === "user_message" || message.type === "user_interruption" || message.type === "error" || message.type === "tool_response" || message.type === "tool_error" || message.type === "chat_metadata" || message.type === "assistant_end" || message.type === "assistant_prosody") {
                    const messageWithReceivedAt = {
                        ...message,
                        receivedAt: /* @__PURE__ */ new Date()
                    };
                    onMessage.current?.(messageWithReceivedAt);
                    return;
                }
                if (message.type === "tool_call") {
                    const messageWithReceivedAt = {
                        ...message,
                        receivedAt: /* @__PURE__ */ new Date()
                    };
                    onMessage.current?.(messageWithReceivedAt);
                    if (message.toolType === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$api$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Hume$3e$__["Hume"].empathicVoice.ToolType.Function) {
                        void onToolCall.current?.({
                            ...messageWithReceivedAt,
                            // we have to do this because even though we are using the correct
                            // enum on line 30 for the type definition
                            // fern exports an interface and a value using the same `ToolType`
                            // identifier so the type comparisons will always fail
                            toolType: "function"
                        }, {
                            success: (content)=>({
                                    type: "tool_response",
                                    toolCallId: messageWithReceivedAt.toolCallId,
                                    content: JSON.stringify(content)
                                }),
                            error: ({ error, code, level, content })=>({
                                    type: "tool_error",
                                    toolCallId: messageWithReceivedAt.toolCallId,
                                    error,
                                    code,
                                    level: level !== null ? "warn" : void 0,
                                    // level can only be warn
                                    content
                                })
                        }).then((response)=>{
                            if (response.type === "tool_response") {
                                socket.sendToolResponseMessage(response);
                            } else if (response.type === "tool_error") {
                                socket.sendToolErrorMessage(response);
                            } else {
                                onToolCallError.current?.("Invalid response from tool call");
                            }
                        });
                    }
                    return;
                }
                if (message.type === "session_settings") {
                    onSessionSettings.current?.(message);
                    return;
                }
                isNever(message);
                return;
            });
            socket.on("close", (event)=>{
                signal.removeEventListener("abort", abortHandler);
                onClose.current?.(event);
                setReadyState("closed" /* CLOSED */ );
            });
            socket.on("error", (e)=>{
                signal.removeEventListener("abort", abortHandler);
                const message = e instanceof Error ? e.message : "Unknown error";
                onClientError.current?.(message, e instanceof Error ? e : void 0);
                reject(e);
            });
            setReadyState("connecting" /* CONNECTING */ );
        });
    }, []);
    const disconnect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        connectAbortController.current?.abort();
        connectAbortController.current = null;
        setReadyState("idle" /* IDLE */ );
        client.current?.close();
    }, []);
    const sendSessionSettings = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((sessionSettings)=>{
        if (readyState !== "open" /* OPEN */ ) {
            return;
        }
        client.current?.sendSessionSettings(sessionSettings);
        onSessionSettings.current?.(sessionSettings);
    }, [
        readyState
    ]);
    const sendAudio = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((arrayBuffer)=>{
        if (readyState !== "open" /* OPEN */ ) {
            return;
        }
        client.current?.socket?.send(arrayBuffer);
    }, [
        readyState
    ]);
    const sendUserInput = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((text)=>{
        if (readyState !== "open" /* OPEN */ ) {
            return;
        }
        client.current?.sendUserInput(text);
    }, [
        readyState
    ]);
    const sendAssistantInput = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((text)=>{
        if (readyState !== "open" /* OPEN */ ) {
            return;
        }
        client.current?.sendAssistantInput({
            text
        });
    }, [
        readyState
    ]);
    const sendToolMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((toolMessage)=>{
        if (readyState !== "open" /* OPEN */ ) {
            return;
        }
        if (toolMessage.type === "tool_error") {
            client.current?.sendToolErrorMessage(toolMessage);
        } else {
            client.current?.sendToolResponseMessage(toolMessage);
        }
    }, [
        readyState
    ]);
    const sendPauseAssistantMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        if (readyState !== "open" /* OPEN */ ) {
            return;
        }
        client.current?.pauseAssistant({});
    }, [
        readyState
    ]);
    const sendResumeAssistantMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        if (readyState !== "open" /* OPEN */ ) {
            return;
        }
        client.current?.resumeAssistant({});
    }, [
        readyState
    ]);
    return {
        readyState,
        sendSessionSettings,
        sendAudio,
        connect,
        disconnect,
        sendUserInput,
        sendAssistantInput,
        sendToolMessage,
        sendPauseAssistantMessage,
        sendResumeAssistantMessage
    };
};
;
// src/lib/noop.ts
var noop = ()=>{};
;
;
var useCallDuration = ()=>{
    const interval = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const startTime = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const [timestamp, setTimestamp] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const start = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        startTime.current = Date.now();
        setTimestamp("00:00:00");
        interval.current = window.setInterval(()=>{
            if (startTime.current) {
                const duration = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$date$2d$fns$2f$intervalToDuration$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["intervalToDuration"])({
                    start: startTime.current,
                    end: Date.now()
                });
                const hours = (duration.hours ?? 0).toString().padStart(2, "0");
                const minutes = (duration.minutes ?? 0).toString().padStart(2, "0");
                const seconds = (duration.seconds ?? 0).toString().padStart(2, "0");
                setTimestamp(`${hours}:${minutes}:${seconds}`);
            }
        }, 500);
    }, []);
    const stop = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        if (interval.current) {
            window.clearInterval(interval.current);
            interval.current = null;
        }
    }, []);
    const reset = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        setTimestamp(null);
    }, []);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        return ()=>{
            if (interval.current) {
                window.clearInterval(interval.current);
                interval.current = null;
            }
        };
    }, []);
    return {
        timestamp,
        start,
        stop,
        reset
    };
};
;
// src/utils/index.ts
var keepLastN = (n, arr)=>{
    if (arr.length <= n) {
        return arr;
    }
    return arr.slice(arr.length - n);
};
// src/lib/useMessages.ts
var useMessages = ({ sendMessageToParent, messageHistoryLimit })=>{
    const [voiceMessageMap, setVoiceMessageMap] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({});
    const [messages, setMessages] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [lastVoiceMessage, setLastVoiceMessage] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [lastUserMessage, setLastUserMessage] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [lastAssistantProsodyMessage, setLastAssistantProsodyMessage] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [chatMetadata, setChatMetadata] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const createConnectMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        setChatMetadata(null);
        setMessages((prev)=>prev.concat([
                {
                    type: "socket_connected",
                    receivedAt: /* @__PURE__ */ new Date()
                }
            ]));
    }, []);
    const createSessionSettingsMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((sessionSettings)=>{
        setMessages((prev)=>prev.concat([
                {
                    type: "session_settings",
                    sessionSettings,
                    receivedAt: /* @__PURE__ */ new Date()
                }
            ]));
    }, []);
    const createDisconnectMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((event)=>{
        setMessages((prev)=>prev.concat([
                {
                    type: "socket_disconnected",
                    code: event.code,
                    reason: event.reason,
                    receivedAt: /* @__PURE__ */ new Date()
                }
            ]));
    }, []);
    const findMostRecentUserMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((allMessages)=>{
        let mostRecentUserMessage;
        let mostRecentUserMessageIndex;
        for(let i = allMessages.length - 1; i >= 0; i--){
            const m = allMessages[i];
            if (m && m.type === "user_message") {
                mostRecentUserMessage = m;
                mostRecentUserMessageIndex = i;
                break;
            }
        }
        return {
            mostRecentUserMessage,
            mostRecentUserMessageIndex
        };
    }, []);
    const updateMessagesArray = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((messageToAdd)=>{
        setMessages((prev)=>{
            const { mostRecentUserMessage, mostRecentUserMessageIndex } = findMostRecentUserMessage(prev);
            if (mostRecentUserMessage?.interim === true) {
                const nextMessages = prev.filter((m, idx)=>{
                    if (idx === mostRecentUserMessageIndex) {
                        return false;
                    }
                    return true;
                });
                return keepLastN(messageHistoryLimit, nextMessages.concat([
                    messageToAdd,
                    mostRecentUserMessage
                ]));
            }
            return keepLastN(messageHistoryLimit, prev.concat([
                messageToAdd
            ]));
        });
    }, [
        findMostRecentUserMessage,
        messageHistoryLimit
    ]);
    const onMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((message)=>{
        switch(message.type){
            case "assistant_message":
                setVoiceMessageMap((prev)=>({
                        ...prev,
                        [`${message.id}`]: message
                    }));
                break;
            case "user_message":
                sendMessageToParent?.(message);
                if (message.interim === false) {
                    setLastUserMessage(message);
                }
                setMessages((prev)=>{
                    if (prev.length === 0) {
                        return keepLastN(messageHistoryLimit, [
                            message
                        ]);
                    }
                    const { mostRecentUserMessage, mostRecentUserMessageIndex } = findMostRecentUserMessage(prev);
                    if (mostRecentUserMessage?.interim === true) {
                        const nextMessages = prev.filter((m, idx)=>{
                            if (idx === mostRecentUserMessageIndex) {
                                return false;
                            }
                            return true;
                        });
                        return keepLastN(messageHistoryLimit, nextMessages.concat([
                            message
                        ]));
                    }
                    return keepLastN(messageHistoryLimit, prev.concat([
                        message
                    ]));
                });
                break;
            case "user_interruption":
            case "error":
            case "tool_call":
            case "tool_response":
            case "tool_error":
            case "assistant_end":
                sendMessageToParent?.(message);
                updateMessagesArray(message);
                break;
            case "assistant_prosody":
                setLastAssistantProsodyMessage(message);
                sendMessageToParent?.(message);
                updateMessagesArray(message);
                break;
            case "chat_metadata":
                sendMessageToParent?.(message);
                updateMessagesArray(message);
                setChatMetadata(message);
                break;
            default:
                break;
        }
    }, [
        findMostRecentUserMessage,
        messageHistoryLimit,
        sendMessageToParent,
        updateMessagesArray
    ]);
    const onPlayAudio = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((id)=>{
        const matchingTranscript = voiceMessageMap[id];
        if (matchingTranscript) {
            sendMessageToParent?.(matchingTranscript);
            setLastVoiceMessage(matchingTranscript);
            updateMessagesArray(matchingTranscript);
            setVoiceMessageMap((prev)=>{
                const newMap = {
                    ...prev
                };
                delete newMap[id];
                return newMap;
            });
        }
    }, [
        voiceMessageMap,
        sendMessageToParent,
        updateMessagesArray
    ]);
    const clearMessages = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        setMessages([]);
        setLastVoiceMessage(null);
        setLastUserMessage(null);
        setLastAssistantProsodyMessage(null);
        setVoiceMessageMap({});
        setChatMetadata(null);
    }, []);
    return {
        createConnectMessage,
        createDisconnectMessage,
        createSessionSettingsMessage,
        onMessage,
        onPlayAudio,
        clearMessages,
        messages,
        lastVoiceMessage,
        lastUserMessage,
        lastAssistantProsodyMessage,
        chatMetadata
    };
};
;
var useToolStatus = ()=>{
    const [store, setStore] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({});
    const addToStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((message)=>{
        setStore((prev)=>{
            const entry = {
                ...prev[message.toolCallId]
            };
            if (message.type === "tool_call") {
                entry.call = message;
            }
            if (message.type === "tool_response" || message.type === "tool_error") {
                entry.resolved = message;
            }
            return {
                ...prev,
                [message.toolCallId]: entry
            };
        });
    }, []);
    const clearStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        setStore({});
    }, []);
    return {
        store,
        addToStore,
        clearStore
    };
};
;
var VoiceContext = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"])(null);
var useVoice = ()=>{
    const ctx = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(VoiceContext);
    if (!ctx) {
        throw new Error("useVoice must be used within an VoiceProvider");
    }
    return ctx;
};
var VoiceProvider = ({ children, clearMessagesOnDisconnect = true, messageHistoryLimit = 100, enableAudioWorklet = true, ...props })=>{
    const { timestamp: callDurationTimestamp, start: startTimer, stop: stopTimer } = useCallDuration();
    const [status, setStatus] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({
        value: "disconnected"
    });
    const isConnectingRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(false);
    const resourceStatusRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])({
        mic: "disconnected",
        audioPlayer: "disconnected",
        socket: "disconnected"
    });
    const [isPaused, setIsPaused] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const isError = error !== null;
    const isMicrophoneError = error?.type === "mic_error";
    const isSocketError = error?.type === "socket_error";
    const isAudioError = error?.type === "audio_error";
    const onError = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onError ?? noop);
    onError.current = props.onError ?? noop;
    const onClose = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onClose ?? noop);
    onClose.current = props.onClose ?? noop;
    const onMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onMessage ?? noop);
    onMessage.current = props.onMessage ?? noop;
    const onAudioReceived = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onAudioReceived ?? noop);
    onAudioReceived.current = props.onAudioReceived ?? noop;
    const onAudioStart = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onAudioStart ?? noop);
    onAudioStart.current = props.onAudioStart ?? noop;
    const onAudioEnd = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onAudioEnd ?? noop);
    onAudioEnd.current = props.onAudioEnd ?? noop;
    const onInterruption = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(props.onInterruption ?? noop);
    onInterruption.current = props.onInterruption ?? noop;
    const toolStatus = useToolStatus();
    const messageStore = useMessages({
        sendMessageToParent: onMessage.current,
        messageHistoryLimit
    });
    const checkIsDisconnected = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        return resourceStatusRef.current.mic === "disconnected" || resourceStatusRef.current.audioPlayer === "disconnected" || resourceStatusRef.current.socket === "disconnected";
    }, []);
    const checkIsDisconnecting = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        return resourceStatusRef.current.mic === "disconnecting" || resourceStatusRef.current.audioPlayer === "disconnecting" || resourceStatusRef.current.socket === "disconnecting";
    }, []);
    const updateError = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((err)=>{
        setError(err);
        if (err !== null) {
            onError.current?.(err);
        }
    }, []);
    const onClientError = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((msg, err)=>{
        stopTimer();
        const message = `A websocket connection could not be established. Error message: ${msg ?? "unknown"}`;
        updateError({
            type: "socket_error",
            reason: "socket_connection_failure",
            message,
            error: err
        });
    }, [
        stopTimer,
        updateError
    ]);
    const config = props;
    const micStopFnRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const player = useSoundPlayer({
        enableAudioWorklet,
        onError: (message, reason)=>{
            if (checkIsDisconnecting() || checkIsDisconnected()) {
                return;
            }
            updateError({
                type: "audio_error",
                reason,
                message
            });
        },
        onPlayAudio: (id)=>{
            messageStore.onPlayAudio(id);
            onAudioStart.current(id);
        },
        onStopAudio: (id)=>{
            onAudioEnd.current(id);
        }
    });
    const { getStream, stopStream } = useMicrophoneStream();
    const client = useVoiceClient({
        onAudioMessage: (message)=>{
            if (checkIsDisconnecting() || checkIsDisconnected()) {
                return;
            }
            void player.addToQueue(message);
            onAudioReceived.current(message);
        },
        onMessage: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((message)=>{
            if (checkIsDisconnecting() || checkIsDisconnected()) {
                return;
            }
            messageStore.onMessage(message);
            if (message.type === "user_interruption" || message.type === "user_message") {
                if (player.isPlaying) {
                    onInterruption.current(message);
                }
                player.clearQueue();
            }
            if (message.type === "tool_call" || message.type === "tool_response" || message.type === "tool_error") {
                toolStatus.addToStore(message);
            }
            if (message.type === "error") {
                const error2 = {
                    type: "socket_error",
                    reason: "received_assistant_error_message",
                    message: message.message
                };
                onError.current?.(error2);
            }
        }, [
            checkIsDisconnected,
            checkIsDisconnecting,
            messageStore,
            player,
            toolStatus
        ]),
        onSessionSettings: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((sessionSettings)=>{
            if (checkIsDisconnecting() || checkIsDisconnected()) {
                return;
            }
            messageStore.createSessionSettingsMessage(sessionSettings);
        }, [
            checkIsDisconnected,
            checkIsDisconnecting,
            messageStore
        ]),
        onClientError,
        onToolCallError: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((message, err)=>{
            const error2 = {
                type: "socket_error",
                reason: "received_tool_call_error",
                message,
                error: err
            };
            updateError(error2);
        }, [
            updateError
        ]),
        onOpen: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
            startTimer();
            messageStore.createConnectMessage();
            props.onOpen?.();
        }, [
            messageStore,
            props,
            startTimer
        ]),
        onClose: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((event)=>{
            stopTimer();
            isConnectingRef.current = false;
            resourceStatusRef.current.socket = "disconnected";
            messageStore.createDisconnectMessage(event);
            if (clearMessagesOnDisconnect) {
                messageStore.clearMessages();
            }
            toolStatus.clearStore();
            setIsPaused(false);
            const resourceShutdownFns = [];
            if (resourceStatusRef.current.audioPlayer === "connected") {
                resourceShutdownFns.push(player.stopAll());
            }
            if (resourceStatusRef.current.mic === "connected") {
                resourceShutdownFns.push(micStopFnRef.current?.());
            }
            if (resourceShutdownFns.length > 0) {
                void Promise.all(resourceShutdownFns).then(()=>{
                    resourceStatusRef.current.audioPlayer = "disconnected";
                    resourceStatusRef.current.mic = "disconnected";
                    setStatus({
                        value: "disconnected"
                    });
                    onClose.current?.(event);
                });
            } else {
                onClose.current?.(event);
            }
        }, [
            clearMessagesOnDisconnect,
            messageStore,
            player,
            stopTimer,
            toolStatus
        ]),
        onToolCall: props.onToolCall
    });
    const { sendAudio: clientSendAudio, sendUserInput: clientSendUserInput, sendAssistantInput: clientSendAssistantInput, sendSessionSettings: clientSendSessionSettings, sendToolMessage: clientSendToolMessage, sendPauseAssistantMessage, sendResumeAssistantMessage } = client;
    const mic = useMicrophone({
        onAudioCaptured: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((arrayBuffer)=>{
            if (resourceStatusRef.current.socket === "disconnecting" || resourceStatusRef.current.socket === "disconnected") {
                return;
            }
            try {
                clientSendAudio(arrayBuffer);
            } catch (e) {
                const message = e instanceof Error ? e.message : "Unknown error";
                updateError({
                    type: "socket_error",
                    reason: "failed_to_send_audio",
                    message
                });
            }
        }, [
            clientSendAudio,
            updateError
        ]),
        onError: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((message, reason)=>{
            updateError({
                type: "mic_error",
                reason,
                message
            });
        }, [
            updateError
        ])
    });
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        micStopFnRef.current = mic.stop;
    }, [
        mic
    ]);
    const { clearQueue } = player;
    const pauseAssistant = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        try {
            sendPauseAssistantMessage();
            setIsPaused(true);
        } catch (e) {
            const message = e instanceof Error ? e.message : "Unknown error";
            updateError({
                type: "socket_error",
                reason: "failed_to_send_message",
                message
            });
        }
        clearQueue();
    }, [
        sendPauseAssistantMessage,
        clearQueue,
        updateError
    ]);
    const resumeAssistant = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        try {
            sendResumeAssistantMessage();
            setIsPaused(false);
        } catch (e) {
            const message = e instanceof Error ? e.message : "Unknown error";
            updateError({
                type: "socket_error",
                reason: "failed_to_send_message",
                message
            });
        }
    }, [
        sendResumeAssistantMessage,
        updateError
    ]);
    const checkShouldContinueConnecting = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        return isConnectingRef.current !== false;
    }, []);
    const connect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async (options)=>{
        const { audioConstraints = {}, sessionSettings, devices, ...socketConfig } = options;
        if (isConnectingRef.current || status.value === "connected") {
            console.warn("Already connected or connecting to a chat. Ignoring duplicate connection attempt.");
            return;
        }
        updateError(null);
        setStatus({
            value: "connecting"
        });
        resourceStatusRef.current.socket = "connecting";
        resourceStatusRef.current.audioPlayer = "connecting";
        resourceStatusRef.current.mic = "connecting";
        isConnectingRef.current = true;
        let stream = null;
        const micConstraints = {
            ...audioConstraints,
            deviceId: devices?.microphoneDeviceId
        };
        try {
            stream = await getStream(micConstraints);
        } catch (e) {
            const isPermissionDeniedError = e instanceof DOMException && e.name === "NotAllowedError";
            const error2 = {
                type: "mic_error",
                reason: isPermissionDeniedError ? "mic_permission_denied" : "mic_initialization_failure",
                message: e instanceof Error ? e.message : "The microphone could not be initialized."
            };
            updateError(error2);
            return;
        }
        if (!checkShouldContinueConnecting()) {
            console.warn("Connection attempt was canceled. Stopping connection.");
            return;
        }
        try {
            await player.initPlayer(devices?.speakerDeviceId);
        } catch (e) {
            resourceStatusRef.current.audioPlayer = "disconnected";
            updateError({
                type: "audio_error",
                reason: "audio_player_initialization_failure",
                message: e instanceof Error ? e.message : "We could not connect to the audio player. Please try again."
            });
            return;
        }
        resourceStatusRef.current.audioPlayer = "connected";
        if (!checkShouldContinueConnecting()) {
            console.warn("Connection attempt was canceled. Stopping connection.");
            return;
        }
        try {
            await client.connect({
                ...socketConfig,
                verboseTranscription: socketConfig.verboseTranscription ?? true
            }, sessionSettings);
        } catch (e) {
            return;
        }
        resourceStatusRef.current.socket = "connected";
        if (!checkShouldContinueConnecting()) {
            console.warn("Connection attempt was canceled. Stopping connection.");
            return;
        }
        try {
            mic.start(stream);
        } catch (e) {
            resourceStatusRef.current.mic = "disconnected";
            updateError({
                type: "mic_error",
                reason: "mic_initialization_failure",
                message: e instanceof Error ? e.message : "We could not connect to the microphone. Please try again."
            });
            return;
        }
        resourceStatusRef.current.mic = "connected";
        setStatus({
            value: "connected"
        });
        isConnectingRef.current = false;
    }, [
        checkShouldContinueConnecting,
        client,
        getStream,
        mic,
        player,
        status.value,
        updateError
    ]);
    const disconnectAndCleanUpResources = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async ()=>{
        resourceStatusRef.current.socket = "disconnecting";
        resourceStatusRef.current.audioPlayer = "disconnecting";
        resourceStatusRef.current.mic = "disconnecting";
        isConnectingRef.current = false;
        stopTimer();
        stopStream();
        await mic.stop();
        resourceStatusRef.current.mic = "disconnected";
        if (client.readyState !== "closed" /* CLOSED */ ) {
            client.disconnect();
        } else {
            resourceStatusRef.current.socket = "disconnected";
        }
        await player.stopAll();
        resourceStatusRef.current.audioPlayer = "disconnected";
        if (clearMessagesOnDisconnect) {
            messageStore.clearMessages();
        }
        toolStatus.clearStore();
        setIsPaused(false);
    }, [
        stopTimer,
        stopStream,
        mic,
        client,
        player,
        clearMessagesOnDisconnect,
        toolStatus,
        messageStore
    ]);
    const disconnect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async (disconnectOnError)=>{
        await disconnectAndCleanUpResources();
        if (status.value !== "error" && !disconnectOnError) {
            setStatus({
                value: "disconnected"
            });
        }
    }, [
        disconnectAndCleanUpResources,
        status.value
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (error !== null && status.value !== "error") {
            setStatus({
                value: "error",
                reason: error.message
            });
            void disconnectAndCleanUpResources();
        }
    }, [
        status.value,
        disconnect,
        disconnectAndCleanUpResources,
        error
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        return ()=>{
            void disconnectAndCleanUpResources().then(()=>{
                setStatus({
                    value: "disconnected"
                });
                isConnectingRef.current = false;
                resourceStatusRef.current = {
                    mic: "disconnected",
                    audioPlayer: "disconnected",
                    socket: "disconnected"
                };
            });
        };
    }, []);
    const sendUserInput = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((text)=>{
        if (resourceStatusRef.current.socket !== "connected") {
            console.warn("Socket is not connected. Cannot send user input.");
            return;
        }
        try {
            clientSendUserInput(text);
        } catch (e) {
            const message = e instanceof Error ? e.message : "Unknown error";
            updateError({
                type: "socket_error",
                reason: "failed_to_send_message",
                message
            });
        }
    }, [
        clientSendUserInput,
        updateError
    ]);
    const sendAssistantInput = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((text)=>{
        if (resourceStatusRef.current.socket !== "connected") {
            console.warn("Socket is not connected. Cannot send assistant input.");
            return;
        }
        try {
            clientSendAssistantInput(text);
        } catch (e) {
            const message = e instanceof Error ? e.message : "Unknown error";
            updateError({
                type: "socket_error",
                reason: "failed_to_send_message",
                message
            });
        }
    }, [
        clientSendAssistantInput,
        updateError
    ]);
    const sendSessionSettings = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((sessionSettings)=>{
        if (resourceStatusRef.current.socket !== "connected") {
            console.warn("Socket is not connected. Cannot send session settings.");
            return;
        }
        try {
            clientSendSessionSettings(sessionSettings);
        } catch (e) {
            const message = e instanceof Error ? e.message : "Unknown error";
            updateError({
                type: "socket_error",
                reason: "failed_to_send_message",
                message
            });
        }
    }, [
        clientSendSessionSettings,
        updateError
    ]);
    const sendToolMessage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((message)=>{
        if (resourceStatusRef.current.socket !== "connected") {
            console.warn("Socket is not connected. Cannot send tool message.");
            return;
        }
        try {
            clientSendToolMessage(message);
        } catch (e) {
            const message2 = e instanceof Error ? e.message : "Unknown error";
            updateError({
                type: "socket_error",
                reason: "failed_to_send_message",
                message: message2
            });
        }
    }, [
        clientSendToolMessage,
        updateError
    ]);
    const ctx = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>({
            connect,
            disconnect,
            fft: player.fft,
            micFft: mic.fft,
            isMuted: mic.isMuted,
            isAudioMuted: player.isAudioMuted,
            isPlaying: player.isPlaying,
            messages: messageStore.messages,
            lastVoiceMessage: messageStore.lastVoiceMessage,
            lastUserMessage: messageStore.lastUserMessage,
            lastAssistantProsodyMessage: messageStore.lastAssistantProsodyMessage,
            clearMessages: messageStore.clearMessages,
            mute: mic.mute,
            muteAudio: player.muteAudio,
            readyState: client.readyState,
            sendUserInput,
            sendAssistantInput,
            sendSessionSettings,
            pauseAssistant,
            resumeAssistant,
            sendToolMessage,
            status,
            unmute: mic.unmute,
            unmuteAudio: player.unmuteAudio,
            error,
            isAudioError,
            isError,
            isMicrophoneError,
            isSocketError,
            callDurationTimestamp,
            toolStatusStore: toolStatus.store,
            chatMetadata: messageStore.chatMetadata,
            playerQueueLength: player.queueLength,
            isPaused,
            volume: player.volume,
            setVolume: player.setVolume
        }), [
        connect,
        disconnect,
        player.fft,
        player.isAudioMuted,
        player.isPlaying,
        player.muteAudio,
        player.unmuteAudio,
        player.queueLength,
        player.volume,
        player.setVolume,
        mic.fft,
        mic.isMuted,
        mic.mute,
        mic.unmute,
        messageStore.messages,
        messageStore.lastVoiceMessage,
        messageStore.lastUserMessage,
        messageStore.lastAssistantProsodyMessage,
        messageStore.clearMessages,
        messageStore.chatMetadata,
        client.readyState,
        sendUserInput,
        sendAssistantInput,
        sendSessionSettings,
        pauseAssistant,
        resumeAssistant,
        sendToolMessage,
        status,
        error,
        isAudioError,
        isError,
        isMicrophoneError,
        isSocketError,
        callDurationTimestamp,
        toolStatus.store,
        isPaused
    ]);
    return /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(VoiceContext.Provider, {
        value: ctx,
        children
    });
};
// src/lib/errors.ts
var SocketUnknownMessageError = class extends Error {
    constructor(message){
        super(`Unknown message type.${message ? " " + message : ""}`);
        this.name = "SocketUnknownMessageError";
    }
};
var isSocketUnknownMessageError = (err)=>{
    return err instanceof SocketUnknownMessageError;
};
var SocketFailedToParseMessageError = class extends Error {
    constructor(message){
        super(`Failed to parse message from socket.${message ? " " + message : ""}`);
        this.name = "SocketFailedToParseMessageError";
    }
};
var isSocketFailedToParseMessageError = (err)=>{
    return err instanceof SocketFailedToParseMessageError;
};
;
;
var AudioMessageSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].object({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].literal("audio"),
    data: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].instanceof(ArrayBuffer)
}).transform((obj)=>{
    return Object.assign(obj, {
        receivedAt: /* @__PURE__ */ new Date()
    });
});
var parseAudioMessage = async (blob)=>{
    return blob.arrayBuffer().then((buffer)=>{
        return {
            type: "audio",
            data: buffer,
            receivedAt: /* @__PURE__ */ new Date()
        };
    }).catch(()=>{
        return null;
    });
};
// src/lib/messages.ts
var parseMessageData = async (data)=>{
    if (data instanceof Blob) {
        const message = await parseAudioMessage(data);
        if (message) {
            return {
                success: true,
                message
            };
        } else {
            return {
                success: false,
                error: new SocketFailedToParseMessageError(`Received blob was unable to be converted to ArrayBuffer.`)
            };
        }
    }
    if (typeof data !== "string") {
        return {
            success: false,
            error: new SocketFailedToParseMessageError(`Expected a string but received ${typeof data}.`)
        };
    }
    const parseResponse = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$humeai$2f$voice$2d$react$2f$node_modules$2f$hume$2f$dist$2f$esm$2f$serialization$2f$resources$2f$empathicVoice$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__empathicVoice$3e$__["empathicVoice"].SubscribeEvent.parse(data);
    if (!parseResponse.ok) {
        return {
            success: false,
            error: new SocketUnknownMessageError(`Received JSON was not a known message type.`)
        };
    }
    return {
        success: true,
        message: parseResponse.value
    };
};
var parseMessageType = async (event)=>{
    const data = event.data;
    return parseMessageData(data);
};
// src/models/audio.ts
var Channels = /* @__PURE__ */ ((Channels2)=>{
    Channels2[Channels2["MONO"] = 1] = "MONO";
    Channels2[Channels2["STEREO"] = 2] = "STEREO";
    return Channels2;
})(Channels || {});
var AudioEncoding = /* @__PURE__ */ ((AudioEncoding2)=>{
    AudioEncoding2["LINEAR16"] = "linear16";
    AudioEncoding2["OPUS"] = "opus";
    return AudioEncoding2;
})(AudioEncoding || {});
// src/models/llm.ts
var LanguageModelOption = /* @__PURE__ */ ((LanguageModelOption2)=>{
    LanguageModelOption2["CLAUDE_3_OPUS"] = "CLAUDE_3_OPUS";
    LanguageModelOption2["CLAUDE_3_SONNET"] = "CLAUDE_3_SONNET";
    LanguageModelOption2["CLAUDE_3_HAIKU"] = "CLAUDE_3_HAIKU";
    LanguageModelOption2["CLAUDE_21"] = "CLAUDE_21";
    LanguageModelOption2["CLAUDE_INSTANT_12"] = "CLAUDE_INSTANT_12";
    LanguageModelOption2["GPT_4_TURBO_PREVIEW"] = "GPT_4_TURBO_PREVIEW";
    LanguageModelOption2["GPT_35_TURBO_0125"] = "GPT_35_TURBO_0125";
    LanguageModelOption2["GPT_35_TURBO"] = "GPT_35_TURBO";
    LanguageModelOption2["FIREWORKS_MIXTRAL_8X7B"] = "FIREWORKS_MIXTRAL_8X7B";
    return LanguageModelOption2;
})(LanguageModelOption || {});
;
var TimeSliceSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].object({
    begin: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].number(),
    end: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].number()
});
// src/models/ttsService.ts
var TTSService = /* @__PURE__ */ ((TTSService2)=>{
    TTSService2["DEFAULT"] = "hume_ai";
    TTSService2["ELEVEN_LABS"] = "eleven_labs";
    TTSService2["PLAY_HT"] = "play_ht";
    return TTSService2;
})(TTSService || {});
;
 //# sourceMappingURL=index.mjs.map
}),

};

//# sourceMappingURL=node_modules_2d9cc7b1._.js.map
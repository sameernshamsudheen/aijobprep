{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/data/env/server.ts"],"sourcesContent":["import { createEnv } from \"@t3-oss/env-nextjs\";\nimport { z } from \"zod\";\n\nexport const serverEnv = createEnv({\n  server: {\n    CLERK_SECRET_KEY: z.string().min(1),\n    ARCJET_KEY: z.string().min(1),\n    POSTGRES_DB: z.string().min(1),\n    POSTGRES_USER: z.string().min(1),\n    POSTGRES_PASSWORD: z.string().min(1),\n    POSTGRES_PORT: z.string().min(1),\n    POSTGRES_HOST: z.string().min(1),\n    POSTGRES_HOSTNAME: z.string().min(1),\n    HUME_API_KEY: z.string().min(1),\n    HUME_SECRET_KEY: z.string().min(1),\n    GEMINI_API_KEY: z.string().min(1),\n  },\n\n  createFinalSchema:env=>{\n    return z.object(env).transform(val=>{\n      const {POSTGRES_HOST,POSTGRES_DB,POSTGRES_PASSWORD,POSTGRES_PORT,POSTGRES_USER,...rest} =val\n      return{\n        ...rest,\n         DATABSE_URL:`postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}`\n      }\n    })\n  },\n  experimental__runtimeEnv: process.env,\n  emptyStringAsUndefined: true,\n});\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,YAAY,IAAA,kLAAS,EAAC;IACjC,QAAQ;QACN,kBAAkB,+KAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACjC,YAAY,+KAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC3B,aAAa,+KAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC5B,eAAe,+KAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC9B,mBAAmB,+KAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAClC,eAAe,+KAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC9B,eAAe,+KAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC9B,mBAAmB,+KAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAClC,cAAc,+KAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC7B,iBAAiB,+KAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAChC,gBAAgB,+KAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IACjC;IAEA,mBAAkB,CAAA;QAChB,OAAO,+KAAC,CAAC,MAAM,CAAC,KAAK,SAAS,CAAC,CAAA;YAC7B,MAAM,EAAC,aAAa,EAAC,WAAW,EAAC,iBAAiB,EAAC,aAAa,EAAC,aAAa,EAAC,GAAG,MAAK,GAAE;YACzF,OAAM;gBACJ,GAAG,IAAI;gBACN,aAAY,CAAC,WAAW,EAAE,cAAc,CAAC,EAAE,kBAAkB,CAAC,EAAE,cAAc,CAAC,EAAE,cAAc,CAAC,EAAE,aAAa;YAClH;QACF;IACF;IACA,0BAA0B,QAAQ,GAAG;IACrC,wBAAwB;AAC1B"}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import arcjet, { detectBot, shield, slidingWindow } from \"@arcjet/next\";\nimport { clerkMiddleware, createRouteMatcher } from \"@clerk/nextjs/server\";\nimport { serverEnv } from \"./data/env/server\";\n\nconst isPublicRoute = createRouteMatcher([\n  \"/sign-in(.*)\",\n  \"/\",\n  \"/onboarding(.*)\",\n  \"/api/webhooks/clerk(.*)\",\n]);\n\nconst aj = arcjet({\n  key: serverEnv.ARCJET_KEY,\n  rules: [\n    shield({ mode: \"LIVE\" }),\n    detectBot({\n      mode: \"LIVE\",\n      allow: [\"CATEGORY:SEARCH_ENGINE\", \"CATEGORY:MONITOR\", \"CATEGORY:PREVIEW\"],\n    }),\n    slidingWindow({\n      mode: \"LIVE\",\n      interval: \"1m\",\n      max: 100,\n    }),\n  ],\n});\n\nexport default clerkMiddleware(async (auth, req) => {\n  if (process.env.ARCJET_KEY) {\n    const decision = await aj.protect(req);\n    if (decision.isDenied()) {\n      return new Response(\"Forbidden\", { status: 403 });\n    }\n  }\n\n  if (!isPublicRoute(req)) {\n    await auth.protect();\n  }\n});\n\nexport const config = {\n  matcher: [\n    // Skip Next.js internals and all static files, unless found in search params\n    \"/((?!_next|[^?]*\\\\.(?:html?|css|js(?!on)|jpe?g|webp|png|gif|svg|ttf|woff2?|ico|csv|docx?|xlsx?|zip|webmanifest)).*)\",\n    // Always run for API routes\n    \"/(api|trpc)(.*)\",\n  ],\n};\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AACA;AAAA;AACA;;;;;;;;;;AAEA,MAAM,gBAAgB,IAAA,wMAAkB,EAAC;IACvC;IACA;IACA;IACA;CACD;AAED,MAAM,KAAK,IAAA,4KAAM,EAAC;IAChB,KAAK,iJAAS,CAAC,UAAU;IACzB,OAAO;QACL,IAAA,iKAAM,EAAC;YAAE,MAAM;QAAO;QACtB,IAAA,oKAAS,EAAC;YACR,MAAM;YACN,OAAO;gBAAC;gBAA0B;gBAAoB;aAAmB;QAC3E;QACA,IAAA,wKAAa,EAAC;YACZ,MAAM;YACN,UAAU;YACV,KAAK;QACP;KACD;AACH;uCAEe,IAAA,wMAAe,EAAC,OAAO,MAAM;IAC1C,IAAI,QAAQ,GAAG,CAAC,UAAU,EAAE;QAC1B,MAAM,WAAW,MAAM,GAAG,OAAO,CAAC;QAClC,IAAI,SAAS,QAAQ,IAAI;YACvB,OAAO,IAAI,SAAS,aAAa;gBAAE,QAAQ;YAAI;QACjD;IACF;IAEA,IAAI,CAAC,cAAc,MAAM;QACvB,MAAM,KAAK,OAAO;IACpB;AACF;AAEO,MAAM,SAAS;IACpB,SAAS;QACP,6EAA6E;QAC7E;QACA,4BAA4B;QAC5B;KACD;AACH"}}]
}
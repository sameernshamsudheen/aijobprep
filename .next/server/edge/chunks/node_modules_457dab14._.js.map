{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/typeid-js/node_modules/uuid/dist/esm-browser/regex.js"],"sourcesContent":["export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;"],"names":[],"mappings":";;;uCAAe","ignoreList":[0]}},
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/typeid-js/node_modules/uuid/dist/esm-browser/validate.js"],"sourcesContent":["import REGEX from './regex.js';\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\nexport default validate;"],"names":[],"mappings":";;;AAAA;;AACA,SAAS,SAAS,IAAI;IACpB,OAAO,OAAO,SAAS,YAAY,0MAAK,CAAC,IAAI,CAAC;AAChD;uCACe","ignoreList":[0]}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/typeid-js/node_modules/uuid/dist/esm-browser/stringify.js"],"sourcesContent":["import validate from './validate.js';\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  var uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\nexport default stringify;"],"names":[],"mappings":";;;;AAAA;;AAEA;;;CAGC,GACD,IAAI,YAAY,EAAE;AAClB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,EAAG;IAC5B,UAAU,IAAI,CAAC,CAAC,IAAI,KAAK,EAAE,QAAQ,CAAC,IAAI,KAAK,CAAC;AAChD;AACO,SAAS,gBAAgB,GAAG,EAAE,SAAS,CAAC;IAC7C,uEAAuE;IACvE,oFAAoF;IACpF,EAAE;IACF,sEAAsE;IACtE,uEAAuE;IACvE,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,EAAE,WAAW;AAClgB;AACA,SAAS,UAAU,GAAG,EAAE,SAAS,CAAC;IAChC,IAAI,OAAO,gBAAgB,KAAK;IAChC,4EAA4E;IAC5E,oBAAoB;IACpB,wEAAwE;IACxE,2BAA2B;IAC3B,mEAAmE;IACnE,IAAI,CAAC,IAAA,6MAAQ,EAAC,OAAO;QACnB,MAAM,UAAU;IAClB;IACA,OAAO;AACT;uCACe","ignoreList":[0]}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/typeid-js/node_modules/uuid/dist/esm-browser/rng.js"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}"],"names":[],"mappings":"AAAA,6FAA6F;AAC7F,6FAA6F;AAC7F,mCAAmC;;;;AAEnC,IAAI;AACJ,IAAI,QAAQ,IAAI,WAAW;AACZ,SAAS;IACtB,8EAA8E;IAC9E,IAAI,CAAC,iBAAiB;QACpB,4FAA4F;QAC5F,kBAAkB,OAAO,WAAW,eAAe,OAAO,eAAe,IAAI,OAAO,eAAe,CAAC,IAAI,CAAC;QACzG,IAAI,CAAC,iBAAiB;YACpB,MAAM,IAAI,MAAM;QAClB;IACF;IACA,OAAO,gBAAgB;AACzB","ignoreList":[0]}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/typeid-js/node_modules/uuid/dist/esm-browser/v7.js"],"sourcesContent":["import rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\n/**\n * UUID V7 - Unix Epoch time-based UUID\n *\n * The IETF has published RFC9562, introducing 3 new UUID versions (6,7,8). This\n * implementation of V7 is based on the accepted, though not yet approved,\n * revisions.\n *\n * RFC 9562:https://www.rfc-editor.org/rfc/rfc9562.html Universally Unique\n * IDentifiers (UUIDs)\n\n *\n * Sample V7 value:\n * https://www.rfc-editor.org/rfc/rfc9562.html#name-example-of-a-uuidv7-value\n *\n * Monotonic Bit Layout: RFC rfc9562.6.2 Method 1, Dedicated Counter Bits ref:\n *     https://www.rfc-editor.org/rfc/rfc9562.html#section-6.2-5.1\n *\n *   0                   1                   2                   3 0 1 2 3 4 5 6\n *   7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |                          unix_ts_ms                           |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |          unix_ts_ms           |  ver  |        seq_hi         |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |var|               seq_low               |        rand         |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |                             rand                              |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *\n * seq is a 31 bit serialized counter; comprised of 12 bit seq_hi and 19 bit\n * seq_low, and randomly initialized upon timestamp change. 31 bit counter size\n * was selected as any bitwise operations in node are done as _signed_ 32 bit\n * ints. we exclude the sign bit.\n */\n\nvar _seqLow = null;\nvar _seqHigh = null;\nvar _msecs = 0;\nfunction v7(options, buf, offset) {\n  options = options || {};\n\n  // initialize buffer and pointer\n  var i = buf && offset || 0;\n  var b = buf || new Uint8Array(16);\n\n  // rnds is Uint8Array(16) filled with random bytes\n  var rnds = options.random || (options.rng || rng)();\n\n  // milliseconds since unix epoch, 1970-01-01 00:00\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now();\n\n  // seq is user provided 31 bit counter\n  var seq = options.seq !== undefined ? options.seq : null;\n\n  // initialize local seq high/low parts\n  var seqHigh = _seqHigh;\n  var seqLow = _seqLow;\n\n  // check if clock has advanced and user has not provided msecs\n  if (msecs > _msecs && options.msecs === undefined) {\n    _msecs = msecs;\n\n    // unless user provided seq, reset seq parts\n    if (seq !== null) {\n      seqHigh = null;\n      seqLow = null;\n    }\n  }\n\n  // if we have a user provided seq\n  if (seq !== null) {\n    // trim provided seq to 31 bits of value, avoiding overflow\n    if (seq > 0x7fffffff) {\n      seq = 0x7fffffff;\n    }\n\n    // split provided seq into high/low parts\n    seqHigh = seq >>> 19 & 0xfff;\n    seqLow = seq & 0x7ffff;\n  }\n\n  // randomly initialize seq\n  if (seqHigh === null || seqLow === null) {\n    seqHigh = rnds[6] & 0x7f;\n    seqHigh = seqHigh << 8 | rnds[7];\n    seqLow = rnds[8] & 0x3f; // pad for var\n    seqLow = seqLow << 8 | rnds[9];\n    seqLow = seqLow << 5 | rnds[10] >>> 3;\n  }\n\n  // increment seq if within msecs window\n  if (msecs + 10000 > _msecs && seq === null) {\n    if (++seqLow > 0x7ffff) {\n      seqLow = 0;\n      if (++seqHigh > 0xfff) {\n        seqHigh = 0;\n\n        // increment internal _msecs. this allows us to continue incrementing\n        // while staying monotonic. Note, once we hit 10k milliseconds beyond system\n        // clock, we will reset breaking monotonicity (after (2^31)*10000 generations)\n        _msecs++;\n      }\n    }\n  } else {\n    // resetting; we have advanced more than\n    // 10k milliseconds beyond system clock\n    _msecs = msecs;\n  }\n  _seqHigh = seqHigh;\n  _seqLow = seqLow;\n\n  // [bytes 0-5] 48 bits of local timestamp\n  b[i++] = _msecs / 0x10000000000 & 0xff;\n  b[i++] = _msecs / 0x100000000 & 0xff;\n  b[i++] = _msecs / 0x1000000 & 0xff;\n  b[i++] = _msecs / 0x10000 & 0xff;\n  b[i++] = _msecs / 0x100 & 0xff;\n  b[i++] = _msecs & 0xff;\n\n  // [byte 6] - set 4 bits of version (7) with first 4 bits seq_hi\n  b[i++] = seqHigh >>> 4 & 0x0f | 0x70;\n\n  // [byte 7] remaining 8 bits of seq_hi\n  b[i++] = seqHigh & 0xff;\n\n  // [byte 8] - variant (2 bits), first 6 bits seq_low\n  b[i++] = seqLow >>> 13 & 0x3f | 0x80;\n\n  // [byte 9] 8 bits seq_low\n  b[i++] = seqLow >>> 5 & 0xff;\n\n  // [byte 10] remaining 5 bits seq_low, 3 bits random\n  b[i++] = seqLow << 3 & 0xff | rnds[10] & 0x07;\n\n  // [bytes 11-15] always random\n  b[i++] = rnds[11];\n  b[i++] = rnds[12];\n  b[i++] = rnds[13];\n  b[i++] = rnds[14];\n  b[i++] = rnds[15];\n  return buf || unsafeStringify(b);\n}\nexport default v7;"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAiCC,GAED,IAAI,UAAU;AACd,IAAI,WAAW;AACf,IAAI,SAAS;AACb,SAAS,GAAG,OAAO,EAAE,GAAG,EAAE,MAAM;IAC9B,UAAU,WAAW,CAAC;IAEtB,gCAAgC;IAChC,IAAI,IAAI,OAAO,UAAU;IACzB,IAAI,IAAI,OAAO,IAAI,WAAW;IAE9B,kDAAkD;IAClD,IAAI,OAAO,QAAQ,MAAM,IAAI,CAAC,QAAQ,GAAG,IAAI,wMAAG;IAEhD,kDAAkD;IAClD,IAAI,QAAQ,QAAQ,KAAK,KAAK,YAAY,QAAQ,KAAK,GAAG,KAAK,GAAG;IAElE,sCAAsC;IACtC,IAAI,MAAM,QAAQ,GAAG,KAAK,YAAY,QAAQ,GAAG,GAAG;IAEpD,sCAAsC;IACtC,IAAI,UAAU;IACd,IAAI,SAAS;IAEb,8DAA8D;IAC9D,IAAI,QAAQ,UAAU,QAAQ,KAAK,KAAK,WAAW;QACjD,SAAS;QAET,4CAA4C;QAC5C,IAAI,QAAQ,MAAM;YAChB,UAAU;YACV,SAAS;QACX;IACF;IAEA,iCAAiC;IACjC,IAAI,QAAQ,MAAM;QAChB,2DAA2D;QAC3D,IAAI,MAAM,YAAY;YACpB,MAAM;QACR;QAEA,yCAAyC;QACzC,UAAU,QAAQ,KAAK;QACvB,SAAS,MAAM;IACjB;IAEA,0BAA0B;IAC1B,IAAI,YAAY,QAAQ,WAAW,MAAM;QACvC,UAAU,IAAI,CAAC,EAAE,GAAG;QACpB,UAAU,WAAW,IAAI,IAAI,CAAC,EAAE;QAChC,SAAS,IAAI,CAAC,EAAE,GAAG,MAAM,cAAc;QACvC,SAAS,UAAU,IAAI,IAAI,CAAC,EAAE;QAC9B,SAAS,UAAU,IAAI,IAAI,CAAC,GAAG,KAAK;IACtC;IAEA,uCAAuC;IACvC,IAAI,QAAQ,QAAQ,UAAU,QAAQ,MAAM;QAC1C,IAAI,EAAE,SAAS,SAAS;YACtB,SAAS;YACT,IAAI,EAAE,UAAU,OAAO;gBACrB,UAAU;gBAEV,qEAAqE;gBACrE,4EAA4E;gBAC5E,8EAA8E;gBAC9E;YACF;QACF;IACF,OAAO;QACL,wCAAwC;QACxC,uCAAuC;QACvC,SAAS;IACX;IACA,WAAW;IACX,UAAU;IAEV,yCAAyC;IACzC,CAAC,CAAC,IAAI,GAAG,SAAS,gBAAgB;IAClC,CAAC,CAAC,IAAI,GAAG,SAAS,cAAc;IAChC,CAAC,CAAC,IAAI,GAAG,SAAS,YAAY;IAC9B,CAAC,CAAC,IAAI,GAAG,SAAS,UAAU;IAC5B,CAAC,CAAC,IAAI,GAAG,SAAS,QAAQ;IAC1B,CAAC,CAAC,IAAI,GAAG,SAAS;IAElB,gEAAgE;IAChE,CAAC,CAAC,IAAI,GAAG,YAAY,IAAI,OAAO;IAEhC,sCAAsC;IACtC,CAAC,CAAC,IAAI,GAAG,UAAU;IAEnB,oDAAoD;IACpD,CAAC,CAAC,IAAI,GAAG,WAAW,KAAK,OAAO;IAEhC,0BAA0B;IAC1B,CAAC,CAAC,IAAI,GAAG,WAAW,IAAI;IAExB,oDAAoD;IACpD,CAAC,CAAC,IAAI,GAAG,UAAU,IAAI,OAAO,IAAI,CAAC,GAAG,GAAG;IAEzC,8BAA8B;IAC9B,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG;IACjB,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG;IACjB,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG;IACjB,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG;IACjB,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG;IACjB,OAAO,OAAO,IAAA,sNAAe,EAAC;AAChC;uCACe","ignoreList":[0]}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/typeid-js/src/typeid.ts","turbopack:///[project]/node_modules/typeid-js/src/parse_uuid.ts","turbopack:///[project]/node_modules/typeid-js/src/base32.ts","turbopack:///[project]/node_modules/typeid-js/src/unboxed/typeid.ts","turbopack:///[project]/node_modules/typeid-js/src/prefix.ts","turbopack:///[project]/node_modules/typeid-js/src/unboxed/error.ts"],"sourcesContent":["import { stringify } from \"uuid\";\nimport { parseUUID } from \"./parse_uuid\";\nimport { encode, decode } from \"./base32\";\nimport {\n  typeidUnboxed,\n  getSuffix,\n  getType,\n  fromString,\n} from \"./unboxed/typeid\";\nimport { TypeIDConversionError } from \"./unboxed/error\";\n\nexport class TypeID<const T extends string> {\n  constructor(private prefix: T, private suffix: string = \"\") {\n    const typeIdRaw = typeidUnboxed(prefix, suffix);\n\n    this.prefix = getType(typeIdRaw);\n    this.suffix = getSuffix(typeIdRaw);\n  }\n\n  public getType(): T {\n    return this.prefix;\n  }\n\n  public getSuffix(): string {\n    return this.suffix;\n  }\n\n  public asType<const U extends string>(prefix: U): TypeID<U> {\n    const self = this as unknown as TypeID<U>;\n    if (self.prefix !== prefix) {\n      throw new TypeIDConversionError(self.prefix, prefix);\n    }\n    return self;\n  }\n\n  public toUUIDBytes(): Uint8Array {\n    return decode(this.suffix);\n  }\n\n  public toUUID(): string {\n    return stringify(this.toUUIDBytes());\n  }\n\n  public toString(): T extends \"\" ? string : `${T}_${string}` {\n    if (this.prefix === \"\") {\n      return this.suffix as T extends \"\" ? string : `${T}_${string}`;\n    }\n    return `${this.prefix}_${this.suffix}` as T extends \"\" ? string : `${T}_${string}`;\n  }\n\n  static fromString<const T extends string>(\n    str: string,\n    prefix?: T\n  ): TypeID<T> {\n    const typeIdRaw = fromString(str, prefix);\n\n    return new TypeID<T>(getType(typeIdRaw) as T, getSuffix(typeIdRaw));\n  }\n\n  static fromUUIDBytes<const T extends string>(\n    prefix: T,\n    bytes: Uint8Array\n  ): TypeID<T> {\n    const suffix = encode(bytes);\n    return new TypeID(prefix, suffix);\n  }\n\n  static fromUUID<const T extends string>(prefix: T, uuid: string): TypeID<T> {\n    const suffix = encode(parseUUID(uuid));\n    return new TypeID(prefix, suffix);\n  }\n}\n\nexport function typeid<T extends string>(): TypeID<\"\">;\nexport function typeid<T extends string>(prefix: T): TypeID<T>;\nexport function typeid<T extends string>(prefix: T, suffix: string): TypeID<T>;\nexport function typeid<T extends string>(\n  prefix: T = \"\" as T,\n  suffix: string = \"\"\n): TypeID<T> {\n  return new TypeID(prefix, suffix);\n}\n","/* eslint-disable no-bitwise */\nexport function parseUUID(uuid: string) {\n  let v;\n  const arr = new Uint8Array(16);\n\n  // Block 1\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = (v >>> 16) & 0xff;\n  arr[2] = (v >>> 8) & 0xff;\n  arr[3] = v & 0xff;\n\n  // Block 2\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff;\n\n  // Block 3\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff;\n\n  // Block 4\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff;\n\n  // Block 5\n  arr[10] = ((v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000) & 0xff;\n  arr[11] = (v / 0x100000000) & 0xff;\n  arr[12] = (v >>> 24) & 0xff;\n  arr[13] = (v >>> 16) & 0xff;\n  arr[14] = (v >>> 8) & 0xff;\n  arr[15] = v & 0xff;\n\n  return arr;\n}\n","/* eslint-disable no-bitwise */\nconst alphabet: string = \"0123456789abcdefghjkmnpqrstvwxyz\";\n\n// Decoding table\nconst dec: Uint8Array = new Uint8Array([\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x01, 0x02, 0x03,\n  0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x10,\n  0x11, 0xff, 0x12, 0x13, 0xff, 0x14, 0x15, 0xff, 0x16, 0x17, 0x18, 0x19, 0x1a,\n  0xff, 0x1b, 0x1c, 0x1d, 0x1e, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n]);\n\nexport function encode(src: Uint8Array): string {\n  const dst: string[] = new Array(26).fill(\"\");\n\n  if (src.length !== 16) {\n    throw new Error(\n      `Invalid length. Expected 16 bytes, got ${src.length}. Input: ${src}`\n    );\n  }\n\n  // 10 byte timestamp\n  dst[0] = alphabet[(src[0] & 224) >> 5];\n  dst[1] = alphabet[src[0] & 31];\n  dst[2] = alphabet[(src[1] & 248) >> 3];\n  dst[3] = alphabet[((src[1] & 7) << 2) | ((src[2] & 192) >> 6)];\n  dst[4] = alphabet[(src[2] & 62) >> 1];\n  dst[5] = alphabet[((src[2] & 1) << 4) | ((src[3] & 240) >> 4)];\n  dst[6] = alphabet[((src[3] & 15) << 1) | ((src[4] & 128) >> 7)];\n  dst[7] = alphabet[(src[4] & 124) >> 2];\n  dst[8] = alphabet[((src[4] & 3) << 3) | ((src[5] & 224) >> 5)];\n  dst[9] = alphabet[src[5] & 31];\n\n  // 16 bytes of randomness\n  dst[10] = alphabet[(src[6] & 248) >> 3];\n  dst[11] = alphabet[((src[6] & 7) << 2) | ((src[7] & 192) >> 6)];\n  dst[12] = alphabet[(src[7] & 62) >> 1];\n  dst[13] = alphabet[((src[7] & 1) << 4) | ((src[8] & 240) >> 4)];\n  dst[14] = alphabet[((src[8] & 15) << 1) | ((src[9] & 128) >> 7)];\n  dst[15] = alphabet[(src[9] & 124) >> 2];\n  dst[16] = alphabet[((src[9] & 3) << 3) | ((src[10] & 224) >> 5)];\n  dst[17] = alphabet[src[10] & 31];\n  dst[18] = alphabet[(src[11] & 248) >> 3];\n  dst[19] = alphabet[((src[11] & 7) << 2) | ((src[12] & 192) >> 6)];\n  dst[20] = alphabet[(src[12] & 62) >> 1];\n  dst[21] = alphabet[((src[12] & 1) << 4) | ((src[13] & 240) >> 4)];\n  dst[22] = alphabet[((src[13] & 15) << 1) | ((src[14] & 128) >> 7)];\n  dst[23] = alphabet[(src[14] & 124) >> 2];\n  dst[24] = alphabet[((src[14] & 3) << 3) | ((src[15] & 224) >> 5)];\n  dst[25] = alphabet[src[15] & 31];\n\n  return dst.join(\"\");\n}\n\nexport function decode(s: string): Uint8Array {\n  if (s.length !== 26) {\n    throw new Error(\n      `Invalid length. Expected 26 bytes, got ${s.length}. Input: ${s}`\n    );\n  }\n\n  const encoder = new TextEncoder();\n  const v: Uint8Array = encoder.encode(s);\n\n  // Check if all the characters are part of the expected base32 character set.\n  if (\n    dec[v[0]] === 0xff ||\n    dec[v[1]] === 0xff ||\n    dec[v[2]] === 0xff ||\n    dec[v[3]] === 0xff ||\n    dec[v[4]] === 0xff ||\n    dec[v[5]] === 0xff ||\n    dec[v[6]] === 0xff ||\n    dec[v[7]] === 0xff ||\n    dec[v[8]] === 0xff ||\n    dec[v[9]] === 0xff ||\n    dec[v[10]] === 0xff ||\n    dec[v[11]] === 0xff ||\n    dec[v[12]] === 0xff ||\n    dec[v[13]] === 0xff ||\n    dec[v[14]] === 0xff ||\n    dec[v[15]] === 0xff ||\n    dec[v[16]] === 0xff ||\n    dec[v[17]] === 0xff ||\n    dec[v[18]] === 0xff ||\n    dec[v[19]] === 0xff ||\n    dec[v[20]] === 0xff ||\n    dec[v[21]] === 0xff ||\n    dec[v[22]] === 0xff ||\n    dec[v[23]] === 0xff ||\n    dec[v[24]] === 0xff ||\n    dec[v[25]] === 0xff\n  ) {\n    throw new Error(\"Invalid base32 character\");\n  }\n\n  const id = new Uint8Array(16);\n\n  // 6 bytes timestamp (48 bits)\n  id[0] = (dec[v[0]] << 5) | dec[v[1]];\n  id[1] = (dec[v[2]] << 3) | (dec[v[3]] >> 2);\n  id[2] = ((dec[v[3]] & 3) << 6) | (dec[v[4]] << 1) | (dec[v[5]] >> 4);\n  id[3] = ((dec[v[5]] & 15) << 4) | (dec[v[6]] >> 1);\n  id[4] = ((dec[v[6]] & 1) << 7) | (dec[v[7]] << 2) | (dec[v[8]] >> 3);\n  id[5] = ((dec[v[8]] & 7) << 5) | dec[v[9]];\n\n  // 10 bytes of entropy (80 bits)\n  id[6] = (dec[v[10]] << 3) | (dec[v[11]] >> 2);\n  id[7] = ((dec[v[11]] & 3) << 6) | (dec[v[12]] << 1) | (dec[v[13]] >> 4);\n  id[8] = ((dec[v[13]] & 15) << 4) | (dec[v[14]] >> 1);\n  id[9] = ((dec[v[14]] & 1) << 7) | (dec[v[15]] << 2) | (dec[v[16]] >> 3);\n  id[10] = ((dec[v[16]] & 7) << 5) | dec[v[17]];\n  id[11] = (dec[v[18]] << 3) | (dec[v[19]] >> 2);\n  id[12] = ((dec[v[19]] & 3) << 6) | (dec[v[20]] << 1) | (dec[v[21]] >> 4);\n  id[13] = ((dec[v[21]] & 15) << 4) | (dec[v[22]] >> 1);\n  id[14] = ((dec[v[22]] & 1) << 7) | (dec[v[23]] << 2) | (dec[v[24]] >> 3);\n  id[15] = ((dec[v[24]] & 7) << 5) | dec[v[25]];\n\n  return id;\n}\n","import { stringify, v7 } from \"uuid\";\nimport { parseUUID } from \"../parse_uuid\";\nimport { encode, decode } from \"../base32\";\nimport { isValidPrefix } from \"../prefix\";\nimport {\n  EmptyPrefixError,\n  InvalidPrefixError,\n  InvalidSuffixCharacterError,\n  InvalidSuffixLengthError,\n  PrefixMismatchError,\n} from \"./error\";\n\nexport type TypeId<T> = string & { __type: T };\n\nexport function typeidUnboxed<T extends string>(\n  prefix: T = \"\" as T,\n  suffix: string = \"\"\n): TypeId<T> {\n  if (!isValidPrefix(prefix)) {\n    throw new InvalidPrefixError(prefix);\n  }\n\n  let finalSuffix: string;\n  if (suffix) {\n    finalSuffix = suffix;\n  } else {\n    const buffer = new Uint8Array(16);\n    v7(undefined, buffer);\n    finalSuffix = encode(buffer);\n  }\n\n  if (finalSuffix.length !== 26) {\n    throw new InvalidSuffixLengthError(finalSuffix.length);\n  }\n\n  if (finalSuffix[0] > \"7\") {\n    throw new InvalidSuffixCharacterError(finalSuffix[0]);\n  }\n\n  // Validate the suffix by decoding it. If it's invalid, an error will be thrown.\n  decode(finalSuffix);\n\n  if (prefix === \"\") {\n    return finalSuffix as TypeId<T>;\n  } else {\n    return `${prefix}_${finalSuffix}` as TypeId<T>;\n  }\n}\n\n/**\n * Constructs a TypeId from a string representation, optionally validating against a provided prefix.\n * This function splits the input `typeId` string by an underscore `_` to separate the prefix and suffix.\n * If the `typeId` contains no underscore, it is assumed to be a suffix with an empty prefix.\n * If a `prefix` is provided, it must match the prefix part of the `typeId`, or an error is thrown.\n *\n * @param {string} typeId - The string representation of the TypeId to be parsed.\n * @param {T} [prefix] - An optional prefix to validate against the prefix in the `typeId`.\n * @returns {TypeId<T>} A new TypeId instance constructed from the parsed `typeId`.\n * @throws {Error} If the `typeId` format is invalid, the prefix is empty when there's a separator,\n *                 or there's a prefix mismatch when a `prefix` is provided.\n * @template T - A string literal type that extends string.\n */\nexport function fromString<T extends string>(\n  typeId: string,\n  prefix?: T\n): TypeId<T> {\n  let p;\n  let s;\n\n  const underscoreIndex = typeId.lastIndexOf(\"_\");\n  if (underscoreIndex === -1) {\n    p = \"\" as T;\n    s = typeId;\n  } else {\n    p = typeId.substring(0, underscoreIndex) as T;\n    s = typeId.substring(underscoreIndex + 1);\n\n    if (!p) {\n      throw new EmptyPrefixError(typeId);\n    }\n  }\n\n  if (!s) {\n    throw new InvalidSuffixLengthError(0);\n  }\n\n  if (prefix && p !== prefix) {\n    throw new PrefixMismatchError(prefix, p);\n  }\n\n  return typeidUnboxed(p, s);\n}\n\n/**\n * Parses a TypeId string into its prefix and suffix components.\n *\n * @param {TypeId<T>} typeId - The TypeId string to parse.\n * @returns {{ prefix: T; suffix: string }} An object containing the prefix and suffix of the TypeId.\n * @throws {Error} If the TypeId format is invalid (not exactly two parts separated by an underscore).\n *\n * @example\n * // For a valid TypeId 'example_00041061050r3gg28a1c60t3gf'\n * const { prefix, suffix } = parseTypeId('example_00041061050r3gg28a1c60t3gf');\n * console.log(prefix); // 'example'\n * console.log(suffix); // '00041061050r3gg28a1c60t3gf'\n *\n * @example\n * // Throws an error for invalid TypeId format\n * try {\n *   parseTypeId('invalidTypeId');\n * } catch (error) {\n *   console.error(error.message); // 'Invalid TypeId format: invalidTypeId'\n * }\n */\nexport function parseTypeId<T extends string>(\n  typeId: TypeId<T>\n): { prefix: T; suffix: string } {\n  return { prefix: getType(typeId), suffix: getSuffix(typeId) };\n}\n\n/**\n * Retrieves the prefix from a TypeId.\n *\n * @param {TypeId<T>} typeId - The TypeId from which to extract the prefix.\n * @returns {T} The prefix of the TypeId.\n */\nexport function getType<T extends string>(typeId: TypeId<T>): T {\n  const underscoreIndex = typeId.lastIndexOf(\"_\");\n  if (underscoreIndex === -1) {\n    return \"\" as T;\n  }\n  return typeId.substring(0, underscoreIndex) as T;\n}\n\n/**\n * Retrieves the suffix from a TypeId.\n *\n * @param {TypeId<T>} typeId - The TypeId from which to extract the suffix.\n * @returns {string} The suffix of the TypeId.\n */\nexport function getSuffix<T extends string>(typeId: TypeId<T>): string {\n  const underscoreIndex = typeId.lastIndexOf(\"_\");\n  if (underscoreIndex === -1) {\n    return typeId;\n  }\n  return typeId.substring(underscoreIndex + 1);\n}\n\nexport function toUUIDBytes<T extends string>(typeId: TypeId<T>): Uint8Array {\n  return decode(getSuffix(typeId));\n}\n\nexport function toUUID<T extends string>(typeId: TypeId<T>) {\n  return stringify(toUUIDBytes(typeId));\n}\n\nexport function fromUUIDBytes(\n  prefix: string,\n  bytes: Uint8Array\n): TypeId<typeof prefix> {\n  const suffix = encode(bytes);\n  return prefix\n    ? (`${prefix}_${suffix}` as TypeId<typeof prefix>)\n    : (suffix as TypeId<typeof prefix>);\n}\n\nexport function fromUUID<T extends string>(\n  uuid: string,\n  prefix?: T\n): TypeId<T> {\n  const suffix = encode(parseUUID(uuid));\n  return prefix ? (`${prefix}_${suffix}` as TypeId<T>) : (suffix as TypeId<T>);\n}\n","export function isValidPrefix(str: string): boolean {\n  if (str.length > 63) {\n    return false;\n  }\n\n  let code;\n  let i;\n  let len;\n\n  for (i = 0, len = str.length; i < len; i += 1) {\n    code = str.charCodeAt(i);\n    const isLowerAtoZ = code > 96 && code < 123;\n    const isUnderscore = code === 95;\n\n    // first and last char of prefix can only be [a-z]\n    if ((i === 0 || i === len - 1) && !isLowerAtoZ) {\n      return false;\n    }\n\n    if (!(isLowerAtoZ || isUnderscore)) {\n      return false;\n    }\n  }\n  return true;\n}\n","export class InvalidPrefixError extends Error {\n  constructor(prefix: string) {\n    super(`Invalid prefix \"${prefix}\". Must be at most 63 ASCII letters [a-z_]`);\n    this.name = \"InvalidPrefixError\";\n  }\n}\n\nexport class PrefixMismatchError extends Error {\n  constructor(expected: string, actual: string) {\n    super(`Invalid TypeId. Prefix mismatch. Expected ${expected}, got ${actual}`);\n    this.name = \"PrefixMismatchError\";\n  }\n}\n\nexport class EmptyPrefixError extends Error {\n  constructor(typeId: string) {\n    super(`Invalid TypeId. Prefix cannot be empty when there's a separator: ${typeId}`);\n    this.name = \"EmptyPrefixError\";\n  }\n}\n\nexport class InvalidSuffixLengthError extends Error {\n  constructor(length: number) {\n    super(`Invalid length. Suffix should have 26 characters, got ${length}`);\n    this.name = \"InvalidSuffixLengthError\";\n  }\n}\n\nexport class InvalidSuffixCharacterError extends Error {\n  constructor(firstChar: string) {\n    super(`Invalid suffix. First character \"${firstChar}\" must be in the range [0-7]`);\n    this.name = \"InvalidSuffixCharacterError\";\n  }\n}\n\nexport class TypeIDConversionError extends Error {\n  constructor(actualPrefix: string, expectedPrefix: string) {\n    super(`Cannot convert TypeID of type ${actualPrefix} to type ${expectedPrefix}`);\n    this.name = \"TypeIDConversionError\";\n  }\n}\n"],"names":["stringify","stringify"],"mappings":";;;;;;;;;;;;;;AAAA,SAAS,aAAAA,kBAAiB;;AGA1B,SAAS,WAAW,UAAU;;;AFCvB,SAAS,UAAU,IAAA,EAAc;IACtC,IAAI;IACJ,MAAM,MAAM,IAAI,WAAW,EAAE;IAG7B,GAAA,CAAI,CAAC,CAAA,GAAA,CAAK,IAAI,SAAS,KAAK,KAAA,CAAM,GAAG,CAAC,GAAG,EAAE,CAAA,MAAO;IAClD,GAAA,CAAI,CAAC,CAAA,GAAK,MAAM,KAAM;IACtB,GAAA,CAAI,CAAC,CAAA,GAAK,MAAM,IAAK;IACrB,GAAA,CAAI,CAAC,CAAA,GAAI,IAAI;IAGb,GAAA,CAAI,CAAC,CAAA,GAAA,CAAK,IAAI,SAAS,KAAK,KAAA,CAAM,GAAG,EAAE,GAAG,EAAE,CAAA,MAAO;IACnD,GAAA,CAAI,CAAC,CAAA,GAAI,IAAI;IAGb,GAAA,CAAI,CAAC,CAAA,GAAA,CAAK,IAAI,SAAS,KAAK,KAAA,CAAM,IAAI,EAAE,GAAG,EAAE,CAAA,MAAO;IACpD,GAAA,CAAI,CAAC,CAAA,GAAI,IAAI;IAGb,GAAA,CAAI,CAAC,CAAA,GAAA,CAAK,IAAI,SAAS,KAAK,KAAA,CAAM,IAAI,EAAE,GAAG,EAAE,CAAA,MAAO;IACpD,GAAA,CAAI,CAAC,CAAA,GAAI,IAAI;IAGb,GAAA,CAAI,EAAE,CAAA,GAAA,CAAM,IAAI,SAAS,KAAK,KAAA,CAAM,IAAI,EAAE,GAAG,EAAE,CAAA,IAAK,gBAAiB;IACrE,GAAA,CAAI,EAAE,CAAA,GAAK,IAAI,aAAe;IAC9B,GAAA,CAAI,EAAE,CAAA,GAAK,MAAM,KAAM;IACvB,GAAA,CAAI,EAAE,CAAA,GAAK,MAAM,KAAM;IACvB,GAAA,CAAI,EAAE,CAAA,GAAK,MAAM,IAAK;IACtB,GAAA,CAAI,EAAE,CAAA,GAAI,IAAI;IAEd,OAAO;AACT;;AC/BA,IAAM,WAAmB;AAGzB,IAAM,MAAkB,IAAI,WAAW;IACrC;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;CACjD;AAEM,SAAS,OAAO,GAAA,EA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"}},
    {"offset": {"line": 794, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze-wasm/wasm/arcjet_analyze_js_req.component.js"],"sourcesContent":["function instantiate(getCoreModule, imports, instantiateCore = WebAssembly.instantiate) {\n  \n  class ComponentError extends Error {\n    constructor (value) {\n      const enumerable = typeof value !== 'string';\n      super(enumerable ? `${String(value)} (see error.payload)` : value);\n      Object.defineProperty(this, 'payload', { value, enumerable });\n    }\n  }\n  \n  let dv = new DataView(new ArrayBuffer());\n  const dataView = mem => dv.buffer === mem.buffer ? dv : dv = new DataView(mem.buffer);\n  \n  function throwInvalidBool() {\n    throw new TypeError('invalid variant discriminant for bool');\n  }\n  \n  function toUint32(val) {\n    return val >>> 0;\n  }\n  \n  const utf8Decoder = new TextDecoder();\n  \n  const utf8Encoder = new TextEncoder();\n  \n  let utf8EncodedLen = 0;\n  function utf8Encode(s, realloc, memory) {\n    if (typeof s !== 'string') throw new TypeError('expected a string');\n    if (s.length === 0) {\n      utf8EncodedLen = 0;\n      return 1;\n    }\n    let buf = utf8Encoder.encode(s);\n    let ptr = realloc(0, 0, 1, buf.length);\n    new Uint8Array(memory.buffer).set(buf, ptr);\n    utf8EncodedLen = buf.length;\n    return ptr;\n  }\n  \n  \n  const module0 = getCoreModule('arcjet_analyze_js_req.component.core.wasm');\n  const module1 = getCoreModule('arcjet_analyze_js_req.component.core2.wasm');\n  const module2 = getCoreModule('arcjet_analyze_js_req.component.core3.wasm');\n  \n  const { detect } = imports['arcjet:js-req/bot-identifier'];\n  const { hasGravatar, hasMxRecords, isDisposableEmail, isFreeEmail } = imports['arcjet:js-req/email-validator-overrides'];\n  const { ipLookup } = imports['arcjet:js-req/filter-overrides'];\n  const { detect: detect$1 } = imports['arcjet:js-req/sensitive-information-identifier'];\n  const { verify } = imports['arcjet:js-req/verify-bot'];\n  let gen = (function* init () {\n    let exports0;\n    let exports1;\n    let memory0;\n    let realloc0;\n    \n    function trampoline0(arg0, arg1, arg2) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      const ret = detect(result0);\n      var vec2 = ret;\n      var len2 = vec2.length;\n      var result2 = realloc0(0, 0, 4, len2 * 8);\n      for (let i = 0; i < vec2.length; i++) {\n        const e = vec2[i];\n        const base = result2 + i * 8;var ptr1 = utf8Encode(e, realloc0, memory0);\n        var len1 = utf8EncodedLen;\n        dataView(memory0).setInt32(base + 4, len1, true);\n        dataView(memory0).setInt32(base + 0, ptr1, true);\n      }\n      dataView(memory0).setInt32(arg2 + 4, len2, true);\n      dataView(memory0).setInt32(arg2 + 0, result2, true);\n    }\n    \n    function trampoline1(arg0, arg1, arg2, arg3) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      var ptr1 = arg2;\n      var len1 = arg3;\n      var result1 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr1, len1));\n      const ret = verify(result0, result1);\n      var val2 = ret;\n      let enum2;\n      switch (val2) {\n        case 'verified': {\n          enum2 = 0;\n          break;\n        }\n        case 'spoofed': {\n          enum2 = 1;\n          break;\n        }\n        case 'unverifiable': {\n          enum2 = 2;\n          break;\n        }\n        default: {\n          if ((ret) instanceof Error) {\n            console.error(ret);\n          }\n          \n          throw new TypeError(`\"${val2}\" is not one of the cases of validator-response`);\n        }\n      }\n      return enum2;\n    }\n    \n    function trampoline2(arg0, arg1, arg2) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      const ret = ipLookup(result0);\n      var variant2 = ret;\n      if (variant2 === null || variant2=== undefined) {\n        dataView(memory0).setInt8(arg2 + 0, 0, true);\n      } else {\n        const e = variant2;\n        dataView(memory0).setInt8(arg2 + 0, 1, true);\n        var ptr1 = utf8Encode(e, realloc0, memory0);\n        var len1 = utf8EncodedLen;\n        dataView(memory0).setInt32(arg2 + 8, len1, true);\n        dataView(memory0).setInt32(arg2 + 4, ptr1, true);\n      }\n    }\n    \n    function trampoline3(arg0, arg1, arg2) {\n      var len1 = arg1;\n      var base1 = arg0;\n      var result1 = [];\n      for (let i = 0; i < len1; i++) {\n        const base = base1 + i * 8;\n        var ptr0 = dataView(memory0).getInt32(base + 0, true);\n        var len0 = dataView(memory0).getInt32(base + 4, true);\n        var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n        result1.push(result0);\n      }\n      const ret = detect$1(result1);\n      var vec5 = ret;\n      var len5 = vec5.length;\n      var result5 = realloc0(0, 0, 4, len5 * 16);\n      for (let i = 0; i < vec5.length; i++) {\n        const e = vec5[i];\n        const base = result5 + i * 16;var variant4 = e;\n        if (variant4 === null || variant4=== undefined) {\n          dataView(memory0).setInt8(base + 0, 0, true);\n        } else {\n          const e = variant4;\n          dataView(memory0).setInt8(base + 0, 1, true);\n          var variant3 = e;\n          switch (variant3.tag) {\n            case 'email': {\n              dataView(memory0).setInt8(base + 4, 0, true);\n              break;\n            }\n            case 'phone-number': {\n              dataView(memory0).setInt8(base + 4, 1, true);\n              break;\n            }\n            case 'ip-address': {\n              dataView(memory0).setInt8(base + 4, 2, true);\n              break;\n            }\n            case 'credit-card-number': {\n              dataView(memory0).setInt8(base + 4, 3, true);\n              break;\n            }\n            case 'custom': {\n              const e = variant3.val;\n              dataView(memory0).setInt8(base + 4, 4, true);\n              var ptr2 = utf8Encode(e, realloc0, memory0);\n              var len2 = utf8EncodedLen;\n              dataView(memory0).setInt32(base + 12, len2, true);\n              dataView(memory0).setInt32(base + 8, ptr2, true);\n              break;\n            }\n            default: {\n              throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant3.tag)}\\` (received \\`${variant3}\\`) specified for \\`SensitiveInfoEntity\\``);\n            }\n          }\n        }\n      }\n      dataView(memory0).setInt32(arg2 + 4, len5, true);\n      dataView(memory0).setInt32(arg2 + 0, result5, true);\n    }\n    \n    function trampoline4(arg0, arg1) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      const ret = isFreeEmail(result0);\n      var val1 = ret;\n      let enum1;\n      switch (val1) {\n        case 'yes': {\n          enum1 = 0;\n          break;\n        }\n        case 'no': {\n          enum1 = 1;\n          break;\n        }\n        case 'unknown': {\n          enum1 = 2;\n          break;\n        }\n        default: {\n          if ((ret) instanceof Error) {\n            console.error(ret);\n          }\n          \n          throw new TypeError(`\"${val1}\" is not one of the cases of validator-response`);\n        }\n      }\n      return enum1;\n    }\n    \n    function trampoline5(arg0, arg1) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      const ret = isDisposableEmail(result0);\n      var val1 = ret;\n      let enum1;\n      switch (val1) {\n        case 'yes': {\n          enum1 = 0;\n          break;\n        }\n        case 'no': {\n          enum1 = 1;\n          break;\n        }\n        case 'unknown': {\n          enum1 = 2;\n          break;\n        }\n        default: {\n          if ((ret) instanceof Error) {\n            console.error(ret);\n          }\n          \n          throw new TypeError(`\"${val1}\" is not one of the cases of validator-response`);\n        }\n      }\n      return enum1;\n    }\n    \n    function trampoline6(arg0, arg1) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      const ret = hasMxRecords(result0);\n      var val1 = ret;\n      let enum1;\n      switch (val1) {\n        case 'yes': {\n          enum1 = 0;\n          break;\n        }\n        case 'no': {\n          enum1 = 1;\n          break;\n        }\n        case 'unknown': {\n          enum1 = 2;\n          break;\n        }\n        default: {\n          if ((ret) instanceof Error) {\n            console.error(ret);\n          }\n          \n          throw new TypeError(`\"${val1}\" is not one of the cases of validator-response`);\n        }\n      }\n      return enum1;\n    }\n    \n    function trampoline7(arg0, arg1) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      const ret = hasGravatar(result0);\n      var val1 = ret;\n      let enum1;\n      switch (val1) {\n        case 'yes': {\n          enum1 = 0;\n          break;\n        }\n        case 'no': {\n          enum1 = 1;\n          break;\n        }\n        case 'unknown': {\n          enum1 = 2;\n          break;\n        }\n        default: {\n          if ((ret) instanceof Error) {\n            console.error(ret);\n          }\n          \n          throw new TypeError(`\"${val1}\" is not one of the cases of validator-response`);\n        }\n      }\n      return enum1;\n    }\n    let exports2;\n    let postReturn0;\n    let postReturn1;\n    let postReturn2;\n    let postReturn3;\n    let postReturn4;\n    let postReturn5;\n    Promise.all([module0, module1, module2]).catch(() => {});\n    ({ exports: exports0 } = yield instantiateCore(yield module1));\n    ({ exports: exports1 } = yield instantiateCore(yield module0, {\n      'arcjet:js-req/bot-identifier': {\n        detect: exports0['0'],\n      },\n      'arcjet:js-req/email-validator-overrides': {\n        'has-gravatar': exports0['7'],\n        'has-mx-records': exports0['6'],\n        'is-disposable-email': exports0['5'],\n        'is-free-email': exports0['4'],\n      },\n      'arcjet:js-req/filter-overrides': {\n        'ip-lookup': exports0['2'],\n      },\n      'arcjet:js-req/sensitive-information-identifier': {\n        detect: exports0['3'],\n      },\n      'arcjet:js-req/verify-bot': {\n        verify: exports0['1'],\n      },\n    }));\n    memory0 = exports1.memory;\n    realloc0 = exports1.cabi_realloc;\n    ({ exports: exports2 } = yield instantiateCore(yield module2, {\n      '': {\n        $imports: exports0.$imports,\n        '0': trampoline0,\n        '1': trampoline1,\n        '2': trampoline2,\n        '3': trampoline3,\n        '4': trampoline4,\n        '5': trampoline5,\n        '6': trampoline6,\n        '7': trampoline7,\n      },\n    }));\n    postReturn0 = exports1['cabi_post_detect-bot'];\n    postReturn1 = exports1['cabi_post_match-filters'];\n    postReturn2 = exports1['cabi_post_generate-fingerprint'];\n    postReturn3 = exports1['cabi_post_validate-characteristics'];\n    postReturn4 = exports1['cabi_post_is-valid-email'];\n    postReturn5 = exports1['cabi_post_detect-sensitive-info'];\n    \n    function detectBot(arg0, arg1) {\n      var ptr0 = utf8Encode(arg0, realloc0, memory0);\n      var len0 = utf8EncodedLen;\n      var variant7 = arg1;\n      let variant7_0;\n      let variant7_1;\n      let variant7_2;\n      let variant7_3;\n      switch (variant7.tag) {\n        case 'allowed-bot-config': {\n          const e = variant7.val;\n          var {entities: v1_0, skipCustomDetect: v1_1 } = e;\n          var vec3 = v1_0;\n          var len3 = vec3.length;\n          var result3 = realloc0(0, 0, 4, len3 * 8);\n          for (let i = 0; i < vec3.length; i++) {\n            const e = vec3[i];\n            const base = result3 + i * 8;var ptr2 = utf8Encode(e, realloc0, memory0);\n            var len2 = utf8EncodedLen;\n            dataView(memory0).setInt32(base + 4, len2, true);\n            dataView(memory0).setInt32(base + 0, ptr2, true);\n          }\n          variant7_0 = 0;\n          variant7_1 = result3;\n          variant7_2 = len3;\n          variant7_3 = v1_1 ? 1 : 0;\n          break;\n        }\n        case 'denied-bot-config': {\n          const e = variant7.val;\n          var {entities: v4_0, skipCustomDetect: v4_1 } = e;\n          var vec6 = v4_0;\n          var len6 = vec6.length;\n          var result6 = realloc0(0, 0, 4, len6 * 8);\n          for (let i = 0; i < vec6.length; i++) {\n            const e = vec6[i];\n            const base = result6 + i * 8;var ptr5 = utf8Encode(e, realloc0, memory0);\n            var len5 = utf8EncodedLen;\n            dataView(memory0).setInt32(base + 4, len5, true);\n            dataView(memory0).setInt32(base + 0, ptr5, true);\n          }\n          variant7_0 = 1;\n          variant7_1 = result6;\n          variant7_2 = len6;\n          variant7_3 = v4_1 ? 1 : 0;\n          break;\n        }\n        default: {\n          throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant7.tag)}\\` (received \\`${variant7}\\`) specified for \\`BotConfig\\``);\n        }\n      }\n      const ret = exports1['detect-bot'](ptr0, len0, variant7_0, variant7_1, variant7_2, variant7_3);\n      let variant15;\n      switch (dataView(memory0).getUint8(ret + 0, true)) {\n        case 0: {\n          var len9 = dataView(memory0).getInt32(ret + 8, true);\n          var base9 = dataView(memory0).getInt32(ret + 4, true);\n          var result9 = [];\n          for (let i = 0; i < len9; i++) {\n            const base = base9 + i * 8;\n            var ptr8 = dataView(memory0).getInt32(base + 0, true);\n            var len8 = dataView(memory0).getInt32(base + 4, true);\n            var result8 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr8, len8));\n            result9.push(result8);\n          }\n          var len11 = dataView(memory0).getInt32(ret + 16, true);\n          var base11 = dataView(memory0).getInt32(ret + 12, true);\n          var result11 = [];\n          for (let i = 0; i < len11; i++) {\n            const base = base11 + i * 8;\n            var ptr10 = dataView(memory0).getInt32(base + 0, true);\n            var len10 = dataView(memory0).getInt32(base + 4, true);\n            var result10 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr10, len10));\n            result11.push(result10);\n          }\n          var bool12 = dataView(memory0).getUint8(ret + 20, true);\n          var bool13 = dataView(memory0).getUint8(ret + 21, true);\n          variant15= {\n            tag: 'ok',\n            val: {\n              allowed: result9,\n              denied: result11,\n              verified: bool12 == 0 ? false : (bool12 == 1 ? true : throwInvalidBool()),\n              spoofed: bool13 == 0 ? false : (bool13 == 1 ? true : throwInvalidBool()),\n            }\n          };\n          break;\n        }\n        case 1: {\n          var ptr14 = dataView(memory0).getInt32(ret + 4, true);\n          var len14 = dataView(memory0).getInt32(ret + 8, true);\n          var result14 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr14, len14));\n          variant15= {\n            tag: 'err',\n            val: result14\n          };\n          break;\n        }\n        default: {\n          throw new TypeError('invalid variant discriminant for expected');\n        }\n      }\n      const retVal = variant15;\n      postReturn0(ret);\n      if (typeof retVal === 'object' && retVal.tag === 'err') {\n        throw new ComponentError(retVal.val);\n      }\n      return retVal.val;\n    }\n    \n    function matchFilters(arg0, arg1, arg2) {\n      var ptr0 = utf8Encode(arg0, realloc0, memory0);\n      var len0 = utf8EncodedLen;\n      var vec2 = arg1;\n      var len2 = vec2.length;\n      var result2 = realloc0(0, 0, 4, len2 * 8);\n      for (let i = 0; i < vec2.length; i++) {\n        const e = vec2[i];\n        const base = result2 + i * 8;var ptr1 = utf8Encode(e, realloc0, memory0);\n        var len1 = utf8EncodedLen;\n        dataView(memory0).setInt32(base + 4, len1, true);\n        dataView(memory0).setInt32(base + 0, ptr1, true);\n      }\n      const ret = exports1['match-filters'](ptr0, len0, result2, len2, arg2 ? 1 : 0);\n      let variant9;\n      switch (dataView(memory0).getUint8(ret + 0, true)) {\n        case 0: {\n          var bool3 = dataView(memory0).getUint8(ret + 4, true);\n          var len5 = dataView(memory0).getInt32(ret + 12, true);\n          var base5 = dataView(memory0).getInt32(ret + 8, true);\n          var result5 = [];\n          for (let i = 0; i < len5; i++) {\n            const base = base5 + i * 8;\n            var ptr4 = dataView(memory0).getInt32(base + 0, true);\n            var len4 = dataView(memory0).getInt32(base + 4, true);\n            var result4 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr4, len4));\n            result5.push(result4);\n          }\n          var len7 = dataView(memory0).getInt32(ret + 20, true);\n          var base7 = dataView(memory0).getInt32(ret + 16, true);\n          var result7 = [];\n          for (let i = 0; i < len7; i++) {\n            const base = base7 + i * 8;\n            var ptr6 = dataView(memory0).getInt32(base + 0, true);\n            var len6 = dataView(memory0).getInt32(base + 4, true);\n            var result6 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr6, len6));\n            result7.push(result6);\n          }\n          variant9= {\n            tag: 'ok',\n            val: {\n              allowed: bool3 == 0 ? false : (bool3 == 1 ? true : throwInvalidBool()),\n              matchedExpressions: result5,\n              undeterminedExpressions: result7,\n            }\n          };\n          break;\n        }\n        case 1: {\n          var ptr8 = dataView(memory0).getInt32(ret + 4, true);\n          var len8 = dataView(memory0).getInt32(ret + 8, true);\n          var result8 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr8, len8));\n          variant9= {\n            tag: 'err',\n            val: result8\n          };\n          break;\n        }\n        default: {\n          throw new TypeError('invalid variant discriminant for expected');\n        }\n      }\n      const retVal = variant9;\n      postReturn1(ret);\n      if (typeof retVal === 'object' && retVal.tag === 'err') {\n        throw new ComponentError(retVal.val);\n      }\n      return retVal.val;\n    }\n    \n    function generateFingerprint(arg0, arg1) {\n      var ptr0 = utf8Encode(arg0, realloc0, memory0);\n      var len0 = utf8EncodedLen;\n      var vec2 = arg1;\n      var len2 = vec2.length;\n      var result2 = realloc0(0, 0, 4, len2 * 8);\n      for (let i = 0; i < vec2.length; i++) {\n        const e = vec2[i];\n        const base = result2 + i * 8;var ptr1 = utf8Encode(e, realloc0, memory0);\n        var len1 = utf8EncodedLen;\n        dataView(memory0).setInt32(base + 4, len1, true);\n        dataView(memory0).setInt32(base + 0, ptr1, true);\n      }\n      const ret = exports1['generate-fingerprint'](ptr0, len0, result2, len2);\n      let variant5;\n      switch (dataView(memory0).getUint8(ret + 0, true)) {\n        case 0: {\n          var ptr3 = dataView(memory0).getInt32(ret + 4, true);\n          var len3 = dataView(memory0).getInt32(ret + 8, true);\n          var result3 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr3, len3));\n          variant5= {\n            tag: 'ok',\n            val: result3\n          };\n          break;\n        }\n        case 1: {\n          var ptr4 = dataView(memory0).getInt32(ret + 4, true);\n          var len4 = dataView(memory0).getInt32(ret + 8, true);\n          var result4 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr4, len4));\n          variant5= {\n            tag: 'err',\n            val: result4\n          };\n          break;\n        }\n        default: {\n          throw new TypeError('invalid variant discriminant for expected');\n        }\n      }\n      const retVal = variant5;\n      postReturn2(ret);\n      if (typeof retVal === 'object' && retVal.tag === 'err') {\n        throw new ComponentError(retVal.val);\n      }\n      return retVal.val;\n    }\n    \n    function validateCharacteristics(arg0, arg1) {\n      var ptr0 = utf8Encode(arg0, realloc0, memory0);\n      var len0 = utf8EncodedLen;\n      var vec2 = arg1;\n      var len2 = vec2.length;\n      var result2 = realloc0(0, 0, 4, len2 * 8);\n      for (let i = 0; i < vec2.length; i++) {\n        const e = vec2[i];\n        const base = result2 + i * 8;var ptr1 = utf8Encode(e, realloc0, memory0);\n        var len1 = utf8EncodedLen;\n        dataView(memory0).setInt32(base + 4, len1, true);\n        dataView(memory0).setInt32(base + 0, ptr1, true);\n      }\n      const ret = exports1['validate-characteristics'](ptr0, len0, result2, len2);\n      let variant4;\n      switch (dataView(memory0).getUint8(ret + 0, true)) {\n        case 0: {\n          variant4= {\n            tag: 'ok',\n            val: undefined\n          };\n          break;\n        }\n        case 1: {\n          var ptr3 = dataView(memory0).getInt32(ret + 4, true);\n          var len3 = dataView(memory0).getInt32(ret + 8, true);\n          var result3 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr3, len3));\n          variant4= {\n            tag: 'err',\n            val: result3\n          };\n          break;\n        }\n        default: {\n          throw new TypeError('invalid variant discriminant for expected');\n        }\n      }\n      const retVal = variant4;\n      postReturn3(ret);\n      if (typeof retVal === 'object' && retVal.tag === 'err') {\n        throw new ComponentError(retVal.val);\n      }\n      return retVal.val;\n    }\n    \n    function isValidEmail(arg0, arg1) {\n      var ptr0 = utf8Encode(arg0, realloc0, memory0);\n      var len0 = utf8EncodedLen;\n      var variant7 = arg1;\n      let variant7_0;\n      let variant7_1;\n      let variant7_2;\n      let variant7_3;\n      let variant7_4;\n      switch (variant7.tag) {\n        case 'allow-email-validation-config': {\n          const e = variant7.val;\n          var {requireTopLevelDomain: v1_0, allowDomainLiteral: v1_1, allow: v1_2 } = e;\n          var vec3 = v1_2;\n          var len3 = vec3.length;\n          var result3 = realloc0(0, 0, 4, len3 * 8);\n          for (let i = 0; i < vec3.length; i++) {\n            const e = vec3[i];\n            const base = result3 + i * 8;var ptr2 = utf8Encode(e, realloc0, memory0);\n            var len2 = utf8EncodedLen;\n            dataView(memory0).setInt32(base + 4, len2, true);\n            dataView(memory0).setInt32(base + 0, ptr2, true);\n          }\n          variant7_0 = 0;\n          variant7_1 = v1_0 ? 1 : 0;\n          variant7_2 = v1_1 ? 1 : 0;\n          variant7_3 = result3;\n          variant7_4 = len3;\n          break;\n        }\n        case 'deny-email-validation-config': {\n          const e = variant7.val;\n          var {requireTopLevelDomain: v4_0, allowDomainLiteral: v4_1, deny: v4_2 } = e;\n          var vec6 = v4_2;\n          var len6 = vec6.length;\n          var result6 = realloc0(0, 0, 4, len6 * 8);\n          for (let i = 0; i < vec6.length; i++) {\n            const e = vec6[i];\n            const base = result6 + i * 8;var ptr5 = utf8Encode(e, realloc0, memory0);\n            var len5 = utf8EncodedLen;\n            dataView(memory0).setInt32(base + 4, len5, true);\n            dataView(memory0).setInt32(base + 0, ptr5, true);\n          }\n          variant7_0 = 1;\n          variant7_1 = v4_0 ? 1 : 0;\n          variant7_2 = v4_1 ? 1 : 0;\n          variant7_3 = result6;\n          variant7_4 = len6;\n          break;\n        }\n        default: {\n          throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant7.tag)}\\` (received \\`${variant7}\\`) specified for \\`EmailValidationConfig\\``);\n        }\n      }\n      const ret = exports1['is-valid-email'](ptr0, len0, variant7_0, variant7_1, variant7_2, variant7_3, variant7_4);\n      let variant12;\n      switch (dataView(memory0).getUint8(ret + 0, true)) {\n        case 0: {\n          let enum8;\n          switch (dataView(memory0).getUint8(ret + 4, true)) {\n            case 0: {\n              enum8 = 'valid';\n              break;\n            }\n            case 1: {\n              enum8 = 'invalid';\n              break;\n            }\n            default: {\n              throw new TypeError('invalid discriminant specified for EmailValidity');\n            }\n          }\n          var len10 = dataView(memory0).getInt32(ret + 12, true);\n          var base10 = dataView(memory0).getInt32(ret + 8, true);\n          var result10 = [];\n          for (let i = 0; i < len10; i++) {\n            const base = base10 + i * 8;\n            var ptr9 = dataView(memory0).getInt32(base + 0, true);\n            var len9 = dataView(memory0).getInt32(base + 4, true);\n            var result9 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr9, len9));\n            result10.push(result9);\n          }\n          variant12= {\n            tag: 'ok',\n            val: {\n              validity: enum8,\n              blocked: result10,\n            }\n          };\n          break;\n        }\n        case 1: {\n          var ptr11 = dataView(memory0).getInt32(ret + 4, true);\n          var len11 = dataView(memory0).getInt32(ret + 8, true);\n          var result11 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr11, len11));\n          variant12= {\n            tag: 'err',\n            val: result11\n          };\n          break;\n        }\n        default: {\n          throw new TypeError('invalid variant discriminant for expected');\n        }\n      }\n      const retVal = variant12;\n      postReturn4(ret);\n      if (typeof retVal === 'object' && retVal.tag === 'err') {\n        throw new ComponentError(retVal.val);\n      }\n      return retVal.val;\n    }\n    \n    function detectSensitiveInfo(arg0, arg1) {\n      var ptr0 = utf8Encode(arg0, realloc0, memory0);\n      var len0 = utf8EncodedLen;\n      var {entities: v1_0, contextWindowSize: v1_1, skipCustomDetect: v1_2 } = arg1;\n      var variant8 = v1_0;\n      let variant8_0;\n      let variant8_1;\n      let variant8_2;\n      switch (variant8.tag) {\n        case 'allow': {\n          const e = variant8.val;\n          var vec4 = e;\n          var len4 = vec4.length;\n          var result4 = realloc0(0, 0, 4, len4 * 12);\n          for (let i = 0; i < vec4.length; i++) {\n            const e = vec4[i];\n            const base = result4 + i * 12;var variant3 = e;\n            switch (variant3.tag) {\n              case 'email': {\n                dataView(memory0).setInt8(base + 0, 0, true);\n                break;\n              }\n              case 'phone-number': {\n                dataView(memory0).setInt8(base + 0, 1, true);\n                break;\n              }\n              case 'ip-address': {\n                dataView(memory0).setInt8(base + 0, 2, true);\n                break;\n              }\n              case 'credit-card-number': {\n                dataView(memory0).setInt8(base + 0, 3, true);\n                break;\n              }\n              case 'custom': {\n                const e = variant3.val;\n                dataView(memory0).setInt8(base + 0, 4, true);\n                var ptr2 = utf8Encode(e, realloc0, memory0);\n                var len2 = utf8EncodedLen;\n                dataView(memory0).setInt32(base + 8, len2, true);\n                dataView(memory0).setInt32(base + 4, ptr2, true);\n                break;\n              }\n              default: {\n                throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant3.tag)}\\` (received \\`${variant3}\\`) specified for \\`SensitiveInfoEntity\\``);\n              }\n            }\n          }\n          variant8_0 = 0;\n          variant8_1 = result4;\n          variant8_2 = len4;\n          break;\n        }\n        case 'deny': {\n          const e = variant8.val;\n          var vec7 = e;\n          var len7 = vec7.length;\n          var result7 = realloc0(0, 0, 4, len7 * 12);\n          for (let i = 0; i < vec7.length; i++) {\n            const e = vec7[i];\n            const base = result7 + i * 12;var variant6 = e;\n            switch (variant6.tag) {\n              case 'email': {\n                dataView(memory0).setInt8(base + 0, 0, true);\n                break;\n              }\n              case 'phone-number': {\n                dataView(memory0).setInt8(base + 0, 1, true);\n                break;\n              }\n              case 'ip-address': {\n                dataView(memory0).setInt8(base + 0, 2, true);\n                break;\n              }\n              case 'credit-card-number': {\n                dataView(memory0).setInt8(base + 0, 3, true);\n                break;\n              }\n              case 'custom': {\n                const e = variant6.val;\n                dataView(memory0).setInt8(base + 0, 4, true);\n                var ptr5 = utf8Encode(e, realloc0, memory0);\n                var len5 = utf8EncodedLen;\n                dataView(memory0).setInt32(base + 8, len5, true);\n                dataView(memory0).setInt32(base + 4, ptr5, true);\n                break;\n              }\n              default: {\n                throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant6.tag)}\\` (received \\`${variant6}\\`) specified for \\`SensitiveInfoEntity\\``);\n              }\n            }\n          }\n          variant8_0 = 1;\n          variant8_1 = result7;\n          variant8_2 = len7;\n          break;\n        }\n        default: {\n          throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant8.tag)}\\` (received \\`${variant8}\\`) specified for \\`SensitiveInfoEntities\\``);\n        }\n      }\n      var variant9 = v1_1;\n      let variant9_0;\n      let variant9_1;\n      if (variant9 === null || variant9=== undefined) {\n        variant9_0 = 0;\n        variant9_1 = 0;\n      } else {\n        const e = variant9;\n        variant9_0 = 1;\n        variant9_1 = toUint32(e);\n      }\n      const ret = exports1['detect-sensitive-info'](ptr0, len0, variant8_0, variant8_1, variant8_2, variant9_0, variant9_1, v1_2 ? 1 : 0);\n      var len12 = dataView(memory0).getInt32(ret + 4, true);\n      var base12 = dataView(memory0).getInt32(ret + 0, true);\n      var result12 = [];\n      for (let i = 0; i < len12; i++) {\n        const base = base12 + i * 20;\n        let variant11;\n        switch (dataView(memory0).getUint8(base + 8, true)) {\n          case 0: {\n            variant11= {\n              tag: 'email',\n            };\n            break;\n          }\n          case 1: {\n            variant11= {\n              tag: 'phone-number',\n            };\n            break;\n          }\n          case 2: {\n            variant11= {\n              tag: 'ip-address',\n            };\n            break;\n          }\n          case 3: {\n            variant11= {\n              tag: 'credit-card-number',\n            };\n            break;\n          }\n          case 4: {\n            var ptr10 = dataView(memory0).getInt32(base + 12, true);\n            var len10 = dataView(memory0).getInt32(base + 16, true);\n            var result10 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr10, len10));\n            variant11= {\n              tag: 'custom',\n              val: result10\n            };\n            break;\n          }\n          default: {\n            throw new TypeError('invalid variant discriminant for SensitiveInfoEntity');\n          }\n        }\n        result12.push({\n          start: dataView(memory0).getInt32(base + 0, true) >>> 0,\n          end: dataView(memory0).getInt32(base + 4, true) >>> 0,\n          identifiedType: variant11,\n        });\n      }\n      var len15 = dataView(memory0).getInt32(ret + 12, true);\n      var base15 = dataView(memory0).getInt32(ret + 8, true);\n      var result15 = [];\n      for (let i = 0; i < len15; i++) {\n        const base = base15 + i * 20;\n        let variant14;\n        switch (dataView(memory0).getUint8(base + 8, true)) {\n          case 0: {\n            variant14= {\n              tag: 'email',\n            };\n            break;\n          }\n          case 1: {\n            variant14= {\n              tag: 'phone-number',\n            };\n            break;\n          }\n          case 2: {\n            variant14= {\n              tag: 'ip-address',\n            };\n            break;\n          }\n          case 3: {\n            variant14= {\n              tag: 'credit-card-number',\n            };\n            break;\n          }\n          case 4: {\n            var ptr13 = dataView(memory0).getInt32(base + 12, true);\n            var len13 = dataView(memory0).getInt32(base + 16, true);\n            var result13 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr13, len13));\n            variant14= {\n              tag: 'custom',\n              val: result13\n            };\n            break;\n          }\n          default: {\n            throw new TypeError('invalid variant discriminant for SensitiveInfoEntity');\n          }\n        }\n        result15.push({\n          start: dataView(memory0).getInt32(base + 0, true) >>> 0,\n          end: dataView(memory0).getInt32(base + 4, true) >>> 0,\n          identifiedType: variant14,\n        });\n      }\n      const retVal = {\n        allowed: result12,\n        denied: result15,\n      };\n      postReturn5(ret);\n      return retVal;\n    }\n    \n    return { detectBot, detectSensitiveInfo, generateFingerprint, isValidEmail, matchFilters, validateCharacteristics,  };\n  })();\n  let promise, resolve, reject;\n  function runNext (value) {\n    try {\n      let done;\n      do {\n        ({ value, done } = gen.next(value));\n      } while (!(value instanceof Promise) && !done);\n      if (done) {\n        if (resolve) resolve(value);\n        else return value;\n      }\n      if (!promise) promise = new Promise((_resolve, _reject) => (resolve = _resolve, reject = _reject));\n      value.then(nextVal => done ? resolve() : runNext(nextVal), reject);\n    }\n    catch (e) {\n      if (reject) reject(e);\n      else throw e;\n    }\n  }\n  const maybeSyncReturn = runNext(null);\n  return promise || maybeSyncReturn;\n}\n\nexport { instantiate };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1871, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze-wasm/wasm/arcjet_analyze_js_req.component.core.wasm_.loader.mjs"],"sourcesContent":["import wasmPath from \"WASM_PATH\";\n\nconst mod = await __turbopack_wasm_module__(wasmPath, () => wasm_284248077f370a33);\n\nexport default mod;\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,MAAM,0BAA0B,+NAAQ,EAAE,IAAM;uCAE7C","ignoreList":[0]}},
    {"offset": {"line": 1888, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze-wasm/wasm/arcjet_analyze_js_req.component.core2.wasm_.loader.mjs"],"sourcesContent":["import wasmPath from \"WASM_PATH\";\n\nconst mod = await __turbopack_wasm_module__(wasmPath, () => wasm_4da35616df4692c2);\n\nexport default mod;\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,MAAM,0BAA0B,gOAAQ,EAAE,IAAM;uCAE7C","ignoreList":[0]}},
    {"offset": {"line": 1905, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze-wasm/wasm/arcjet_analyze_js_req.component.core3.wasm_.loader.mjs"],"sourcesContent":["import wasmPath from \"WASM_PATH\";\n\nconst mod = await __turbopack_wasm_module__(wasmPath, () => wasm_9541a21c039b644);\n\nexport default mod;\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,MAAM,0BAA0B,gOAAQ,EAAE,IAAM;uCAE7C","ignoreList":[0]}},
    {"offset": {"line": 1919, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze-wasm/edge-light.js"],"sourcesContent":["import { instantiate } from './wasm/arcjet_analyze_js_req.component.js';\nimport componentCoreWasm from './wasm/arcjet_analyze_js_req.component.core.wasm?module';\nimport componentCore2Wasm from './wasm/arcjet_analyze_js_req.component.core2.wasm?module';\nimport componentCore3Wasm from './wasm/arcjet_analyze_js_req.component.core3.wasm?module';\n\nasync function moduleFromPath(path) {\n    if (path === \"arcjet_analyze_js_req.component.core.wasm\") {\n        return componentCoreWasm;\n    }\n    if (path === \"arcjet_analyze_js_req.component.core2.wasm\") {\n        return componentCore2Wasm;\n    }\n    if (path === \"arcjet_analyze_js_req.component.core3.wasm\") {\n        return componentCore3Wasm;\n    }\n    throw new Error(`Unknown path: ${path}`);\n}\n/**\n * Initialize the generated WebAssembly component.\n *\n * @param coreImports\n *   Things, typically functions, to pass into the component.\n * @returns\n *   Promise that resolves to the initialized component.\n */\nasync function initializeWasm(coreImports) {\n    try {\n        return instantiate(moduleFromPath, coreImports);\n    }\n    catch {\n        return undefined;\n    }\n}\n\nexport { initializeWasm };\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;;;;;;;;;;;AAEA,eAAe,eAAe,IAAI;IAC9B,IAAI,SAAS,6CAA6C;QACtD,OAAO,kOAAiB;IAC5B;IACA,IAAI,SAAS,8CAA8C;QACvD,OAAO,mOAAkB;IAC7B;IACA,IAAI,SAAS,8CAA8C;QACvD,OAAO,mOAAkB;IAC7B;IACA,MAAM,IAAI,MAAM,CAAC,cAAc,EAAE,MAAM;AAC3C;AACA;;;;;;;CAOC,GACD,eAAe,eAAe,WAAW;IACrC,IAAI;QACA,OAAO,IAAA,gNAAW,EAAC,gBAAgB;IACvC,EACA,OAAM;QACF,OAAO;IACX;AACJ","ignoreList":[0]}},
    {"offset": {"line": 1970, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze/index.js"],"sourcesContent":["import { initializeWasm } from '@arcjet/analyze-wasm';\n\nconst FREE_EMAIL_PROVIDERS = [\n    \"gmail.com\",\n    \"yahoo.com\",\n    \"hotmail.com\",\n    \"aol.com\",\n    \"hotmail.co.uk\",\n];\nfunction noOpSensitiveInfoDetect() {\n    return [];\n}\nfunction noOpBotsDetect() {\n    return [];\n}\nfunction createCoreImports(detect) {\n    if (typeof detect !== \"function\") {\n        detect = noOpSensitiveInfoDetect;\n    }\n    return {\n        \"arcjet:js-req/bot-identifier\": {\n            detect: noOpBotsDetect,\n        },\n        \"arcjet:js-req/email-validator-overrides\": {\n            isFreeEmail(domain) {\n                if (FREE_EMAIL_PROVIDERS.includes(domain)) {\n                    return \"yes\";\n                }\n                return \"unknown\";\n            },\n            isDisposableEmail() {\n                return \"unknown\";\n            },\n            hasMxRecords() {\n                return \"unknown\";\n            },\n            hasGravatar() {\n                return \"unknown\";\n            },\n        },\n        \"arcjet:js-req/filter-overrides\": {\n            ipLookup() {\n                return undefined;\n            },\n        },\n        // TODO(@wooorm-arcjet): figure out a test case for this with the default `detect`.\n        \"arcjet:js-req/sensitive-information-identifier\": {\n            detect,\n        },\n        // TODO(@wooorm-arcjet): figure out a test case for this that calls `verify`.\n        \"arcjet:js-req/verify-bot\": {\n            verify() {\n                return \"unverifiable\";\n            },\n        },\n    };\n}\n/**\n * Generate a fingerprint.\n *\n * Fingerprints can be used to identify the client across multiple requests.\n *\n * This considers different things on the `request` based on the passed\n * `context.characteristics`.\n *\n * See [*Fingerprints* on\n * `docs.arcjet.com`](https://docs.arcjet.com/fingerprints/) for more info.\n *\n * @param context\n *   Context.\n * @param request\n *   Request.\n * @returns\n *   Promise for a SHA-256 fingerprint.\n */\nasync function generateFingerprint(context, request) {\n    const { log } = context;\n    const coreImports = createCoreImports();\n    const analyze = await initializeWasm(coreImports);\n    if (typeof analyze !== \"undefined\") {\n        return analyze.generateFingerprint(JSON.stringify(request), context.characteristics);\n        // Ignore the `else` branch as we test in places that have WebAssembly.\n        /* node:coverage ignore next 4 */\n    }\n    log.debug(\"WebAssembly is not supported in this runtime\");\n    return \"\";\n}\n/**\n * Check whether an email is valid.\n *\n * @param context\n *   Context.\n * @param value\n *   Value.\n * @param options\n *   Configuration.\n * @returns\n *   Promise for a result.\n */\nasync function isValidEmail(context, value, options) {\n    const { log } = context;\n    const coreImports = createCoreImports();\n    const analyze = await initializeWasm(coreImports);\n    if (typeof analyze !== \"undefined\") {\n        return analyze.isValidEmail(value, options);\n        // Ignore the `else` branch as we test in places that have WebAssembly.\n        /* node:coverage ignore next 4 */\n    }\n    log.debug(\"WebAssembly is not supported in this runtime\");\n    return { blocked: [], validity: \"valid\" };\n}\n/**\n * Detect whether a request is by a bot.\n *\n * @param context\n *   Context.\n * @param request\n *   Request.\n * @param options\n *   Configuration.\n * @returns\n *   Promise for a result.\n */\nasync function detectBot(context, request, options) {\n    const { log } = context;\n    const coreImports = createCoreImports();\n    const analyze = await initializeWasm(coreImports);\n    if (typeof analyze !== \"undefined\") {\n        return analyze.detectBot(JSON.stringify(request), options);\n        // Ignore the `else` branch as we test in places that have WebAssembly.\n        /* node:coverage ignore next 4 */\n    }\n    log.debug(\"WebAssembly is not supported in this runtime\");\n    return { allowed: [], denied: [], spoofed: false, verified: false };\n}\n/**\n * Detect sensitive info in a value.\n *\n * @param context\n *   Context.\n * @param value\n *   Value.\n * @param entities\n *   Strategy to use for detecting sensitive info;\n *   either by denying everything and allowing certain tags or by allowing\n *   everything and denying certain tags.\n * @param contextWindowSize\n *   Number of tokens to pass to `detect`.\n * @param detect\n *   Function to detect sensitive info (optional).\n * @returns\n *   Promise for a result.\n */\nasync function detectSensitiveInfo(context, value, entities, contextWindowSize, detect) {\n    const { log } = context;\n    const coreImports = createCoreImports(detect);\n    const analyze = await initializeWasm(coreImports);\n    if (typeof analyze !== \"undefined\") {\n        const skipCustomDetect = typeof detect !== \"function\";\n        return analyze.detectSensitiveInfo(value, {\n            entities,\n            contextWindowSize,\n            skipCustomDetect,\n        });\n        // Ignore the `else` branch as we test in places that have WebAssembly.\n        /* node:coverage ignore next 4 */\n    }\n    log.debug(\"WebAssembly is not supported in this runtime\");\n    throw new Error(\"SENSITIVE_INFO rule failed to run because Wasm is not supported in this environment.\");\n}\n/**\n * Check if a filter matches a request.\n *\n * @param context\n *   Arcjet context.\n * @param request\n *   Request.\n * @param expressions\n *   Filter expressions.\n * @returns\n *   Promise to whether the filter matches the request.\n */\nasync function matchFilters(context, request, expressions, allowIfMatch) {\n    const coreImports = createCoreImports();\n    const analyze = await initializeWasm(coreImports);\n    if (typeof analyze !== \"undefined\") {\n        return analyze.matchFilters(JSON.stringify(request), \n        // @ts-expect-error: WebAssembly does not support readonly values.\n        expressions, allowIfMatch);\n        // Ignore the `else` branch as we test in places that have WebAssembly.\n        /* node:coverage ignore next 4 */\n    }\n    context.log.debug(\"WebAssembly is not supported in this runtime\");\n    throw new Error(\"FILTER rule failed to run because Wasm is not supported in this environment.\");\n}\n\nexport { detectBot, detectSensitiveInfo, generateFingerprint, isValidEmail, matchFilters };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2179, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/duration/index.js"],"sourcesContent":["// This Parser is a TypeScript implementation of similar code in the Go stdlib\n// with deviations made to support usage in the Arcjet SDK.\n//\n// Parser source:\n// https://github.com/golang/go/blob/c18ddc84e1ec6406b26f7e9d0e1ee3d1908d7c27/src/time/format.go#L1589-L1686\n//\n// Licensed: BSD 3-Clause \"New\" or \"Revised\" License\n// Copyright (c) 2009 The Go Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//    * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//    * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//    * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nconst second = 1;\nconst minute = 60 * second;\nconst hour = 60 * minute;\nconst day = 24 * hour;\nconst maxUint32 = 4294967295;\nconst units = new Map([\n    [\"s\", second],\n    [\"m\", minute],\n    [\"h\", hour],\n    [\"d\", day],\n]);\nconst integers = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\n// leadingInt consumes the leading [0-9]* from s.\nfunction leadingInt(s) {\n    let i = 0;\n    let x = 0;\n    for (; i < s.length; i++) {\n        const c = s[i];\n        if (!integers.includes(c)) {\n            break;\n        }\n        x = x * 10 + parseInt(c, 10);\n        if (x > maxUint32) {\n            // overflow\n            throw new Error(\"bad [0-9]*\"); // never printed\n        }\n    }\n    return [x, s.slice(i)];\n}\n/**\n * Parse a duration into a number representing seconds while ensuring the value\n * fits within an unsigned 32-bit integer.\n *\n * If a number is passed it is validated and returned.\n *\n * If a string is passed it must be in the form of digits followed by a unit.\n * Supported units are `s` (seconds),\n * `m` (minutes),\n * `h` (hours),\n * and `d` (days).\n *\n * @example\n *   ```ts\n *   console.log(parse(\"1s\")) // => 1\n *   console.log(parse(\"1m\")) // => 60\n *   console.log(parse(\"1h\")) // => 3600\n *   console.log(parse(\"1d\")) // => 86400\n *   ```\n * @param value\n *   Value to parse.\n * @returns\n *   Parsed seconds.\n */\nfunction parse(value) {\n    const original = value;\n    if (typeof value === \"number\") {\n        if (value > maxUint32) {\n            throw new Error(`invalid duration: ${original}`);\n        }\n        if (value < 0) {\n            throw new Error(`invalid duration: ${original}`);\n        }\n        if (!Number.isInteger(value)) {\n            throw new Error(`invalid duration: ${original}`);\n        }\n        return value;\n    }\n    if (typeof value !== \"string\") {\n        throw new Error(\"can only parse a duration string\");\n    }\n    let d = 0;\n    // Special case: if all that is left is \"0\", this is zero.\n    if (value === \"0\") {\n        return 0;\n    }\n    if (value === \"\") {\n        throw new Error(`invalid duration: ${original}`);\n    }\n    while (value !== \"\") {\n        let v = 0;\n        // The next character must be [0-9]\n        if (!integers.includes(value[0])) {\n            throw new Error(`invalid duration: ${original}`);\n        }\n        // Consume [0-9]*\n        [v, value] = leadingInt(value);\n        // Error on decimal (\\.[0-9]*)?\n        if (value !== \"\" && value[0] == \".\") {\n            // TODO: We could support decimals that turn into non-decimal secondse.g.\n            // 1.5hours becomes 5400 seconds\n            throw new Error(`unsupported decimal duration: ${original}`);\n        }\n        // Consume unit.\n        let i = 0;\n        for (; i < value.length; i++) {\n            const c = value[i];\n            if (integers.includes(c)) {\n                break;\n            }\n        }\n        if (i == 0) {\n            throw new Error(`missing unit in duration: ${original}`);\n        }\n        const u = value.slice(0, i);\n        value = value.slice(i);\n        const unit = units.get(u);\n        if (typeof unit === \"undefined\") {\n            throw new Error(`unknown unit \"${u}\" in duration ${original}`);\n        }\n        if (v > maxUint32 / unit) {\n            // overflow\n            throw new Error(`invalid duration ${original}`);\n        }\n        v *= unit;\n        d += v;\n        if (d > maxUint32) {\n            throw new Error(`invalid duration ${original}`);\n        }\n    }\n    return d;\n}\n\nexport { parse };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2367, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/headers/index.js"],"sourcesContent":["function isIterable(val) {\n    return typeof val?.[Symbol.iterator] === \"function\";\n}\n/**\n * Arcjet headers.\n *\n * This exists to prevent the `cookie` header from being set\n * and non-string values from being set.\n *\n * @see\n *   [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers).\n */\nclass ArcjetHeaders extends Headers {\n    constructor(init) {\n        super();\n        if (typeof init !== \"undefined\" &&\n            typeof init !== \"string\" &&\n            init !== null) {\n            if (isIterable(init)) {\n                for (const [key, value] of init) {\n                    this.append(key, value);\n                }\n            }\n            else {\n                for (const [key, value] of Object.entries(init)) {\n                    if (typeof value === \"undefined\") {\n                        continue;\n                    }\n                    if (Array.isArray(value)) {\n                        for (const singleValue of value) {\n                            this.append(key, singleValue);\n                        }\n                    }\n                    else {\n                        this.append(key, value);\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Append a header while ignoring `cookie`.\n     *\n     * @see\n     *   [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers/append)\n     *\n     * @param key\n     *   Header name.\n     * @param value\n     *   Header value.\n     * @returns\n     *   Nothing.\n     */\n    append = (key, value) => {\n        if (typeof key !== \"string\" || typeof value !== \"string\") {\n            return;\n        }\n        if (key.toLowerCase() !== \"cookie\") {\n            Headers.prototype.append.call(this, key, value);\n        }\n    };\n    /**\n     * Set a header while ignoring `cookie`.\n     *\n     * @see\n     *   [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers/set)\n     *\n     * @param key\n     *   Header key.\n     * @param value\n     *   Header value.\n     * @returns\n     *   Nothing.\n     */\n    set = (key, value) => {\n        if (typeof key !== \"string\" || typeof value !== \"string\") {\n            return;\n        }\n        if (key.toLowerCase() !== \"cookie\") {\n            Headers.prototype.set.call(this, key, value);\n        }\n    };\n}\n\nexport { ArcjetHeaders, ArcjetHeaders as default };\n"],"names":[],"mappings":";;;;AAAA,SAAS,WAAW,GAAG;IACnB,OAAO,OAAO,KAAK,CAAC,OAAO,QAAQ,CAAC,KAAK;AAC7C;AACA;;;;;;;;CAQC,GACD,MAAM,sBAAsB;IACxB,YAAY,IAAI,CAAE;QACd,KAAK;QACL,IAAI,OAAO,SAAS,eAChB,OAAO,SAAS,YAChB,SAAS,MAAM;YACf,IAAI,WAAW,OAAO;gBAClB,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,KAAM;oBAC7B,IAAI,CAAC,MAAM,CAAC,KAAK;gBACrB;YACJ,OACK;gBACD,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,MAAO;oBAC7C,IAAI,OAAO,UAAU,aAAa;wBAC9B;oBACJ;oBACA,IAAI,MAAM,OAAO,CAAC,QAAQ;wBACtB,KAAK,MAAM,eAAe,MAAO;4BAC7B,IAAI,CAAC,MAAM,CAAC,KAAK;wBACrB;oBACJ,OACK;wBACD,IAAI,CAAC,MAAM,CAAC,KAAK;oBACrB;gBACJ;YACJ;QACJ;IACJ;IACA;;;;;;;;;;;;KAYC,GACD,SAAS,CAAC,KAAK;QACX,IAAI,OAAO,QAAQ,YAAY,OAAO,UAAU,UAAU;YACtD;QACJ;QACA,IAAI,IAAI,WAAW,OAAO,UAAU;YAChC,QAAQ,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK;QAC7C;IACJ,EAAE;IACF;;;;;;;;;;;;KAYC,GACD,MAAM,CAAC,KAAK;QACR,IAAI,OAAO,QAAQ,YAAY,OAAO,UAAU,UAAU;YACtD;QACJ;QACA,IAAI,IAAI,WAAW,OAAO,UAAU;YAChC,QAAQ,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK;QAC1C;IACJ,EAAE;AACN","ignoreList":[0]}},
    {"offset": {"line": 2452, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/runtime/edge-light.js"],"sourcesContent":["/*\n  This file is mostly a duplication of `index.ts` with the `process` lookup\n  removed. We do this because Next.js uses an error-prone method for showing\n  a warning when compiling for the edge runtime.\n*/\n// This code was improved by detection mechanisms in\n// https://github.com/unjs/std-env/blob/b4ef16832baf4594ece7796a2c1805712fde70a3/src/runtimes.ts\n//\n// MIT License\n//\n// Copyright (c) Pooya Parsa <pooya@pi0.io>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\nfunction runtime() {\n    // The detection order matters in this function because some platforms will\n    // implement compatibility layers, but we want to detect them accurately.\n    // https://developers.cloudflare.com/workers/configuration/compatibility-dates/#global-navigator\n    if (typeof navigator !== \"undefined\" &&\n        navigator.userAgent === \"Cloudflare-Workers\") {\n        return \"workerd\";\n    }\n    if (typeof Deno !== \"undefined\") {\n        return \"deno\";\n    }\n    if (typeof Bun !== \"undefined\") {\n        return \"bun\";\n    }\n    if (typeof EdgeRuntime !== \"undefined\") {\n        return \"edge-light\";\n    }\n    // Unknown or unsupported runtime\n    return \"\";\n}\n\nexport { runtime };\n"],"names":[],"mappings":"AAAA;;;;AAIA,GACA,oDAAoD;AACpD,gGAAgG;AAChG,EAAE;AACF,cAAc;AACd,EAAE;AACF,2CAA2C;AAC3C,EAAE;AACF,+EAA+E;AAC/E,gFAAgF;AAChF,+EAA+E;AAC/E,4EAA4E;AAC5E,wEAAwE;AACxE,2DAA2D;AAC3D,EAAE;AACF,6EAA6E;AAC7E,sDAAsD;AACtD,EAAE;AACF,6EAA6E;AAC7E,2EAA2E;AAC3E,8EAA8E;AAC9E,yEAAyE;AACzE,gFAAgF;AAChF,gFAAgF;AAChF,YAAY;;;;AACZ,SAAS;IACL,2EAA2E;IAC3E,yEAAyE;IACzE,gGAAgG;IAChG,IAAI,OAAO,cAAc,eACrB,UAAU,SAAS,KAAK,sBAAsB;QAC9C,OAAO;IACX;IACA,IAAI,OAAO,SAAS,aAAa;QAC7B,OAAO;IACX;IACA,IAAI,OAAO,QAAQ,aAAa;QAC5B,OAAO;IACX;IACA,IAAI,4DAAuB,aAAa;QACpC,OAAO;IACX;IACA,iCAAiC;IACjC,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 2507, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/stable-hash/hasher.js"],"sourcesContent":["class Sha256 {\n    encoder;\n    subtle;\n    buf;\n    constructor(subtle) {\n        this.subtle = subtle;\n        this.encoder = new TextEncoder();\n        this.buf = \"\";\n    }\n    writeString(data) {\n        this.buf += data;\n    }\n    async digest() {\n        const buf = this.encoder.encode(this.buf);\n        const digest = await this.subtle.digest(\"SHA-256\", buf);\n        return new Uint8Array(digest);\n    }\n}\n// After this, it needs to wrap to 0\nconst maxUint32 = 4294967295;\nconst fieldSeparator = \":\";\nconst itemSeparator = \",\";\n/**\n * Create a hasher for a boolean.\n *\n * @param key\n *   Key.\n * @param value\n *   Value.\n * @returns\n *   Hasher.\n */\nfunction bool(key, value) {\n    return (data) => {\n        data.writeString(key);\n        data.writeString(fieldSeparator);\n        if (value) {\n            data.writeString(\"true\");\n        }\n        else {\n            data.writeString(\"false\");\n        }\n    };\n}\n/**\n * Create a hasher for an unsigned 32-bit integer.\n *\n * @param key\n *   Key.\n * @param value\n *   Value.\n * @returns\n *   Hasher.\n */\nfunction uint32(key, value) {\n    return (data) => {\n        data.writeString(key);\n        data.writeString(fieldSeparator);\n        if (value > maxUint32) {\n            data.writeString(\"0\");\n        }\n        else {\n            data.writeString(value.toFixed(0));\n        }\n    };\n}\n/**\n * Create a hasher for a string.\n *\n * @param key\n *   Key.\n * @param value\n *   Value.\n * @returns\n *   Hasher.\n */\nfunction string(key, value) {\n    return (data) => {\n        data.writeString(key);\n        data.writeString(fieldSeparator);\n        data.writeString(`\"`);\n        data.writeString(value.replaceAll(`\"`, `\\\\\"`));\n        data.writeString(`\"`);\n    };\n}\n/**\n * Create a hasher for an array of strings.\n *\n * @param key\n *   Key.\n * @param values\n *   Values.\n * @returns\n *   Hasher.\n */\nfunction stringSliceOrdered(key, values) {\n    return (data) => {\n        data.writeString(key);\n        data.writeString(fieldSeparator);\n        data.writeString(\"[\");\n        for (const value of Array.from(values).sort()) {\n            data.writeString(`\"`);\n            data.writeString(value.replaceAll(`\"`, `\\\\\"`));\n            data.writeString(`\"`);\n            data.writeString(itemSeparator);\n        }\n        data.writeString(\"]\");\n    };\n}\n/**\n * Create a hasher.\n *\n * @param subtle\n *   Subtle crypto.\n * @returns\n *   Hasher.\n */\nfunction makeHasher(subtle) {\n    /**\n     * Hash fields.\n     *\n     * @param hashers\n     *   Hashers.\n     * @returns\n     *   Promise to a hash.\n     */\n    return async function hash(...hashers) {\n        const h = new Sha256(subtle);\n        for (const hasher of hashers) {\n            hasher(h);\n            h.writeString(itemSeparator);\n        }\n        const digest = await h.digest();\n        return hex(digest);\n    };\n}\n// Hex encoding logic from https://github.com/feross/buffer but adjusted for\n// our use.\n//\n// Licensed: The MIT License (MIT)\n//\n// Copyright (c) Feross Aboukhadijeh, and other contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n// https://github.com/feross/buffer/blob/5857e295f4d37e3ad02c3abcbf7e8e5ef51f3be6/index.js#L2096-L2106\nconst hexSliceLookupTable = (function () {\n    const alphabet = \"0123456789abcdef\";\n    const table = new Array(256);\n    for (let i = 0; i < 16; ++i) {\n        const i16 = i * 16;\n        for (let j = 0; j < 16; ++j) {\n            table[i16 + j] = alphabet[i] + alphabet[j];\n        }\n    }\n    return table;\n})();\n// https://github.com/feross/buffer/blob/5857e295f4d37e3ad02c3abcbf7e8e5ef51f3be6/index.js#L1085-L1096\nfunction hex(buf) {\n    const len = buf.length;\n    const start = 0;\n    const end = len;\n    let out = \"\";\n    for (let i = start; i < end; ++i) {\n        out += hexSliceLookupTable[buf[i]];\n    }\n    return out;\n}\n\nexport { bool, makeHasher, string, stringSliceOrdered, uint32 };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2694, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/stable-hash/edge-light.js"],"sourcesContent":["import { makeHasher } from './hasher.js';\nexport { bool, string, stringSliceOrdered, uint32 } from './hasher.js';\n\n// @ts-ignore: this value exists in Edge Light, as it implements the DOM type for it.\n// See <https://vercel.com/docs/functions/runtimes/edge#crypto-apis>.\n// This can be verified by adding `/// <reference lib=\"dom\" />` above.\n// But we dont want to load the entire DOM types or edge-light-specific types.\nconst hash = makeHasher(crypto.subtle);\n\nexport { hash, makeHasher };\n"],"names":[],"mappings":";;;AAAA;;;AAGA,qFAAqF;AACrF,qEAAqE;AACrE,sEAAsE;AACtE,+EAA+E;AAC/E,MAAM,OAAO,IAAA,0KAAU,EAAC,OAAO,MAAM","ignoreList":[0]}},
    {"offset": {"line": 2717, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/cache/index.js"],"sourcesContent":["function nowInSeconds() {\n    return Math.floor(Date.now() / 1000);\n}\nclass Bucket {\n    expires;\n    data;\n    constructor() {\n        this.expires = new Map();\n        this.data = new Map();\n    }\n    get(key) {\n        const now = nowInSeconds();\n        const expiresAt = this.expires.get(key) ?? now;\n        const ttl = expiresAt - now;\n        if (ttl > 0) {\n            return [this.data.get(key), ttl];\n        }\n        else {\n            // Cleanup if expired\n            this.expires.delete(key);\n            this.data.delete(key);\n            return [undefined, 0];\n        }\n    }\n    set(key, value, ttl) {\n        const expiresAt = nowInSeconds() + ttl;\n        this.expires.set(key, expiresAt);\n        this.data.set(key, value);\n    }\n}\n/**\n * In-memory cache.\n */\nclass MemoryCache {\n    /**\n     * Data.\n     */\n    namespaces;\n    /**\n     * Create a new in-memory cache.\n     */\n    constructor() {\n        this.namespaces = new Map();\n    }\n    async get(namespace, key) {\n        if (typeof namespace !== \"string\") {\n            throw new Error(\"`namespace` must be a string\");\n        }\n        if (typeof key !== \"string\") {\n            throw new Error(\"`key` must be a string\");\n        }\n        const namespaceCache = this.namespaces.get(namespace);\n        if (typeof namespaceCache === \"undefined\") {\n            return [undefined, 0];\n        }\n        return namespaceCache.get(key);\n    }\n    set(namespace, key, value, ttl) {\n        if (typeof namespace !== \"string\") {\n            throw new Error(\"`namespace` must be a string\");\n        }\n        if (typeof key !== \"string\") {\n            throw new Error(\"`key` must be a string\");\n        }\n        const namespaceCache = this.namespaces.get(namespace) ?? new Bucket();\n        namespaceCache.set(key, value, ttl);\n        this.namespaces.set(namespace, namespaceCache);\n    }\n}\n\nexport { MemoryCache };\n"],"names":[],"mappings":";;;AAAA,SAAS;IACL,OAAO,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;AACnC;AACA,MAAM;IACF,QAAQ;IACR,KAAK;IACL,aAAc;QACV,IAAI,CAAC,OAAO,GAAG,IAAI;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI;IACpB;IACA,IAAI,GAAG,EAAE;QACL,MAAM,MAAM;QACZ,MAAM,YAAY,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ;QAC3C,MAAM,MAAM,YAAY;QACxB,IAAI,MAAM,GAAG;YACT,OAAO;gBAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;gBAAM;aAAI;QACpC,OACK;YACD,qBAAqB;YACrB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;YACpB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YACjB,OAAO;gBAAC;gBAAW;aAAE;QACzB;IACJ;IACA,IAAI,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE;QACjB,MAAM,YAAY,iBAAiB;QACnC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK;QACtB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK;IACvB;AACJ;AACA;;CAEC,GACD,MAAM;IACF;;KAEC,GACD,WAAW;IACX;;KAEC,GACD,aAAc;QACV,IAAI,CAAC,UAAU,GAAG,IAAI;IAC1B;IACA,MAAM,IAAI,SAAS,EAAE,GAAG,EAAE;QACtB,IAAI,OAAO,cAAc,UAAU;YAC/B,MAAM,IAAI,MAAM;QACpB;QACA,IAAI,OAAO,QAAQ,UAAU;YACzB,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,iBAAiB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;QAC3C,IAAI,OAAO,mBAAmB,aAAa;YACvC,OAAO;gBAAC;gBAAW;aAAE;QACzB;QACA,OAAO,eAAe,GAAG,CAAC;IAC9B;IACA,IAAI,SAAS,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE;QAC5B,IAAI,OAAO,cAAc,UAAU;YAC/B,MAAM,IAAI,MAAM;QACpB;QACA,IAAI,OAAO,QAAQ,UAAU;YACzB,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,iBAAiB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,cAAc,IAAI;QAC7D,eAAe,GAAG,CAAC,KAAK,OAAO;QAC/B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW;IACnC;AACJ","ignoreList":[0]}},
    {"offset": {"line": 2801, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/arcjet/index.js"],"sourcesContent":["import * as protocol from '@arcjet/protocol';\nimport { ArcjetErrorDecision, ArcjetErrorReason, ArcjetRuleResult, ArcjetReason, ArcjetDenyDecision, ArcjetBotReason, ArcjetRateLimitReason, ArcjetEmailReason, ArcjetShieldReason, ArcjetSensitiveInfoReason, ArcjetFilterReason } from '@arcjet/protocol';\nexport * from '@arcjet/protocol';\nimport * as analyze from '@arcjet/analyze';\nimport * as duration from '@arcjet/duration';\nimport { ArcjetHeaders } from '@arcjet/headers';\nimport { runtime } from '@arcjet/runtime';\nimport * as hasher from '@arcjet/stable-hash';\nimport { MemoryCache } from '@arcjet/cache';\n\nfunction assert(condition, msg) {\n    if (!condition) {\n        throw new Error(msg);\n    }\n}\nfunction errorMessage(err) {\n    if (err) {\n        if (typeof err === \"string\") {\n            return err;\n        }\n        if (typeof err === \"object\" &&\n            \"message\" in err &&\n            typeof err.message === \"string\") {\n            return err.message;\n        }\n    }\n    return \"Unknown problem\";\n}\nconst knownFields = [\n    \"ip\",\n    \"method\",\n    \"protocol\",\n    \"host\",\n    \"path\",\n    \"headers\",\n    \"body\",\n    \"email\",\n    \"cookies\",\n    \"query\",\n];\nfunction isUnknownRequestProperty(key) {\n    return !knownFields.includes(key);\n}\nfunction isEmailType(type) {\n    return (type === \"FREE\" ||\n        type === \"DISPOSABLE\" ||\n        type === \"NO_MX_RECORDS\" ||\n        type === \"NO_GRAVATAR\" ||\n        type === \"INVALID\");\n}\nclass Performance {\n    log;\n    constructor(logger) {\n        this.log = logger;\n    }\n    // TODO(#2020): We should no-op this if loglevel is not `debug` to do less work\n    measure(label) {\n        const start = performance.now();\n        return () => {\n            const end = performance.now();\n            const diff = end - start;\n            this.log.debug(\"LATENCY %s: %sms\", label, diff.toFixed(3));\n        };\n    }\n}\nfunction toString(value) {\n    if (typeof value === \"string\") {\n        return value;\n    }\n    if (typeof value === \"number\") {\n        return `${value}`;\n    }\n    if (typeof value === \"boolean\") {\n        return value ? \"true\" : \"false\";\n    }\n    return \"<unsupported value>\";\n}\n// This is the Symbol that Vercel defines in their infrastructure to access the\n// Context (where available). The Context can contain the `waitUntil` function.\n// https://github.com/vercel/vercel/blob/930d7fb892dc26f240f2b950d963931c45e1e661/packages/functions/src/get-context.ts#L6\nconst SYMBOL_FOR_REQ_CONTEXT = Symbol.for(\"@vercel/request-context\");\nfunction lookupWaitUntil() {\n    const fromSymbol = globalThis;\n    if (typeof fromSymbol[SYMBOL_FOR_REQ_CONTEXT] === \"object\" &&\n        fromSymbol[SYMBOL_FOR_REQ_CONTEXT] !== null &&\n        \"get\" in fromSymbol[SYMBOL_FOR_REQ_CONTEXT] &&\n        typeof fromSymbol[SYMBOL_FOR_REQ_CONTEXT].get === \"function\") {\n        const vercelCtx = fromSymbol[SYMBOL_FOR_REQ_CONTEXT].get();\n        if (typeof vercelCtx === \"object\" &&\n            vercelCtx !== null &&\n            \"waitUntil\" in vercelCtx &&\n            typeof vercelCtx.waitUntil === \"function\") {\n            return vercelCtx.waitUntil;\n        }\n    }\n}\nfunction toAnalyzeRequest(request) {\n    const headers = {};\n    if (typeof request.headers !== \"undefined\") {\n        for (const [key, value] of request.headers.entries()) {\n            headers[key] = value;\n        }\n    }\n    return {\n        ...request,\n        headers,\n    };\n}\nfunction extraProps(details) {\n    const extra = new Map();\n    for (const [key, value] of Object.entries(details)) {\n        if (isUnknownRequestProperty(key)) {\n            extra.set(key, toString(value));\n        }\n    }\n    return Object.fromEntries(extra.entries());\n}\nfunction createTypeValidator(...types) {\n    return (key, value) => {\n        const typeOfValue = typeof value;\n        if (!types.includes(typeOfValue)) {\n            if (types.length === 1) {\n                throw new Error(`invalid type for \\`${key}\\` - expected ${types[0]}`);\n            }\n            else {\n                throw new Error(`invalid type for \\`${key}\\` - expected one of ${types.join(\", \")}`);\n            }\n        }\n        else {\n            return false;\n        }\n    };\n}\nfunction createValueValidator(\n// This uses types to ensure we have at least 2 values\n...values) {\n    return (key, value) => {\n        // We cast the values to unknown because the optionValue isn't known but\n        // we only want to use `values` on string enumerations\n        if (!values.includes(value)) {\n            throw new Error(`invalid value for \\`${key}\\` - expected one of ${values.map((value) => `'${value}'`).join(\", \")}`);\n        }\n    };\n}\nfunction createArrayValidator(validate) {\n    return (key, value) => {\n        if (Array.isArray(value)) {\n            for (const [idx, item] of value.entries()) {\n                validate(`${key}[${idx}]`, item);\n            }\n        }\n        else {\n            throw new Error(`invalid type for \\`${key}\\` - expected an array`);\n        }\n    };\n}\nfunction createValidator({ rule, validations, }) {\n    return (options) => {\n        for (const { key, validate, required } of validations) {\n            if (required && !Object.hasOwn(options, key)) {\n                throw new Error(`\\`${rule}\\` options error: \\`${key}\\` is required`);\n            }\n            const value = options[key];\n            // The `required` flag is checked above, so these should only be validated\n            // if the value is not undefined.\n            if (typeof value !== \"undefined\") {\n                try {\n                    validate(key, value);\n                }\n                catch (err) {\n                    throw new Error(`\\`${rule}\\` options error: ${errorMessage(err)}`);\n                }\n            }\n        }\n    };\n}\nconst validateString = createTypeValidator(\"string\");\nconst validateNumber = createTypeValidator(\"number\");\nconst validateBoolean = createTypeValidator(\"boolean\");\nconst validateFunction = createTypeValidator(\"function\");\nconst validateStringOrNumber = createTypeValidator(\"string\", \"number\");\nconst validateStringArray = createArrayValidator(validateString);\nconst validateMode = createValueValidator(\"LIVE\", \"DRY_RUN\");\nconst validateEmailTypes = createArrayValidator(createValueValidator(\"DISPOSABLE\", \"FREE\", \"NO_MX_RECORDS\", \"NO_GRAVATAR\", \"INVALID\"));\nconst validateTokenBucketOptions = createValidator({\n    rule: \"tokenBucket\",\n    validations: [\n        {\n            key: \"mode\",\n            required: false,\n            validate: validateMode,\n        },\n        {\n            key: \"characteristics\",\n            validate: validateStringArray,\n            required: false,\n        },\n        { key: \"refillRate\", required: true, validate: validateNumber },\n        { key: \"interval\", required: true, validate: validateStringOrNumber },\n        { key: \"capacity\", required: true, validate: validateNumber },\n    ],\n});\nconst validateFixedWindowOptions = createValidator({\n    rule: \"fixedWindow\",\n    validations: [\n        { key: \"mode\", required: false, validate: validateMode },\n        {\n            key: \"characteristics\",\n            validate: validateStringArray,\n            required: false,\n        },\n        { key: \"max\", required: true, validate: validateNumber },\n        { key: \"window\", required: true, validate: validateStringOrNumber },\n    ],\n});\nconst validateSlidingWindowOptions = createValidator({\n    rule: \"slidingWindow\",\n    validations: [\n        { key: \"mode\", required: false, validate: validateMode },\n        {\n            key: \"characteristics\",\n            validate: validateStringArray,\n            required: false,\n        },\n        { key: \"max\", required: true, validate: validateNumber },\n        { key: \"interval\", required: true, validate: validateStringOrNumber },\n    ],\n});\nconst validateSensitiveInfoOptions = createValidator({\n    rule: \"sensitiveInfo\",\n    validations: [\n        { key: \"mode\", required: false, validate: validateMode },\n        { key: \"allow\", required: false, validate: validateStringArray },\n        { key: \"deny\", required: false, validate: validateStringArray },\n        { key: \"contextWindowSize\", required: false, validate: validateNumber },\n        { key: \"detect\", required: false, validate: validateFunction },\n    ],\n});\nconst validateEmailOptions = createValidator({\n    rule: \"validateEmail\",\n    validations: [\n        { key: \"mode\", required: false, validate: validateMode },\n        { key: \"allow\", required: false, validate: validateEmailTypes },\n        { key: \"deny\", required: false, validate: validateEmailTypes },\n        {\n            key: \"requireTopLevelDomain\",\n            required: false,\n            validate: validateBoolean,\n        },\n        { key: \"allowDomainLiteral\", required: false, validate: validateBoolean },\n    ],\n});\nconst validateBotOptions = createValidator({\n    rule: \"detectBot\",\n    validations: [\n        { key: \"mode\", required: false, validate: validateMode },\n        { key: \"allow\", required: false, validate: validateStringArray },\n        { key: \"deny\", required: false, validate: validateStringArray },\n    ],\n});\nconst validateShieldOptions = createValidator({\n    rule: \"shield\",\n    validations: [{ key: \"mode\", required: false, validate: validateMode }],\n});\n/**\n * Validate filter options.\n */\nconst validateFilterOptions = createValidator({\n    rule: \"filter\",\n    validations: [\n        { key: \"allow\", required: false, validate: validateStringArray },\n        { key: \"deny\", required: false, validate: validateStringArray },\n        { key: \"mode\", required: false, validate: validateMode },\n    ],\n});\nconst Priority = {\n    SensitiveInfo: 1,\n    Filter: 2,\n    Shield: 3,\n    RateLimit: 4,\n    BotDetection: 5,\n    EmailValidation: 6,\n};\nfunction isRateLimitRule(rule) {\n    return rule.type === \"RATE_LIMIT\";\n}\n/**\n * Arcjet token bucket rate limiting rule.\n *\n * Applying this rule sets a token bucket rate limit.\n *\n * This algorithm is based on a bucket filled with a specific number of tokens.\n * Each request withdraws some amount of tokens from the bucket and the bucket\n * is refilled at a fixed rate.\n * Once the bucket is empty, the client is blocked until the bucket refills.\n *\n * This algorithm is useful when you want to allow clients to make a burst of\n * requests and then still be able to make requests at a slower rate.\n *\n * @template Characteristics\n *   Characteristics to track a user by.\n * @param options\n *   Configuration for the token bucket rate limiting rule (required).\n * @returns\n *   Token bucket rule to provide to the SDK in the `rules` field.\n *\n * @example\n *   ```ts\n *   tokenBucket({\n *     mode: \"LIVE\",\n *     refillRate: 10,\n *     interval: \"60s\",\n *     capacity: 100,\n *   });\n *   ```\n * @example\n *   ```ts\n *   const aj = arcjet({\n *     key: process.env.ARCJET_KEY,\n *     rules: [\n *       tokenBucket({\n *         mode: \"LIVE\",\n *         refillRate: 10,\n *         interval: \"60s\",\n *         capacity: 100,\n *       }),\n *     ],\n *   });\n *   ```\n *\n * @link https://docs.arcjet.com/rate-limiting\n * @link https://docs.arcjet.com/rate-limiting/algorithms#token-bucket\n * @link https://docs.arcjet.com/rate-limiting/reference\n */\nfunction tokenBucket(options) {\n    validateTokenBucketOptions(options);\n    const type = \"RATE_LIMIT\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const characteristics = Array.isArray(options.characteristics)\n        ? options.characteristics\n        : undefined;\n    const refillRate = options.refillRate;\n    const interval = duration.parse(options.interval);\n    const capacity = options.capacity;\n    const rule = {\n        type,\n        version,\n        priority: Priority.RateLimit,\n        mode,\n        characteristics,\n        algorithm: \"TOKEN_BUCKET\",\n        refillRate,\n        interval,\n        capacity,\n        validate() { },\n        async protect(context, details) {\n            const localCharacteristics = characteristics ?? context.characteristics;\n            const ruleId = await hasher.hash(hasher.string(\"type\", type), hasher.uint32(\"version\", version), hasher.string(\"mode\", mode), hasher.string(\"algorithm\", \"TOKEN_BUCKET\"), hasher.stringSliceOrdered(\"characteristics\", localCharacteristics), \n            // Match is deprecated so it is always an empty string in the newest SDKs\n            hasher.string(\"match\", \"\"), hasher.uint32(\"refillRate\", refillRate), hasher.uint32(\"interval\", interval), hasher.uint32(\"capacity\", capacity));\n            const analyzeContext = {\n                characteristics: localCharacteristics,\n                log: context.log,\n            };\n            const fingerprint = await analyze.generateFingerprint(analyzeContext, toAnalyzeRequest(details));\n            const [cached, ttl] = await context.cache.get(ruleId, fingerprint);\n            if (cached && cached.reason.isRateLimit()) {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl,\n                    state: \"CACHED\",\n                    conclusion: cached.conclusion,\n                    // We rebuild the `ArcjetRateLimitReason` because we need to adjust\n                    // the `reset` based on the current time-to-live\n                    reason: new ArcjetRateLimitReason({\n                        max: cached.reason.max,\n                        remaining: cached.reason.remaining,\n                        reset: ttl,\n                        window: cached.reason.window,\n                        resetTime: cached.reason.resetTime,\n                    }),\n                });\n            }\n            return new ArcjetRuleResult({\n                ruleId,\n                fingerprint,\n                ttl: 0,\n                state: \"NOT_RUN\",\n                conclusion: \"ALLOW\",\n                reason: new ArcjetRateLimitReason({\n                    max: 0,\n                    remaining: 0,\n                    reset: 0,\n                    window: 0,\n                    resetTime: new Date(),\n                }),\n            });\n        },\n    };\n    return [rule];\n}\n/**\n * Arcjet fixed window rate limiting rule.\n *\n * Applying this rule sets a fixed window rate limit which tracks the number of\n * requests made by a client over a fixed time window.\n *\n * This is the simplest algorithm.\n * It tracks the number of requests made by a client over a fixed time window\n * such as 60 seconds.\n * If the client exceeds the limit, they are blocked until the window expires.\n *\n * This algorithm is useful when you want to apply a simple fixed limit in a\n * fixed time window.\n * For example, a simple limit on the total number of requests a client can make.\n * However, it can be susceptible to the stampede problem where a client makes\n * a burst of requests at the start of a window and then is blocked for the rest\n * of the window.\n * The sliding window algorithm can be used to avoid this.\n *\n * @template Characteristics\n *   Characteristics to track a user by.\n * @param options\n *   Configuration for the fixed window rate limiting rule (required).\n * @returns\n *   Fixed window rule to provide to the SDK in the `rules` field.\n *\n * @example\n *   ```ts\n *   fixedWindow({ mode: \"LIVE\", window: \"60s\", max: 100 });\n *   ```\n * @example\n *   ```ts\n *   const aj = arcjet({\n *      key: process.env.ARCJET_KEY,\n *     rules: [\n *       fixedWindow({\n *         mode: \"LIVE\",\n *         window: \"60s\",\n *         max: 100,\n *       })\n *     ],\n *   });\n *   ```\n *\n * @link https://docs.arcjet.com/rate-limiting\n * @link https://docs.arcjet.com/rate-limiting/algorithms#fixed-window\n * @link https://docs.arcjet.com/rate-limiting/reference\n */\nfunction fixedWindow(options) {\n    validateFixedWindowOptions(options);\n    const type = \"RATE_LIMIT\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const characteristics = Array.isArray(options.characteristics)\n        ? options.characteristics\n        : undefined;\n    const max = options.max;\n    const window = duration.parse(options.window);\n    const rule = {\n        type,\n        version,\n        priority: Priority.RateLimit,\n        mode,\n        characteristics,\n        algorithm: \"FIXED_WINDOW\",\n        max,\n        window,\n        validate() { },\n        async protect(context, details) {\n            const localCharacteristics = characteristics ?? context.characteristics;\n            const ruleId = await hasher.hash(hasher.string(\"type\", type), hasher.uint32(\"version\", version), hasher.string(\"mode\", mode), hasher.string(\"algorithm\", \"FIXED_WINDOW\"), hasher.stringSliceOrdered(\"characteristics\", localCharacteristics), \n            // Match is deprecated so it is always an empty string in the newest SDKs\n            hasher.string(\"match\", \"\"), hasher.uint32(\"max\", max), hasher.uint32(\"window\", window));\n            const analyzeContext = {\n                characteristics: localCharacteristics,\n                log: context.log,\n            };\n            const fingerprint = await analyze.generateFingerprint(analyzeContext, toAnalyzeRequest(details));\n            const [cached, ttl] = await context.cache.get(ruleId, fingerprint);\n            if (cached && cached.reason.isRateLimit()) {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl,\n                    state: \"CACHED\",\n                    conclusion: cached.conclusion,\n                    // We rebuild the `ArcjetRateLimitReason` because we need to adjust\n                    // the `reset` based on the current time-to-live\n                    reason: new ArcjetRateLimitReason({\n                        max: cached.reason.max,\n                        remaining: cached.reason.remaining,\n                        reset: ttl,\n                        window: cached.reason.window,\n                        resetTime: cached.reason.resetTime,\n                    }),\n                });\n            }\n            return new ArcjetRuleResult({\n                ruleId,\n                fingerprint,\n                ttl: 0,\n                state: \"NOT_RUN\",\n                conclusion: \"ALLOW\",\n                reason: new ArcjetRateLimitReason({\n                    max: 0,\n                    remaining: 0,\n                    reset: 0,\n                    window: 0,\n                }),\n            });\n        },\n    };\n    return [rule];\n}\n/**\n * Arcjet sliding window rate limiting rule.\n *\n * Applying this rule sets a sliding window rate limit which tracks the number\n * of requests made by a client over a sliding window so that the window moves\n * with time.\n *\n * This algorithm is useful to avoid the stampede problem of the fixed window.\n * It provides smoother rate limiting over time and can prevent a client from\n * making a burst of requests at the start of a window and then being blocked\n * for the rest of the window.\n *\n * @template Characteristics\n *   Characteristics to track a user by.\n * @param options\n *   Configuration for the sliding window rate limiting rule (required).\n * @returns\n *   Token bucket rule to provide to the SDK in the `rules` field.\n *\n * @example\n *   ```ts\n *   slidingWindow({ mode: \"LIVE\", interval: \"60s\", max: 100 });\n *   ```\n * @example\n *   ```ts\n *   const aj = arcjet({\n *     key: process.env.ARCJET_KEY,\n *     rules: [\n *       slidingWindow({\n *         mode: \"LIVE\",\n *         interval: \"60s\",\n *         max: 100,\n *       })\n *     ],\n *   });\n *   ```\n *\n * @link https://docs.arcjet.com/rate-limiting\n * @link https://docs.arcjet.com/rate-limiting/algorithms#sliding-window\n * @link https://docs.arcjet.com/rate-limiting/reference\n */\nfunction slidingWindow(options) {\n    validateSlidingWindowOptions(options);\n    const type = \"RATE_LIMIT\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const characteristics = Array.isArray(options.characteristics)\n        ? options.characteristics\n        : undefined;\n    const max = options.max;\n    const interval = duration.parse(options.interval);\n    const rule = {\n        type,\n        version,\n        priority: Priority.RateLimit,\n        mode,\n        characteristics,\n        algorithm: \"SLIDING_WINDOW\",\n        max,\n        interval,\n        validate() { },\n        async protect(context, details) {\n            const localCharacteristics = characteristics ?? context.characteristics;\n            const ruleId = await hasher.hash(hasher.string(\"type\", type), hasher.uint32(\"version\", version), hasher.string(\"mode\", mode), hasher.string(\"algorithm\", \"SLIDING_WINDOW\"), hasher.stringSliceOrdered(\"characteristics\", localCharacteristics), \n            // Match is deprecated so it is always an empty string in the newest SDKs\n            hasher.string(\"match\", \"\"), hasher.uint32(\"max\", max), hasher.uint32(\"interval\", interval));\n            const analyzeContext = {\n                characteristics: localCharacteristics,\n                log: context.log,\n            };\n            const fingerprint = await analyze.generateFingerprint(analyzeContext, toAnalyzeRequest(details));\n            const [cached, ttl] = await context.cache.get(ruleId, fingerprint);\n            if (cached && cached.reason.isRateLimit()) {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl,\n                    state: \"CACHED\",\n                    conclusion: cached.conclusion,\n                    // We rebuild the `ArcjetRateLimitReason` because we need to adjust\n                    // the `reset` based on the current time-to-live\n                    reason: new ArcjetRateLimitReason({\n                        max: cached.reason.max,\n                        remaining: cached.reason.remaining,\n                        reset: ttl,\n                        window: cached.reason.window,\n                        resetTime: cached.reason.resetTime,\n                    }),\n                });\n            }\n            return new ArcjetRuleResult({\n                ruleId,\n                fingerprint,\n                ttl: 0,\n                state: \"NOT_RUN\",\n                conclusion: \"ALLOW\",\n                reason: new ArcjetRateLimitReason({\n                    max: 0,\n                    remaining: 0,\n                    reset: 0,\n                    window: 0,\n                }),\n            });\n        },\n    };\n    return [rule];\n}\nfunction protocolSensitiveInfoEntitiesToAnalyze(entity) {\n    if (typeof entity !== \"string\") {\n        throw new Error(\"invalid entity type\");\n    }\n    if (entity === \"EMAIL\") {\n        return { tag: \"email\" };\n    }\n    if (entity === \"PHONE_NUMBER\") {\n        return { tag: \"phone-number\" };\n    }\n    if (entity === \"IP_ADDRESS\") {\n        return { tag: \"ip-address\" };\n    }\n    if (entity === \"CREDIT_CARD_NUMBER\") {\n        return { tag: \"credit-card-number\" };\n    }\n    return {\n        tag: \"custom\",\n        val: entity,\n    };\n}\nfunction analyzeSensitiveInfoEntitiesToString(entity) {\n    if (entity.tag === \"email\") {\n        return \"EMAIL\";\n    }\n    if (entity.tag === \"ip-address\") {\n        return \"IP_ADDRESS\";\n    }\n    if (entity.tag === \"credit-card-number\") {\n        return \"CREDIT_CARD_NUMBER\";\n    }\n    if (entity.tag === \"phone-number\") {\n        return \"PHONE_NUMBER\";\n    }\n    return entity.val;\n}\nfunction convertAnalyzeDetectedSensitiveInfoEntity(detectedEntities) {\n    return detectedEntities.map((detectedEntity) => {\n        return {\n            ...detectedEntity,\n            identifiedType: analyzeSensitiveInfoEntitiesToString(detectedEntity.identifiedType),\n        };\n    });\n}\n/**\n * Arcjet sensitive information detection rule.\n *\n * Applying this rule protects against clients sending you sensitive information\n * such as personally identifiable information (PII) that you do not wish to\n * handle.\n * The rule runs entirely locally so no data ever leaves your environment.\n *\n * This rule includes built-in detections for email addresses, credit/debit card\n * numbers, IP addresses, and phone numbers.\n * You can also provide a custom detection function to identify additional\n * sensitive information.\n *\n * @template DetectedEntities\n *   Custom entity names that are returned from `detect` and optionally listed\n *   in `allow` or `deny`.\n * @template ListedEntities\n *   Entity names that can be listed in the `allow` or `deny` field.\n * @param options\n *   Configuration for the sensitive information detection rule (required).\n * @returns\n *   Sensitive information rule to provide to the SDK in the `rules` field.\n *\n * @example\n *   ```ts\n *   sensitiveInfo({ mode: \"LIVE\", deny: [\"EMAIL\"] });\n *   ```\n * @example\n *   ```ts\n *   const aj = arcjet({\n *     key: process.env.ARCJET_KEY,\n *     rules: [\n *       sensitiveInfo({\n *         mode: \"LIVE\",\n *         deny: [\"EMAIL\"],\n *       })\n *     ],\n *   });\n *   ```\n * @example\n *   Custom detection function:\n *\n *   ```ts\n *   function detectDash(tokens: string[]): Array<\"CONTAINS_DASH\" | undefined> {\n *     return tokens.map((token) => {\n *       if (token.includes(\"-\")) {\n *         return \"CONTAINS_DASH\";\n *       }\n *     });\n *   }\n *\n *   const aj = arcjet({\n *     key: process.env.ARCJET_KEY,\n *     rules: [\n *       sensitiveInfo({\n *         mode: \"LIVE\",\n *         deny: [\"EMAIL\", \"CONTAINS_DASH\"],\n *         detect: detectDash,\n *         contextWindowSize: 2,\n *       })\n *     ],\n *   });\n *   ```\n *\n * @link https://docs.arcjet.com/sensitive-info\n * @link https://docs.arcjet.com/sensitive-info/reference\n */\nfunction sensitiveInfo(options) {\n    validateSensitiveInfoOptions(options);\n    if (typeof options.allow !== \"undefined\" &&\n        typeof options.deny !== \"undefined\") {\n        throw new Error(\"`sensitiveInfo` options error: `allow` and `deny` cannot be provided together\");\n    }\n    if (typeof options.allow === \"undefined\" &&\n        typeof options.deny === \"undefined\") {\n        throw new Error(\"`sensitiveInfo` options error: either `allow` or `deny` must be specified\");\n    }\n    const type = \"SENSITIVE_INFO\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const allow = options.allow || [];\n    const deny = options.deny || [];\n    const rule = {\n        version,\n        priority: Priority.SensitiveInfo,\n        type,\n        mode,\n        allow,\n        deny,\n        validate(context, details) { },\n        async protect(context, details) {\n            const ruleId = await hasher.hash(hasher.string(\"type\", type), hasher.uint32(\"version\", version), hasher.string(\"mode\", mode), hasher.stringSliceOrdered(\"allow\", allow), hasher.stringSliceOrdered(\"deny\", deny));\n            const { fingerprint } = context;\n            // No cache is implemented here because the fingerprint can be the same\n            // while the request body changes. This is also why the `sensitiveInfo`\n            // rule results always have a `ttl` of 0.\n            let body;\n            try {\n                body = await context.getBody();\n            }\n            catch (error) {\n                context.log.error(\"failed to get request body: %s\", errorMessage(error));\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl: 0,\n                    state: \"NOT_RUN\",\n                    conclusion: \"ERROR\",\n                    reason: new ArcjetErrorReason(\"Cannot read body for sensitive info detection: \" +\n                        errorMessage(error)),\n                });\n            }\n            let convertedDetect = undefined;\n            if (typeof options.detect !== \"undefined\") {\n                const detect = options.detect;\n                convertedDetect = (tokens) => {\n                    return detect(tokens)\n                        .filter((e) => typeof e !== \"undefined\")\n                        .map(protocolSensitiveInfoEntitiesToAnalyze);\n                };\n            }\n            let entitiesTag = \"allow\";\n            let entitiesVal = [];\n            if (Array.isArray(options.allow)) {\n                entitiesTag = \"allow\";\n                entitiesVal = options.allow\n                    .filter((e) => typeof e !== \"undefined\")\n                    .map(protocolSensitiveInfoEntitiesToAnalyze);\n            }\n            if (Array.isArray(options.deny)) {\n                entitiesTag = \"deny\";\n                entitiesVal = options.deny\n                    .filter((e) => typeof e !== \"undefined\")\n                    .map(protocolSensitiveInfoEntitiesToAnalyze);\n            }\n            const entities = {\n                tag: entitiesTag,\n                val: entitiesVal,\n            };\n            const result = await analyze.detectSensitiveInfo(context, body, entities, options.contextWindowSize || 1, convertedDetect);\n            const state = mode === \"LIVE\" ? \"RUN\" : \"DRY_RUN\";\n            const reason = new ArcjetSensitiveInfoReason({\n                denied: convertAnalyzeDetectedSensitiveInfoEntity(result.denied),\n                allowed: convertAnalyzeDetectedSensitiveInfoEntity(result.allowed),\n            });\n            if (result.denied.length === 0) {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl: 0,\n                    state,\n                    conclusion: \"ALLOW\",\n                    reason,\n                });\n            }\n            else {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl: 0,\n                    state,\n                    conclusion: \"DENY\",\n                    reason,\n                });\n            }\n        },\n    };\n    return [rule];\n}\n/**\n * Arcjet email validation rule.\n *\n * Applying this rule allows you to validate and verify an email address.\n *\n * The first step of the analysis is to validate the email address syntax.\n * This runs locally within the SDK and validates the email address is in the\n * correct format.\n * If the email syntax is valid, the SDK will pass the email address to the\n * Arcjet cloud API to verify the email address.\n * This performs several checks, depending on the rule configuration.\n *\n * @param options\n *   Configuration for the email validation rule (required).\n * @returns\n *   Email rule to provide to the SDK in the `rules` field.\n *\n * @example\n *   ```ts\n *   validateEmail({ mode: \"LIVE\", deny: [\"DISPOSABLE\", \"INVALID\"] });\n *   ```\n * @example\n *   ```ts\n *   const aj = arcjet({\n *     key: process.env.ARCJET_KEY,\n *     rules: [\n *       validateEmail({\n *         mode: \"LIVE\",\n *         deny: [\"DISPOSABLE\", \"INVALID\"]\n *       })\n *     ],\n *   });\n *   ```\n *\n * @link https://docs.arcjet.com/email-validation\n * @link https://docs.arcjet.com/email-validation/reference\n */\nfunction validateEmail(options) {\n    validateEmailOptions(options);\n    if (typeof options.allow !== \"undefined\" &&\n        typeof options.deny !== \"undefined\") {\n        throw new Error(\"`validateEmail` options error: `allow` and `deny` cannot be provided together\");\n    }\n    if (typeof options.allow === \"undefined\" &&\n        typeof options.deny === \"undefined\") {\n        throw new Error(\"`validateEmail` options error: either `allow` or `deny` must be specified\");\n    }\n    const type = \"EMAIL\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const allow = options.allow ?? [];\n    const deny = options.deny ?? [];\n    const requireTopLevelDomain = options.requireTopLevelDomain ?? true;\n    const allowDomainLiteral = options.allowDomainLiteral ?? false;\n    let config = {\n        tag: \"deny-email-validation-config\",\n        val: {\n            requireTopLevelDomain,\n            allowDomainLiteral,\n            deny: [],\n        },\n    };\n    if (typeof options.allow !== \"undefined\") {\n        config = {\n            tag: \"allow-email-validation-config\",\n            val: {\n                requireTopLevelDomain,\n                allowDomainLiteral,\n                allow: options.allow,\n            },\n        };\n    }\n    if (typeof options.deny !== \"undefined\") {\n        config = {\n            tag: \"deny-email-validation-config\",\n            val: {\n                requireTopLevelDomain,\n                allowDomainLiteral,\n                deny: options.deny,\n            },\n        };\n    }\n    const rule = {\n        version,\n        priority: Priority.EmailValidation,\n        type,\n        mode,\n        allow,\n        deny,\n        requireTopLevelDomain,\n        allowDomainLiteral,\n        validate(context, details) {\n            assert(typeof details.email !== \"undefined\", \"ValidateEmail requires `email` to be set.\");\n        },\n        async protect(context, { email }) {\n            const ruleId = await hasher.hash(hasher.string(\"type\", type), hasher.uint32(\"version\", version), hasher.string(\"mode\", mode), hasher.stringSliceOrdered(\"allow\", allow), hasher.stringSliceOrdered(\"deny\", deny), hasher.bool(\"requireTopLevelDomain\", requireTopLevelDomain), hasher.bool(\"allowDomainLiteral\", allowDomainLiteral));\n            const { fingerprint } = context;\n            // No cache is implemented here because the fingerprint can be the same\n            // while the email changes. This is also why the `email` rule results\n            // always have a `ttl` of 0.\n            const result = await analyze.isValidEmail(context, email, config);\n            const state = mode === \"LIVE\" ? \"RUN\" : \"DRY_RUN\";\n            if (result.validity === \"valid\") {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl: 0,\n                    state,\n                    conclusion: \"ALLOW\",\n                    reason: new ArcjetEmailReason({ emailTypes: [] }),\n                });\n            }\n            else {\n                const typedEmailTypes = result.blocked.filter(isEmailType);\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl: 0,\n                    state,\n                    conclusion: \"DENY\",\n                    reason: new ArcjetEmailReason({\n                        emailTypes: typedEmailTypes,\n                    }),\n                });\n            }\n        },\n    };\n    return [rule];\n}\n/**\n * Arcjet bot detection rule.\n *\n * Applying this rule allows you to manage traffic by automated clients and\n * bots.\n *\n * Bots can be good (such as search engine crawlers or monitoring agents) or bad\n * (such as scrapers or automated scripts).\n * Arcjet allows you to configure which bots you want to allow or deny by\n * specific bot names such as curl, as well as by category such as search\n * engine bots.\n *\n * Bots are detected based on various signals such as the user agent, IP\n * address, DNS records, and more.\n *\n * @param options\n *   Configuration for the bot rule (required).\n * @returns\n *   Bot rule to provide to the SDK in the `rules` field.\n *\n * @example\n *   Allow search engine bots and curl, deny all other bots:\n *\n *   ```ts\n *   detectBot({ mode: \"LIVE\", allow: [\"CATEGORY:SEARCH_ENGINE\", \"CURL\"] });\n *   ```\n * @example\n *   Allow search engine bots and curl, deny all other bots:\n *\n *   ```ts\n *   const aj = arcjet({\n *     key: process.env.ARCJET_KEY,\n *     rules: [\n *       detectBot({\n *         mode: \"LIVE\",\n *         allow: [\"CATEGORY:SEARCH_ENGINE\", \"CURL\"]\n *       })\n *     ],\n *   });\n *   ```\n * @example\n *   Deny AI crawlers, allow all other bots:\n *\n *   ```ts\n *   detectBot({ mode: \"LIVE\", deny: [\"CATEGORY:AI\"] });\n *   ```\n * @example\n *   Deny AI crawlers, allows all other bots:\n *\n *   ```ts\n *   const aj = arcjet({\n *     key: process.env.ARCJET_KEY,\n *     rules: [\n *       detectBot({\n *         mode: \"LIVE\",\n *         deny: [\"CATEGORY:AI\"]\n *       })\n *     ],\n *   });\n *   ```\n *\n * @link https://docs.arcjet.com/bot-protection\n * @link https://docs.arcjet.com/bot-protection/identifying-bots\n * @link https://docs.arcjet.com/bot-protection/reference\n */\nfunction detectBot(options) {\n    validateBotOptions(options);\n    if (typeof options.allow !== \"undefined\" &&\n        typeof options.deny !== \"undefined\") {\n        throw new Error(\"`detectBot` options error: `allow` and `deny` cannot be provided together\");\n    }\n    if (typeof options.allow === \"undefined\" &&\n        typeof options.deny === \"undefined\") {\n        throw new Error(\"`detectBot` options error: either `allow` or `deny` must be specified\");\n    }\n    const type = \"BOT\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const allow = options.allow ?? [];\n    const deny = options.deny ?? [];\n    let config = {\n        tag: \"allowed-bot-config\",\n        val: {\n            entities: [],\n            skipCustomDetect: true,\n        },\n    };\n    if (typeof options.allow !== \"undefined\") {\n        config = {\n            tag: \"allowed-bot-config\",\n            val: {\n                entities: options.allow,\n                skipCustomDetect: true,\n            },\n        };\n    }\n    if (typeof options.deny !== \"undefined\") {\n        config = {\n            tag: \"denied-bot-config\",\n            val: {\n                entities: options.deny,\n                skipCustomDetect: true,\n            },\n        };\n    }\n    const rule = {\n        version,\n        priority: Priority.BotDetection,\n        type,\n        mode,\n        allow,\n        deny,\n        validate(context, details) {\n            if (typeof details.headers === \"undefined\") {\n                throw new Error(\"bot detection requires `headers` to be set\");\n            }\n            if (typeof details.headers.has !== \"function\") {\n                throw new Error(\"bot detection requires `headers` to extend `Headers`\");\n            }\n            if (!details.headers.has(\"user-agent\")) {\n                throw new Error(\"bot detection requires user-agent header\");\n            }\n        },\n        /**\n         * Attempts to call the bot detection on the headers.\n         */\n        async protect(context, request) {\n            const ruleId = await hasher.hash(hasher.string(\"type\", type), hasher.uint32(\"version\", version), hasher.string(\"mode\", mode), hasher.stringSliceOrdered(\"allow\", allow), hasher.stringSliceOrdered(\"deny\", deny));\n            const { fingerprint } = context;\n            const [cached, ttl] = await context.cache.get(ruleId, fingerprint);\n            if (cached) {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl,\n                    state: \"CACHED\",\n                    conclusion: cached.conclusion,\n                    reason: cached.reason,\n                });\n            }\n            const result = await analyze.detectBot(context, toAnalyzeRequest(request), config);\n            const state = mode === \"LIVE\" ? \"RUN\" : \"DRY_RUN\";\n            // If this is a bot and of a type that we want to block, then block!\n            if (result.denied.length > 0) {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl: 60,\n                    state,\n                    conclusion: \"DENY\",\n                    reason: new ArcjetBotReason({\n                        allowed: result.allowed,\n                        denied: result.denied,\n                        verified: result.verified,\n                        spoofed: result.spoofed,\n                    }),\n                });\n            }\n            else {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl: 0,\n                    state,\n                    conclusion: \"ALLOW\",\n                    reason: new ArcjetBotReason({\n                        allowed: result.allowed,\n                        denied: result.denied,\n                        verified: result.verified,\n                        spoofed: result.spoofed,\n                    }),\n                });\n            }\n        },\n    };\n    return [rule];\n}\n/**\n * Arcjet Shield WAF rule.\n *\n * Applying this rule protects your application against common attacks,\n * including the OWASP Top 10.\n *\n * The Arcjet Shield WAF analyzes every request to your application to detect\n * suspicious activity.\n * Once a certain suspicion threshold is reached,\n * subsequent requests from that client are blocked for a period of time.\n *\n * @param options\n *   Configuration for the Shield rule.\n * @returns\n *   Shield rule to provide to the SDK in the `rules` field.\n *\n * @example\n *   ```ts\n *   shield({ mode: \"LIVE\" });\n *   ```\n * @example\n *   ```ts\n *   const aj = arcjet({\n *     key: process.env.ARCJET_KEY,\n *     rules: [shield({ mode: \"LIVE\" })],\n *   });\n *   ```\n *\n * @link https://docs.arcjet.com/shield\n * @link https://docs.arcjet.com/shield/reference\n */\nfunction shield(options) {\n    validateShieldOptions(options);\n    const type = \"SHIELD\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const rule = {\n        type,\n        version,\n        priority: Priority.Shield,\n        mode,\n        validate() { },\n        async protect(context, details) {\n            // TODO(#1989): Prefer characteristics defined on rule once available\n            const localCharacteristics = context.characteristics;\n            const ruleId = await hasher.hash(hasher.string(\"type\", type), hasher.uint32(\"version\", version), hasher.string(\"mode\", mode), hasher.stringSliceOrdered(\"characteristics\", localCharacteristics));\n            const analyzeContext = {\n                characteristics: localCharacteristics,\n                log: context.log,\n            };\n            const fingerprint = await analyze.generateFingerprint(analyzeContext, toAnalyzeRequest(details));\n            const [cached, ttl] = await context.cache.get(ruleId, fingerprint);\n            if (cached) {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    fingerprint,\n                    ttl,\n                    state: \"CACHED\",\n                    conclusion: cached.conclusion,\n                    reason: cached.reason,\n                });\n            }\n            return new ArcjetRuleResult({\n                ruleId,\n                fingerprint,\n                ttl: 0,\n                state: \"NOT_RUN\",\n                conclusion: \"ALLOW\",\n                reason: new ArcjetShieldReason({\n                    shieldTriggered: false,\n                }),\n            });\n        },\n    };\n    return [rule];\n}\n/**\n * Arcjet signup form protection rule.\n *\n * Applying this rule combines rate limiting, bot protection, and email\n * validation to protect your signup forms from abuse.\n * Using this rule will configure the following:\n *\n * - Rate limiting - signup forms are a common target for bots. Arcjets rate\n *   limiting helps to prevent bots and other automated or malicious clients\n *   from submitting your signup form too many times in a short period of time.\n * - Bot protection - signup forms are usually exclusively used by humans, which\n *   means that any automated submissions to the form are likely to be\n *   fraudulent.\n * - Email validation - email addresses should be validated to ensure the signup\n *   is coming from a legitimate user with a real email address that can\n *   actually receive messages.\n *\n * @template Characteristics\n *   Characteristics to track a user by.\n * @param options\n *   Configuration for the signup form protection rule.\n * @returns\n *   Signup form protection rule to provide to the SDK in the `rules` field.\n *\n * @example\n *   Our recommended configuration for most signup forms is:\n *\n *   - Block email addresses with invalid syntax, that are from disposable email providers,\n *     or do not have valid MX records configured.\n *   - Block all bots.\n *   - Apply a rate limit of 5 submissions per 10 minutes from a single IP\n *     address.\n *\n *   ```ts\n *   const aj = arcjet({\n *     key: process.env.ARCJET_KEY,\n *     rules: [\n *      protectSignup({\n *        email: {\n *          mode: \"LIVE\",\n *          deny: [\"DISPOSABLE\", \"INVALID\", \"NO_MX_RECORDS\"],\n *        },\n *        bots: {\n *          mode: \"LIVE\",\n *          allow: [], // block all detected bots\n *        },\n *        rateLimit: {\n *          mode: \"LIVE\",\n *          interval: \"10m\",\n *          max: 5,\n *        },\n *      }),\n *    ],\n *   });\n *   ```\n *\n * @link https://docs.arcjet.com/signup-protection\n * @link https://docs.arcjet.com/signup-protection/reference\n */\nfunction protectSignup(options) {\n    return [\n        ...slidingWindow(options.rateLimit),\n        ...detectBot(options.bots),\n        ...validateEmail(options.email),\n    ];\n}\n/**\n * Arcjet filter rule.\n *\n * Applying this rule lets you block requests using Wireshark-like display\n * filter expressions over HTTP headers, IP addresses, and other request\n * fields.\n * You can quickly enforce rules like allow/deny by country, network, or\n * `user-agent` pattern.\n *\n * See the [reference guide](https://docs.arcjet.com/filters/reference) for\n * more info on the expression language fields, functions, and values.\n *\n * @param options\n *   Configuration (required).\n * @returns\n *   Filter rule.\n *\n * @example\n *   In this example, the expression matches non-VPN GET requests from the US.\n *   Requests matching the expression are allowed, all others are denied.\n *\n *   ```ts\n *   filter({\n *     allow: [\n *       'http.request.method eq \"GET\" and ip.src.country eq \"US\" and not ip.src.vpn',\n *     ],\n *     mode: \"LIVE\",\n *   })\n *   ```\n *\n * @link https://docs.arcjet.com/filters\n * @link https://docs.arcjet.com/filters/reference\n */\nfunction filter(options) {\n    validateFilterOptions(options);\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const allow = options.allow ?? [];\n    const deny = options.deny ?? [];\n    if (allow.length > 0 && deny.length > 0) {\n        throw new Error(\"`filter` options error: expressions must be passed in either `allow` or `deny` instead of both\");\n    }\n    if (allow.length === 0 && deny.length === 0) {\n        throw new Error(\"`filter` options error: one or more expressions must be passed in `allow` or `deny`\");\n    }\n    const state = mode === \"LIVE\" ? \"RUN\" : \"DRY_RUN\";\n    const type = \"FILTER\";\n    const version = 0;\n    const ruleIdPromise = hasher.hash(hasher.string(\"type\", type), hasher.uint32(\"version\", version), hasher.string(\"mode\", mode), hasher.stringSliceOrdered(\"allow\", \n    // @ts-expect-error: `hasher` must support readonly values.\n    allow), hasher.stringSliceOrdered(\"deny\", \n    // @ts-expect-error: `hasher` must support readonly values.\n    deny));\n    const rule = {\n        allow,\n        deny,\n        mode,\n        priority: Priority.Filter,\n        async protect(context, request) {\n            const ruleId = await ruleIdPromise;\n            const [cached, ttl] = await context.cache.get(ruleId, context.fingerprint);\n            if (cached) {\n                return new ArcjetRuleResult({\n                    conclusion: cached.conclusion,\n                    fingerprint: context.fingerprint,\n                    reason: cached.reason,\n                    ruleId,\n                    state: \"CACHED\",\n                    ttl,\n                });\n            }\n            const request_ = toAnalyzeRequest(request);\n            let ruleResult;\n            try {\n                const result = await analyze.matchFilters(context, request_, allow.length > 0 ? allow : deny, allow.length > 0);\n                ruleResult = new ArcjetRuleResult({\n                    conclusion: result.allowed ? \"ALLOW\" : \"DENY\",\n                    fingerprint: context.fingerprint,\n                    reason: new ArcjetFilterReason(result),\n                    ruleId,\n                    state,\n                    ttl: result.allowed ? 0 : 60,\n                });\n            }\n            catch (error) {\n                ruleResult = new ArcjetRuleResult({\n                    conclusion: \"ERROR\",\n                    fingerprint: context.fingerprint,\n                    reason: new ArcjetErrorReason(error),\n                    ruleId,\n                    state,\n                    ttl: 0,\n                });\n            }\n            return ruleResult;\n        },\n        type,\n        validate() { },\n        version,\n    };\n    return [rule];\n}\n/**\n * Create a new Arcjet instance.\n *\n * @template Rules\n *   List of rules.\n * @template Characteristics\n *   Characteristics to track a user by.\n * @param options\n *   Configuration.\n * @returns\n *   Arcjet instance.\n */\nfunction arcjet(options) {\n    // We destructure here to make the function signature neat when viewed by consumers\n    const { key, rules } = options;\n    const rt = runtime();\n    // TODO: Separate the ArcjetOptions from the SDK Options\n    // It is currently optional in the options so users can override it via an SDK\n    if (typeof options.log === \"undefined\") {\n        throw new Error(\"Log is required\");\n    }\n    const log = options.log;\n    const perf = new Performance(log);\n    // TODO(#207): Remove this when we can default the transport so client is not required\n    // It is currently optional in the options so the Next SDK can override it for the user\n    if (typeof options.client === \"undefined\") {\n        throw new Error(\"Client is required\");\n    }\n    const client = options.client;\n    // A local cache of block decisions. Might be emphemeral per request,\n    // depending on the way the runtime works, but it's worth a try.\n    // TODO(#132): Support configurable caching\n    const cache = new MemoryCache();\n    const rootRules = rules\n        .flat(1)\n        .sort((a, b) => a.priority - b.priority);\n    async function protect(rules, ctx, request) {\n        // This goes against the type definition above, but users might call\n        // `protect()` with no value and we don't want to crash\n        if (typeof request === \"undefined\") {\n            request = {};\n        }\n        const details = Object.freeze({\n            ip: request.ip,\n            method: request.method,\n            protocol: request.protocol,\n            host: request.host,\n            path: request.path,\n            headers: new ArcjetHeaders(request.headers),\n            cookies: request.cookies,\n            query: request.query,\n            extra: extraProps(request),\n            email: typeof request.email === \"string\" ? request.email : undefined,\n        });\n        const characteristics = options.characteristics\n            ? [...options.characteristics]\n            : [];\n        const waitUntil = lookupWaitUntil();\n        const baseContext = {\n            key,\n            log,\n            characteristics,\n            waitUntil,\n            ...ctx,\n        };\n        let fingerprint = \"\";\n        const logFingerprintPerf = perf.measure(\"fingerprint\");\n        try {\n            fingerprint = await analyze.generateFingerprint(baseContext, toAnalyzeRequest(details));\n            log.debug(\"fingerprint (%s): %s\", rt, fingerprint);\n        }\n        catch (error) {\n            log.error({ error: errorMessage(error) }, \"Failed to build fingerprint. Please verify your Characteristics.\");\n            const decision = new ArcjetErrorDecision({\n                ttl: 0,\n                reason: new ArcjetErrorReason(`Failed to build fingerprint - ${errorMessage(error)}`),\n                // No results because we couldn't create a fingerprint\n                results: [],\n            });\n            // TODO: Consider sending this to Report when we have an infallible fingerprint\n            return decision;\n        }\n        finally {\n            logFingerprintPerf();\n        }\n        const context = Object.freeze({\n            ...baseContext,\n            cache,\n            fingerprint,\n            runtime: rt,\n        });\n        if (rules.length < 1) {\n            log.warn(\"Calling `protect()` with no rules is deprecated. Did you mean to configure the Shield rule?\");\n        }\n        if (rules.length > 10) {\n            log.error(\"Failure running rules. Only 10 rules may be specified.\");\n            const decision = new ArcjetErrorDecision({\n                ttl: 0,\n                reason: new ArcjetErrorReason(\"Only 10 rules may be specified\"),\n                // No results because the sorted rules were too long and we don't want\n                // to instantiate a ton of NOT_RUN results\n                results: [],\n            });\n            client.report(context, details, decision, \n            // No rules because we've determined they were too long and we don't\n            // want to try to send them to the server\n            []);\n            return decision;\n        }\n        const results = [];\n        for (let idx = 0; idx < rules.length; idx++) {\n            // Default all rules to NOT_RUN/ALLOW before doing anything\n            results[idx] = new ArcjetRuleResult({\n                // TODO(#4030): Figure out if we can get each Rule ID before they are run\n                ruleId: \"\",\n                fingerprint,\n                ttl: 0,\n                state: \"NOT_RUN\",\n                conclusion: \"ALLOW\",\n                reason: new ArcjetReason(),\n            });\n            // Add top-level characteristics to all Rate Limit rules that don't already have\n            // their own set of characteristics.\n            const candidate_rule = rules[idx];\n            if (isRateLimitRule(candidate_rule)) {\n                if (typeof candidate_rule.characteristics === \"undefined\") {\n                    candidate_rule.characteristics = characteristics;\n                    rules[idx] = candidate_rule;\n                }\n            }\n        }\n        const logLocalPerf = perf.measure(\"local\");\n        try {\n            for (const [idx, rule] of rules.entries()) {\n                // This re-assignment is a workaround to a TypeScript error with\n                // assertions where the name was introduced via a destructure\n                const localRule = rule;\n                const logRulePerf = perf.measure(rule.type);\n                try {\n                    if (typeof localRule.validate !== \"function\") {\n                        throw new Error(\"rule must have a `validate` function\");\n                    }\n                    localRule.validate(context, details);\n                    if (typeof localRule.protect !== \"function\") {\n                        throw new Error(\"rule must have a `protect` function\");\n                    }\n                    results[idx] = await localRule.protect(context, details);\n                    // If a rule didn't return a rule result, we need to stub it to avoid\n                    // crashing. This should only happen if a user writes a custom local\n                    // rule incorrectly.\n                    if (typeof results[idx] === \"undefined\") {\n                        results[idx] = new ArcjetRuleResult({\n                            // TODO(#4030): If we can get the Rule ID before running rules,\n                            // this can use it\n                            ruleId: \"\",\n                            fingerprint,\n                            ttl: 0,\n                            state: \"RUN\",\n                            conclusion: \"ERROR\",\n                            reason: new ArcjetErrorReason(\"rule result missing\"),\n                        });\n                    }\n                    log.debug({\n                        id: results[idx].ruleId,\n                        rule: rule.type,\n                        fingerprint,\n                        path: details.path,\n                        runtime: rt,\n                        ttl: results[idx].ttl,\n                        conclusion: results[idx].conclusion,\n                        reason: results[idx].reason,\n                    }, \"Local rule result:\");\n                }\n                catch (err) {\n                    log.error(\"Failure running rule: %s due to %s\", rule.type, errorMessage(err));\n                    results[idx] = new ArcjetRuleResult({\n                        // TODO(#4030): Figure out if we can get a Rule ID in this error case\n                        ruleId: \"\",\n                        fingerprint,\n                        ttl: 0,\n                        state: \"RUN\",\n                        conclusion: \"ERROR\",\n                        reason: new ArcjetErrorReason(err),\n                    });\n                }\n                finally {\n                    logRulePerf();\n                }\n                const result = results[idx];\n                if (result.isDenied()) {\n                    // If the rule is not a DRY_RUN, we want to cache non-zero TTL results\n                    // and return a DENY decision.\n                    if (result.state !== \"DRY_RUN\") {\n                        const decision = new ArcjetDenyDecision({\n                            ttl: result.ttl,\n                            reason: result.reason,\n                            results,\n                        });\n                        // Only a DENY decision is reported to avoid creating 2 entries for\n                        // a request. Upon ALLOW, the `decide` call will create an entry for\n                        // the request.\n                        client.report(context, details, decision, rules);\n                        if (result.ttl > 0) {\n                            log.debug({\n                                fingerprint: result.fingerprint,\n                                conclusion: result.conclusion,\n                                reason: result.reason,\n                            }, \"Caching decision for %d seconds\", decision.ttl);\n                            cache.set(result.ruleId, result.fingerprint, {\n                                conclusion: result.conclusion,\n                                reason: result.reason,\n                            }, result.ttl);\n                        }\n                        return decision;\n                    }\n                    log.warn(`Dry run mode is enabled for \"%s\" rule. Overriding decision. Decision was: DENY`, rule.type);\n                }\n            }\n        }\n        finally {\n            logLocalPerf();\n        }\n        // With no cached values, we take a decision remotely. We use a timeout to\n        // fail open.\n        const logRemotePerf = perf.measure(\"remote\");\n        try {\n            const logDediceApiPerf = perf.measure(\"decideApi\");\n            const decision = await client\n                .decide(context, details, rules)\n                .finally(() => {\n                logDediceApiPerf();\n            });\n            // If the decision is to block and we have a non-zero TTL, we cache the\n            // block locally\n            if (decision.isDenied() && decision.ttl > 0) {\n                log.debug(\"decide: Caching block locally for %d seconds\", decision.ttl);\n                for (const result of decision.results) {\n                    // Cache all DENY results for local cache lookups\n                    if (result.conclusion === \"DENY\") {\n                        cache.set(result.ruleId, result.fingerprint, {\n                            conclusion: result.conclusion,\n                            reason: result.reason,\n                        }, result.ttl);\n                    }\n                }\n            }\n            return decision;\n        }\n        catch (err) {\n            log.info(\"Encountered problem getting remote decision: %s\", errorMessage(err));\n            const decision = new ArcjetErrorDecision({\n                ttl: 0,\n                reason: new ArcjetErrorReason(err),\n                results,\n            });\n            client.report(context, details, decision, rules);\n            return decision;\n        }\n        finally {\n            logRemotePerf();\n        }\n    }\n    // This is a separate function so it can be called recursively\n    function withRule(baseRules, rule) {\n        const rules = [...baseRules, ...rule].sort((a, b) => a.priority - b.priority);\n        return Object.freeze({\n            withRule(rule) {\n                return withRule(rules, rule);\n            },\n            async protect(ctx, request) {\n                return protect(rules, ctx, request);\n            },\n        });\n    }\n    return Object.freeze({\n        /**\n         * Augment the client with another rule.\n         *\n         * Useful for varying rules based on criteria in your handler such as\n         * different rate limit for logged in users.\n         *\n         * @param rule\n         *   Rule to add to Arcjet.\n         * @returns\n         *   Arcjet instance augmented with the given rule.\n         */\n        withRule(rule) {\n            return withRule(rootRules, rule);\n        },\n        /**\n         * Make a decision about how to handle a request.\n         *\n         * This will analyze the request locally where possible and otherwise call\n         * the Arcjet decision API.\n         *\n         * @param ctx\n         *   Additional context for this function call.\n         * @param request\n         *   Details about the {@linkcode ArcjetRequest} that Arcjet needs to make a\n         *   decision.\n         * @returns\n         *   Promise that resolves to an {@linkcode ArcjetDecision} indicating\n         *   Arcjets decision about the request.\n         */\n        async protect(ctx, request) {\n            return protect(rootRules, ctx, request);\n        },\n    });\n}\n\nexport { arcjet as default, detectBot, filter, fixedWindow, protectSignup, sensitiveInfo, shield, slidingWindow, tokenBucket, validateEmail };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4609, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/body/index.js"],"sourcesContent":["/**\n * Read the body of a\n * [web stream](https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream).\n *\n * @param stream\n *   Stream.\n * @param options\n *   Configuration (required).\n * @returns\n *   Promise that resolves to a concatenated body.\n */\nasync function readBodyWeb(stream, options) {\n    const limit = options?.limit ?? 1048576; // 1mb.\n    const length = options?.expectedLength ?? undefined;\n    if (typeof limit !== \"number\" || limit < 0 || Number.isNaN(limit)) {\n        return Promise.reject(new Error(\"Unexpected value `\" +\n            limit +\n            \"` for `options.limit`, expected positive number\"));\n    }\n    if (length !== undefined &&\n        (typeof length !== \"number\" || length < 0 || Number.isNaN(length))) {\n        return Promise.reject(new Error(\"Unexpected value `\" +\n            length +\n            \"` for `options.expectedLength`, expected positive number\"));\n    }\n    // If we already know the length and it exceeds the limit, abort early.\n    if (length !== undefined && length > limit) {\n        return Promise.reject(new Error(\"Cannot read stream whose expected length exceeds limit\"));\n    }\n    const controller = new AbortController();\n    // Ensure that we do not wait forever if the stream is incorrectly configured.\n    const timeout = setTimeout(function () {\n        controller.abort(new Error(\"Cannot read stream, did not receive data in time limit\"));\n    }, 100);\n    const decoder = new TextDecoder(\"utf-8\");\n    let buffer = \"\";\n    let received = 0;\n    let written = false;\n    await stream.pipeTo(new WritableStream({\n        write(chunk) {\n            if (!written) {\n                clearTimeout(timeout);\n                written = true;\n            }\n            received += chunk.byteLength;\n            if (received > limit) {\n                throw new Error(\"Cannot read stream that exceeds limit\");\n            }\n            buffer += decoder.decode(chunk, { stream: true });\n        },\n    }), { signal: controller.signal });\n    if (!written) {\n        throw new Error(\"Cannot read stream, did not receive data\");\n    }\n    if (length !== undefined && received !== length) {\n        throw new Error(\"Cannot read stream whose length does not match expected length\");\n    }\n    // Need to call it one final time to flush any remaining chars.\n    buffer += decoder.decode();\n    return buffer;\n}\n// This `readBody` function is a derivitive of the `getRawBody` function in the `raw-body`\n// npm package with deviations to strip down the implementation to specifically what is needed\n// by Arcjet.\n//\n// These include:\n// - The removal of the sync interface.\n// - The removal of the ability to return the body as a `Buffer`. Instead the body is always\n//   parsed as a utf-8 string.\n// - The removal of certain config options that are not relevant to us.\n//\n// Original source:\n// https://github.com/stream-utils/raw-body/blob/191e4b6506dcf77198eed01c8feb4b6817008342/test/index.js\n//\n// Licensed: The MIT License (MIT)\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions: The above copyright\n// notice and this permission notice shall be included in all copies or\n// substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n/**\n * Read the body of a Node.js stream.\n *\n * @param stream\n *   Stream.\n * @param options\n *   Configuration (optional).\n * @returns\n *   Promise that resolves to a concatenated body.\n */\nasync function readBody(stream, options) {\n    const limit = options?.limit ?? 1048576; // 1mb.\n    const length = options?.expectedLength ?? undefined;\n    const decoder = new TextDecoder(\"utf-8\");\n    let buffer = \"\";\n    let complete = false;\n    let received = 0;\n    if (typeof limit !== \"number\" || limit < 0 || Number.isNaN(limit)) {\n        return Promise.reject(new Error(\"Unexpected value `\" +\n            limit +\n            \"` for `options.limit`, expected positive number\"));\n    }\n    if (length !== undefined &&\n        (typeof length !== \"number\" || length < 0 || Number.isNaN(length))) {\n        return Promise.reject(new Error(\"Unexpected value `\" +\n            length +\n            \"` for `options.expectedLength`, expected positive number\"));\n    }\n    if (typeof stream.on !== \"function\") {\n        return Promise.reject(new Error(\"Unexpected value `\" +\n            stream.on +\n            \"` for `stream.on`, expected function\"));\n    }\n    if (typeof stream.removeListener !== \"function\") {\n        return Promise.reject(new Error(\"Unexpected value `\" +\n            stream.removeListener +\n            \"` for `stream.removeListener`, expected function\"));\n    }\n    if (typeof stream.readable !== \"undefined\" && !stream.readable) {\n        return Promise.reject(new Error(\"Cannot read unreadable stream\"));\n    }\n    // If we already know the length and it exceeds the limit, abort early.\n    if (length !== undefined && length > limit) {\n        return Promise.reject(new Error(\"Cannot read stream whose expected length exceeds limit\"));\n    }\n    return new Promise((resolve, reject) => {\n        // This was already checked at the top of the function but TypeScript lost\n        // the context\n        if (typeof stream.on === \"function\") {\n            stream.on(\"aborted\", onAborted);\n            stream.on(\"close\", cleanup);\n            stream.on(\"data\", onData);\n            stream.on(\"end\", onEnd);\n            stream.on(\"error\", onEnd);\n        }\n        function done(err, buffer) {\n            // Ensure we avoid double resolve/reject if called more than once\n            if (complete)\n                return;\n            complete = true;\n            cleanup();\n            if (typeof err !== \"undefined\") {\n                reject(err);\n            }\n            else if (buffer !== null && buffer !== undefined) {\n                // Need to call it one final time to flush any remaining chars.\n                buffer += decoder.decode();\n                resolve(buffer);\n            }\n        }\n        function onAborted() {\n            done(new Error(\"Cannot read aborted stream\"));\n        }\n        function onData(chunk) {\n            received += chunk.length;\n            if (received > limit) {\n                done(new Error(\"Cannot read stream that exceeds limit\"));\n            }\n            else {\n                buffer += decoder.decode(chunk, { stream: true });\n            }\n        }\n        function onEnd(err) {\n            if (err)\n                return done(err);\n            if (length !== undefined && received !== length) {\n                done(new Error(\"Cannot read stream whose length does not match expected length\"));\n            }\n            else {\n                done(undefined, buffer);\n            }\n        }\n        function cleanup() {\n            buffer = \"\";\n            // This was already checked at the top of the function but TypeScript lost\n            // the context\n            if (typeof stream.removeListener === \"function\") {\n                stream.removeListener(\"aborted\", onAborted);\n                stream.removeListener(\"data\", onData);\n                stream.removeListener(\"end\", onEnd);\n                stream.removeListener(\"error\", onEnd);\n                stream.removeListener(\"close\", cleanup);\n            }\n        }\n        // Ensure that we don't poll forever if the stream is incorrectly configured\n        setTimeout(() => {\n            if (received === 0) {\n                done(new Error(\"Cannot read stream, did not receive data in time limit\"));\n            }\n        }, 100);\n    });\n}\n\nexport { readBody, readBodyWeb };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4806, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/ip/index.js"],"sourcesContent":["function parseXForwardedFor(value) {\n    if (typeof value !== \"string\") {\n        return [];\n    }\n    const forwardedIps = [];\n    // As per MDN X-Forwarded-For Headers documentation at\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\n    // The `x-forwarded-for` header may return one or more IP addresses as\n    // \"client IP, proxy 1 IP, proxy 2 IP\", so we want to split by the comma and\n    // trim each item.\n    for (const item of value.split(\",\")) {\n        forwardedIps.push(item.trim());\n    }\n    return forwardedIps;\n}\nfunction isIpv4Cidr(cidr) {\n    return (typeof cidr === \"object\" &&\n        cidr !== null &&\n        \"type\" in cidr &&\n        typeof cidr.type === \"string\" &&\n        cidr.type === \"v4\" &&\n        \"contains\" in cidr &&\n        typeof cidr.contains === \"function\");\n}\nfunction isIpv6Cidr(cidr) {\n    return (typeof cidr === \"object\" &&\n        cidr !== null &&\n        \"type\" in cidr &&\n        typeof cidr.type === \"string\" &&\n        cidr.type === \"v6\" &&\n        \"contains\" in cidr &&\n        typeof cidr.contains === \"function\");\n}\nfunction isTrustedProxy(ip, segments, proxies) {\n    if (Array.isArray(proxies) && proxies.length > 0) {\n        return proxies.some((proxy) => {\n            if (typeof proxy === \"string\") {\n                return proxy === ip;\n            }\n            if (isIpv4Tuple(segments) && isIpv4Cidr(proxy)) {\n                return proxy.contains(segments);\n            }\n            if (isIpv6Tuple(segments) && isIpv6Cidr(proxy)) {\n                return proxy.contains(segments);\n            }\n            return false;\n        });\n    }\n    return false;\n}\n// Based on CIDR matching implementation in `ipaddr.js`\n// Source code:\n// https://github.com/whitequark/ipaddr.js/blob/08c2cd41e2cb3400683cbd503f60421bfdf66921/lib/ipaddr.js#L107-L130\n//\n// Licensed: The MIT License (MIT)\n// Copyright (C) 2011-2017 whitequark <whitequark@whitequark.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nfunction cidrContains(cidr, ip) {\n    let part = 0;\n    let shift;\n    let cidrBits = cidr.bits;\n    while (cidrBits > 0) {\n        shift = cidr.partSize - cidrBits;\n        if (shift < 0) {\n            shift = 0;\n        }\n        if (ip[part] >> shift !== cidr.parts[part] >> shift) {\n            return false;\n        }\n        cidrBits -= cidr.partSize;\n        part += 1;\n    }\n    return true;\n}\nclass Ipv4Cidr {\n    type = \"v4\";\n    partSize = 8;\n    parts;\n    bits;\n    constructor(parts, bits) {\n        this.bits = bits;\n        this.parts = parts;\n        Object.freeze(this);\n    }\n    contains(ip) {\n        return cidrContains(this, ip);\n    }\n}\nclass Ipv6Cidr {\n    type = \"v6\";\n    partSize = 16;\n    parts;\n    bits;\n    constructor(parts, bits) {\n        this.bits = bits;\n        this.parts = parts;\n        Object.freeze(this);\n    }\n    contains(ip) {\n        return cidrContains(this, ip);\n    }\n}\nfunction parseCidr(cidr) {\n    // Pre-condition: `cidr` has be verified to have at least one `/`\n    const cidrParts = cidr.split(\"/\");\n    if (cidrParts.length !== 2) {\n        throw new Error(\"invalid CIDR address: must be exactly 2 parts\");\n    }\n    const parser = new Parser(cidrParts[0]);\n    const maybeIpv4 = parser.readIpv4Address();\n    if (isIpv4Tuple(maybeIpv4)) {\n        const bits = parseInt(cidrParts[1], 10);\n        if (isNaN(bits) || bits < 0 || bits > 32) {\n            throw new Error(\"invalid CIDR address: incorrect amount of bits\");\n        }\n        return new Ipv4Cidr(maybeIpv4, bits);\n    }\n    const maybeIpv6 = parser.readIpv6Address();\n    if (isIpv6Tuple(maybeIpv6)) {\n        const bits = parseInt(cidrParts[1], 10);\n        if (isNaN(bits) || bits < 0 || bits > 128) {\n            throw new Error(\"invalid CIDR address: incorrect amount of bits\");\n        }\n        return new Ipv6Cidr(maybeIpv6, bits);\n    }\n    throw new Error(\"invalid CIDR address: could not parse IP address\");\n}\nfunction isCidr(address) {\n    return address.includes(\"/\");\n}\n/**\n * Parse CIDR addresses and keep non-CIDR IP addresses.\n *\n * @param value\n *   Value to parse.\n * @returns\n *   Parsed CIDR or given `value`.\n */\nfunction parseProxy(value) {\n    if (isCidr(value)) {\n        return parseCidr(value);\n    }\n    else {\n        return value;\n    }\n}\nfunction isIpv4Tuple(segements) {\n    if (typeof segements === \"undefined\") {\n        return false;\n    }\n    return segements.length === 4;\n}\nfunction isIpv6Tuple(segements) {\n    if (typeof segements === \"undefined\") {\n        return false;\n    }\n    return segements.length === 8;\n}\nfunction u16FromBytes(bytes) {\n    const u8 = new Uint8Array(bytes);\n    return new Uint16Array(u8.buffer)[0];\n}\nfunction u32FromBytes(bytes) {\n    const u8 = new Uint8Array(bytes);\n    return new Uint32Array(u8.buffer)[0];\n}\n// This Parser and \"is global\" comparisons are a TypeScript implementation of\n// similar code in the Rust stdlib with only slight deviations as noted.\n//\n// We want to mirror Rust's logic as close as possible, because we'll be relying\n// on its implementation when we add a Wasm library to determine IPs and only\n// falling back to JavaScript in non-Wasm environments.\n//\n// Parser source:\n// https://github.com/rust-lang/rust/blob/07921b50ba6dcb5b2984a1dba039a38d85bffba2/library/core/src/net/parser.rs#L34\n// Comparison source:\n// https://github.com/rust-lang/rust/blob/87e1447aadaa2899ff6ccabe1fa669eb50fb60a1/library/core/src/net/ip_addr.rs#L749\n// https://github.com/rust-lang/rust/blob/87e1447aadaa2899ff6ccabe1fa669eb50fb60a1/library/core/src/net/ip_addr.rs#L1453\n//\n// Licensed: The MIT License (MIT)\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions: The above copyright\n// notice and this permission notice shall be included in all copies or\n// substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\nclass Parser {\n    state;\n    constructor(input) {\n        this.state = input;\n    }\n    readAtomically(inner) {\n        const state = this.state;\n        const result = inner(this);\n        if (typeof result === \"undefined\") {\n            this.state = state;\n        }\n        return result;\n    }\n    peakChar() {\n        return this.state[0];\n    }\n    readChar() {\n        const b = this.state[0];\n        this.state = this.state.slice(1);\n        return b;\n    }\n    readGivenChar(target) {\n        return this.readAtomically((p) => {\n            const c = p.readChar();\n            if (c === target) {\n                return c;\n            }\n        });\n    }\n    readSeparator(sep, index, inner) {\n        return this.readAtomically((p) => {\n            if (index > 0) {\n                const c = p.readGivenChar(sep);\n                if (typeof c === \"undefined\") {\n                    return;\n                }\n            }\n            return inner(p);\n        });\n    }\n    readNumber(radix, maxDigits, allowZeroPrefix = false) {\n        return this.readAtomically((p) => {\n            let result = 0;\n            let digitCount = 0;\n            const hasLeadingZero = p.peakChar() === \"0\";\n            function nextCharAsDigit() {\n                return p.readAtomically((p) => {\n                    const c = p.readChar();\n                    if (c) {\n                        const n = parseInt(c, radix);\n                        if (!isNaN(n)) {\n                            return n;\n                        }\n                    }\n                });\n            }\n            for (let digit = nextCharAsDigit(); digit !== undefined; digit = nextCharAsDigit()) {\n                result = result * radix;\n                result = result + digit;\n                digitCount += 1;\n                if (typeof maxDigits !== \"undefined\") {\n                    if (digitCount > maxDigits) {\n                        return;\n                    }\n                }\n            }\n            if (digitCount === 0) {\n                return;\n            }\n            else if (!allowZeroPrefix && hasLeadingZero && digitCount > 1) {\n                return;\n            }\n            else {\n                return result;\n            }\n        });\n    }\n    readIpv4Address() {\n        return this.readAtomically((p) => {\n            const groups = [];\n            for (let idx = 0; idx < 4; idx++) {\n                const result = p.readSeparator(\".\", idx, (p) => {\n                    // Disallow octal number in IP string\n                    // https://tools.ietf.org/html/rfc6943#section-3.1.1\n                    return p.readNumber(10, 3, false);\n                });\n                if (result === undefined) {\n                    return;\n                }\n                else {\n                    groups.push(result);\n                }\n            }\n            return groups;\n        });\n    }\n    readIpv6Address() {\n        // Read a chunk of an IPv6 address into `groups`. Returns the number of\n        // groups read, along with a bool indicating if an embedded trailing IPv4\n        // address was read. Specifically, read a series of colon-separated IPv6\n        // groups (0x0000 - 0xFFFF), with an optional trailing embedded IPv4 address\n        const readGroups = (p, groups) => {\n            const limit = groups.length;\n            for (const i of groups.keys()) {\n                // Try to read a trailing embedded IPv4 address. There must be at least\n                // two groups left\n                if (i < limit - 1) {\n                    const ipv4 = p.readSeparator(\":\", i, (p) => p.readIpv4Address());\n                    if (isIpv4Tuple(ipv4)) {\n                        const [one, two, three, four] = ipv4;\n                        groups[i + 0] = u16FromBytes([one, two]);\n                        groups[i + 1] = u16FromBytes([three, four]);\n                        return [i + 2, true];\n                    }\n                }\n                const group = p.readSeparator(\":\", i, (p) => p.readNumber(16, 4, true));\n                if (typeof group !== \"undefined\") {\n                    groups[i] = group;\n                }\n                else {\n                    return [i, false];\n                }\n            }\n            return [groups.length, false];\n        };\n        return this.readAtomically((p) => {\n            // Read the front part of the address; either the whole thing, or up\n            // to the first ::\n            const head = new Uint16Array(8);\n            const [headSize, headIpv4] = readGroups(p, head);\n            if (headSize === 8) {\n                return head;\n            }\n            // IPv4 part is not allowed before `::`\n            if (headIpv4) {\n                return;\n            }\n            // Read `::` if previous code parsed less than 8 groups.\n            // `::` indicates one or more groups of 16 bits of zeros.\n            if (typeof p.readGivenChar(\":\") === \"undefined\") {\n                return;\n            }\n            if (typeof p.readGivenChar(\":\") === \"undefined\") {\n                return;\n            }\n            // Read the back part of the address. The :: must contain at least one\n            // set of zeroes, so our max length is 7.\n            const tail = new Uint16Array(7);\n            const limit = 8 - (headSize + 1);\n            const [tailSize, _] = readGroups(p, tail.subarray(0, limit));\n            head.set(tail.slice(0, tailSize), 8 - tailSize);\n            return head;\n        });\n    }\n    readPort() {\n        return this.readAtomically((p) => {\n            if (typeof p.readGivenChar(\":\") !== \"undefined\") {\n                return p.readNumber(10, undefined, true);\n            }\n        });\n    }\n    readScopeId() {\n        return this.readAtomically((p) => {\n            if (typeof p.readGivenChar(\"%\") !== \"undefined\") {\n                return p.readNumber(10, undefined, true);\n            }\n        });\n    }\n}\nconst IPV4_BROADCAST = u32FromBytes([255, 255, 255, 255]);\nfunction isGlobalIpv4(s, proxies) {\n    if (typeof s !== \"string\") {\n        return false;\n    }\n    const parser = new Parser(s);\n    const octets = parser.readIpv4Address();\n    if (!isIpv4Tuple(octets)) {\n        return false;\n    }\n    if (isTrustedProxy(s, octets, proxies)) {\n        return false;\n    }\n    // Rust doesn't check the remaining state when parsing an IPv4. However, we\n    // want to ensure we have exactly an IP (with optionally a port), so we parse\n    // it and then check remaining parser state.\n    parser.readPort();\n    if (parser.state.length !== 0) {\n        return false;\n    }\n    // \"This network\"\n    if (octets[0] === 0) {\n        return false;\n    }\n    // Private IPv4 address ranges\n    if (octets[0] === 10) {\n        return false;\n    }\n    if (octets[0] === 172 && octets[1] >= 16 && octets[1] <= 31) {\n        return false;\n    }\n    if (octets[0] === 192 && octets[1] === 168) {\n        return false;\n    }\n    // Loopback address\n    if (octets[0] === 127) {\n        return false;\n    }\n    // Shared range\n    if (octets[0] === 100 && (octets[1] & 0b1100_0000) === 0b0100_0000) {\n        return false;\n    }\n    // Link-local range\n    if (octets[0] === 169 && octets[1] === 254) {\n        return false;\n    }\n    // addresses reserved for future protocols (`192.0.0.0/24`)\n    if (octets[0] === 192 && octets[1] === 0 && octets[2] === 0) {\n        return false;\n    }\n    // Documentation ranges\n    if (octets[0] === 192 && octets[1] === 0 && octets[2] === 2) {\n        return false;\n    }\n    if (octets[0] === 198 && octets[1] === 51 && octets[2] === 100) {\n        return false;\n    }\n    if (octets[0] === 203 && octets[1] === 0 && octets[2] === 113) {\n        return false;\n    }\n    // Benchmarking range\n    if (octets[0] === 198 && (octets[1] & 0xfe) === 18) {\n        return false;\n    }\n    const isBroadcast = u32FromBytes(octets) === IPV4_BROADCAST;\n    // Reserved range\n    if ((octets[0] & 240) === 240 && !isBroadcast) {\n        return false;\n    }\n    // Broadcast address\n    if (isBroadcast) {\n        return false;\n    }\n    for (const octet of octets) {\n        if (octet < 0 || octet > 255) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isGlobalIpv6(s, proxies) {\n    if (typeof s !== \"string\") {\n        return false;\n    }\n    const parser = new Parser(s);\n    const segments = parser.readIpv6Address();\n    if (!isIpv6Tuple(segments)) {\n        return false;\n    }\n    if (isTrustedProxy(s, segments, proxies)) {\n        return false;\n    }\n    // Rust doesn't check the remaining state when parsing an IPv6. However, we\n    // want to ensure we have exactly an IP (with optionally a scope id), so we\n    // parse it and then check remaining parser state.\n    // TODO: We don't support an IPv6 address with a port because that seems to\n    // require wrapping the address and scope in `[]`, e.g. `[:ffff%1]:8080`\n    parser.readScopeId();\n    if (parser.state.length !== 0) {\n        return false;\n    }\n    // Unspecified address\n    if (segments[0] === 0 &&\n        segments[1] === 0 &&\n        segments[2] === 0 &&\n        segments[3] === 0 &&\n        segments[4] === 0 &&\n        segments[5] === 0 &&\n        segments[6] === 0 &&\n        segments[7] === 0) {\n        return false;\n    }\n    // Loopback address\n    if (segments[0] === 0 &&\n        segments[1] === 0 &&\n        segments[2] === 0 &&\n        segments[3] === 0 &&\n        segments[4] === 0 &&\n        segments[5] === 0 &&\n        segments[6] === 0 &&\n        segments[7] === 0x1) {\n        return false;\n    }\n    // IPv4-mapped Address (`::ffff:0:0/96`)\n    if (segments[0] === 0 &&\n        segments[1] === 0 &&\n        segments[2] === 0 &&\n        segments[3] === 0 &&\n        segments[4] === 0 &&\n        segments[5] === 0xffff) {\n        return false;\n    }\n    // IPv4-IPv6 Translat. (`64:ff9b:1::/48`)\n    if (segments[0] === 0x64 && segments[1] === 0xff9b && segments[2] === 1) {\n        return false;\n    }\n    // Discard-Only Address Block (`100::/64`)\n    if (segments[0] === 0x100 &&\n        segments[1] === 0 &&\n        segments[2] === 0 &&\n        segments[3] === 0) {\n        return false;\n    }\n    // IETF Protocol Assignments (`2001::/23`)\n    if (segments[0] === 0x2001 && segments[1] < 0x200) {\n        // Port Control Protocol Anycast (`2001:1::1`)\n        if (segments[0] === 0x2001 &&\n            segments[1] === 1 &&\n            segments[2] === 0 &&\n            segments[3] === 0 &&\n            segments[4] === 0 &&\n            segments[5] === 0 &&\n            segments[6] === 0 &&\n            segments[7] === 1) {\n            return true;\n        }\n        // Traversal Using Relays around NAT Anycast (`2001:1::2`)\n        if (segments[0] === 0x2001 &&\n            segments[1] === 1 &&\n            segments[2] === 0 &&\n            segments[3] === 0 &&\n            segments[4] === 0 &&\n            segments[5] === 0 &&\n            segments[6] === 0 &&\n            segments[7] === 2) {\n            return true;\n        }\n        // AMT (`2001:3::/32`)\n        if (segments[0] === 0x2001 && segments[1] === 3) {\n            return true;\n        }\n        // AS112-v6 (`2001:4:112::/48`)\n        if (segments[0] === 0x2001 && segments[1] === 4 && segments[2] === 0x112) {\n            return true;\n        }\n        // ORCHIDv2 (`2001:20::/28`)\n        if (segments[0] === 0x2001 && segments[1] >= 0x20 && segments[1] <= 0x2f) {\n            return true;\n        }\n        // Benchmarking range (and others)\n        return false;\n    }\n    // Documentation range\n    if (segments[0] === 0x2001 && segments[1] === 0xdb8) {\n        return false;\n    }\n    // Unique local range\n    if ((segments[0] & 0xfe00) === 0xfc00) {\n        return false;\n    }\n    // Unicast link local range\n    if ((segments[0] & 0xffc0) === 0xfe80) {\n        return false;\n    }\n    return true;\n}\nfunction isGlobalIp(s, proxies) {\n    if (isGlobalIpv4(s, proxies)) {\n        return true;\n    }\n    if (isGlobalIpv6(s, proxies)) {\n        return true;\n    }\n    return false;\n}\nfunction isHeaders(val) {\n    return typeof val.get === \"function\";\n}\nfunction getHeader(headers, headerKey) {\n    if (isHeaders(headers)) {\n        return headers.get(headerKey);\n    }\n    else {\n        const headerValue = headers[headerKey];\n        if (Array.isArray(headerValue)) {\n            return headerValue.join(\",\");\n        }\n        else {\n            return headerValue;\n        }\n    }\n}\n// Heavily based on https://github.com/pbojinov/request-ip\n//\n// Licensed: The MIT License (MIT) Copyright (c) 2022 Petar Bojinov -\n// petarbojinov+github@gmail.com\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions: The above copyright\n// notice and this permission notice shall be included in all copies or\n// substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\nfunction findIp(request, options) {\n    const { platform, proxies: rawProxies } = options || {};\n    const proxies = [];\n    if (Array.isArray(rawProxies)) {\n        for (const cidrOrIp of rawProxies) {\n            if (typeof cidrOrIp === \"string\") {\n                proxies.push(parseProxy(cidrOrIp));\n            }\n            if (isIpv4Cidr(cidrOrIp) || isIpv6Cidr(cidrOrIp)) {\n                proxies.push(cidrOrIp);\n            }\n        }\n    }\n    // Prefer anything available via the platform over headers since headers can\n    // be set by users. Only if we don't have an IP available in `request` do we\n    // search the `headers`.\n    if (isGlobalIp(request.ip, proxies)) {\n        return request.ip;\n    }\n    const socketRemoteAddress = request.socket?.remoteAddress;\n    if (isGlobalIp(socketRemoteAddress, proxies)) {\n        return socketRemoteAddress;\n    }\n    const infoRemoteAddress = request.info?.remoteAddress;\n    if (isGlobalIp(infoRemoteAddress, proxies)) {\n        return infoRemoteAddress;\n    }\n    // AWS Api Gateway + Lambda\n    const requestContextIdentitySourceIp = request.requestContext?.identity?.sourceIp;\n    if (isGlobalIp(requestContextIdentitySourceIp, proxies)) {\n        return requestContextIdentitySourceIp;\n    }\n    // Validate we have some object for `request.headers`\n    if (typeof request.headers !== \"object\" || request.headers === null) {\n        return \"\";\n    }\n    // Platform-specific headers should only be accepted when we can determine\n    // that we are running on that platform. For example, the `CF-Connecting-IP`\n    // header should only be accepted when running on Cloudflare; otherwise, it\n    // can be spoofed.\n    if (platform === \"cloudflare\") {\n        // CF-Connecting-IPv6: https://developers.cloudflare.com/fundamentals/reference/http-request-headers/#cf-connecting-ipv6\n        const cfConnectingIpv6 = getHeader(request.headers, \"cf-connecting-ipv6\");\n        if (isGlobalIpv6(cfConnectingIpv6, proxies)) {\n            return cfConnectingIpv6;\n        }\n        // CF-Connecting-IP: https://developers.cloudflare.com/fundamentals/reference/http-request-headers/#cf-connecting-ip\n        const cfConnectingIp = getHeader(request.headers, \"cf-connecting-ip\");\n        if (isGlobalIp(cfConnectingIp, proxies)) {\n            return cfConnectingIp;\n        }\n        // If we are using a platform check and don't have a Global IP, we exit\n        // early with an empty IP since the more generic headers shouldn't be\n        // trusted over the platform-specific headers.\n        return \"\";\n    }\n    // Firebase https://github.com/arcjet/arcjet-js/issues/5383\n    if (platform === \"firebase\") {\n        const fahClientIp = getHeader(request.headers, \"x-fah-client-ip\");\n        if (isGlobalIp(fahClientIp, proxies)) {\n            return fahClientIp;\n        }\n        // https://cloud.google.com/functions/docs/reference/headers#x-forwarded-for\n        // (and https://github.com/arcjet/arcjet-js/issues/5383).\n        // The last are probably going to be proxies which have to be filtered with\n        // `proxies`.\n        const xForwardedFor = getHeader(request.headers, \"x-forwarded-for\");\n        const xForwardedForItems = parseXForwardedFor(xForwardedFor);\n        for (const item of xForwardedForItems.reverse()) {\n            if (isGlobalIp(item, proxies)) {\n                return item;\n            }\n        }\n        // If we are using a platform check and don't have a Global IP, we exit\n        // early with an empty IP since the more generic headers shouldn't be\n        // trusted over the platform-specific headers.\n        return \"\";\n    }\n    // Fly.io: https://fly.io/docs/machines/runtime-environment/#fly_app_name\n    if (platform === \"fly-io\") {\n        // Fly-Client-IP: https://fly.io/docs/networking/request-headers/#fly-client-ip\n        const flyClientIp = getHeader(request.headers, \"fly-client-ip\");\n        if (isGlobalIp(flyClientIp, proxies)) {\n            return flyClientIp;\n        }\n        // If we are using a platform check and don't have a Global IP, we exit\n        // early with an empty IP since the more generic headers shouldn't be\n        // trusted over the platform-specific headers.\n        return \"\";\n    }\n    if (platform === \"vercel\") {\n        // https://vercel.com/docs/edge-network/headers/request-headers#x-real-ip\n        // Also used by `@vercel/functions`, see:\n        // https://github.com/vercel/vercel/blob/d7536d52c87712b1b3f83e4b0fd535a1fb7e384c/packages/functions/src/headers.ts#L12\n        const xRealIp = getHeader(request.headers, \"x-real-ip\");\n        if (isGlobalIp(xRealIp, proxies)) {\n            return xRealIp;\n        }\n        // https://vercel.com/docs/edge-network/headers/request-headers#x-vercel-forwarded-for\n        // By default, it seems this will be 1 address, but they discuss trusted\n        // proxy forwarding so we try to parse it like normal. See\n        // https://vercel.com/docs/edge-network/headers/request-headers#custom-x-forwarded-for-ip\n        const xVercelForwardedFor = getHeader(request.headers, \"x-vercel-forwarded-for\");\n        const xVercelForwardedForItems = parseXForwardedFor(xVercelForwardedFor);\n        // As per MDN X-Forwarded-For Headers documentation at\n        // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\n        // We may find more than one IP in the `x-forwarded-for` header. Since the\n        // first IP will be closest to the user (and the most likely to be spoofed),\n        // we want to iterate tail-to-head so we reverse the list.\n        for (const item of xVercelForwardedForItems.reverse()) {\n            if (isGlobalIp(item, proxies)) {\n                return item;\n            }\n        }\n        // https://vercel.com/docs/edge-network/headers/request-headers#x-forwarded-for\n        // By default, it seems this will be 1 address, but they discuss trusted\n        // proxy forwarding so we try to parse it like normal. See\n        // https://vercel.com/docs/edge-network/headers/request-headers#custom-x-forwarded-for-ip\n        const xForwardedFor = getHeader(request.headers, \"x-forwarded-for\");\n        const xForwardedForItems = parseXForwardedFor(xForwardedFor);\n        // As per MDN X-Forwarded-For Headers documentation at\n        // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\n        // We may find more than one IP in the `x-forwarded-for` header. Since the\n        // first IP will be closest to the user (and the most likely to be spoofed),\n        // we want to iterate tail-to-head so we reverse the list.\n        for (const item of xForwardedForItems.reverse()) {\n            if (isGlobalIp(item, proxies)) {\n                return item;\n            }\n        }\n        // If we are using a platform check and don't have a Global IP, we exit\n        // early with an empty IP since the more generic headers shouldn't be\n        // trusted over the platform-specific headers.\n        return \"\";\n    }\n    if (platform === \"render\") {\n        // True-Client-IP: https://community.render.com/t/what-number-of-proxies-sit-in-front-of-an-express-app-deployed-on-render/35981/2\n        const trueClientIp = getHeader(request.headers, \"true-client-ip\");\n        if (isGlobalIp(trueClientIp, proxies)) {\n            return trueClientIp;\n        }\n        // If we are using a platform check and don't have a Global IP, we exit\n        // early with an empty IP since the more generic headers shouldn't be\n        // trusted over the platform-specific headers.\n        return \"\";\n    }\n    // Standard headers used by Amazon EC2, Heroku, and others.\n    const xClientIp = getHeader(request.headers, \"x-client-ip\");\n    if (isGlobalIp(xClientIp, proxies)) {\n        return xClientIp;\n    }\n    // Load-balancers (AWS ELB) or proxies.\n    const xForwardedFor = getHeader(request.headers, \"x-forwarded-for\");\n    const xForwardedForItems = parseXForwardedFor(xForwardedFor);\n    // As per MDN X-Forwarded-For Headers documentation at\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\n    // We may find more than one IP in the `x-forwarded-for` header. Since the\n    // first IP will be closest to the user (and the most likely to be spoofed),\n    // we want to iterate tail-to-head so we reverse the list.\n    for (const item of xForwardedForItems.reverse()) {\n        if (isGlobalIp(item, proxies)) {\n            return item;\n        }\n    }\n    // DigitalOcean.\n    // DO-Connecting-IP: https://www.digitalocean.com/community/questions/app-platform-client-ip\n    const doConnectingIp = getHeader(request.headers, \"do-connecting-ip\");\n    if (isGlobalIp(doConnectingIp, proxies)) {\n        return doConnectingIp;\n    }\n    // Fastly and Firebase hosting header (When forwared to cloud function)\n    // Fastly-Client-IP\n    const fastlyClientIp = getHeader(request.headers, \"fastly-client-ip\");\n    if (isGlobalIp(fastlyClientIp, proxies)) {\n        return fastlyClientIp;\n    }\n    // Akamai\n    // True-Client-IP\n    const trueClientIp = getHeader(request.headers, \"true-client-ip\");\n    if (isGlobalIp(trueClientIp, proxies)) {\n        return trueClientIp;\n    }\n    // Default nginx proxy/fcgi; alternative to x-forwarded-for, used by some proxies\n    // X-Real-IP\n    const xRealIp = getHeader(request.headers, \"x-real-ip\");\n    if (isGlobalIp(xRealIp, proxies)) {\n        return xRealIp;\n    }\n    // Rackspace LB and Riverbed's Stingray?\n    const xClusterClientIp = getHeader(request.headers, \"x-cluster-client-ip\");\n    if (isGlobalIp(xClusterClientIp, proxies)) {\n        return xClusterClientIp;\n    }\n    const xForwarded = getHeader(request.headers, \"x-forwarded\");\n    if (isGlobalIp(xForwarded, proxies)) {\n        return xForwarded;\n    }\n    const forwardedFor = getHeader(request.headers, \"forwarded-for\");\n    if (isGlobalIp(forwardedFor, proxies)) {\n        return forwardedFor;\n    }\n    const forwarded = getHeader(request.headers, \"forwarded\");\n    if (isGlobalIp(forwarded, proxies)) {\n        return forwarded;\n    }\n    // Google Cloud App Engine\n    // X-Appengine-User-IP: https://cloud.google.com/appengine/docs/standard/reference/request-headers?tab=node.js\n    const xAppEngineUserIp = getHeader(request.headers, \"x-appengine-user-ip\");\n    if (isGlobalIp(xAppEngineUserIp, proxies)) {\n        return xAppEngineUserIp;\n    }\n    return \"\";\n}\n\nexport { findIp as default, findIp, parseProxy };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5616, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/env/index.js"],"sourcesContent":["/**\n * Detect the platform.\n *\n * @param environment\n *   Environment.\n * @returns\n *   Name of platform if found.\n */\nfunction platform(environment) {\n    if (typeof environment[\"FIREBASE_CONFIG\"] === \"string\" &&\n        environment[\"FIREBASE_CONFIG\"] !== \"\") {\n        return \"firebase\";\n    }\n    if (typeof environment[\"FLY_APP_NAME\"] === \"string\" &&\n        environment[\"FLY_APP_NAME\"] !== \"\") {\n        return \"fly-io\";\n    }\n    if (typeof environment[\"VERCEL\"] === \"string\" &&\n        environment[\"VERCEL\"] === \"1\") {\n        return \"vercel\";\n    }\n    // https://render.com/docs/environment-variables\n    if (typeof environment[\"RENDER\"] === \"string\" &&\n        environment[\"RENDER\"] === \"true\") {\n        return \"render\";\n    }\n}\n/**\n * Check if the environment is development.\n *\n * @param environment\n *   Environment.\n * @returns\n *   Whether the environment is development.\n */\nfunction isDevelopment(environment) {\n    return (environment.NODE_ENV === \"development\" ||\n        environment.MODE === \"development\" ||\n        environment.ARCJET_ENV === \"development\");\n}\n/**\n * Get the log level.\n *\n * @param environment\n *   Environment.\n * @returns\n *   Log level.\n */\nfunction logLevel(environment) {\n    const level = environment[\"ARCJET_LOG_LEVEL\"];\n    switch (level) {\n        case \"debug\":\n        case \"info\":\n        case \"warn\":\n        case \"error\":\n            return level;\n        default:\n            // Default to warn if not set\n            return \"warn\";\n    }\n}\nconst baseUrlAllowed = [\n    \"https://decide.arcjet.com\",\n    \"https://decide.arcjettest.com\",\n    \"https://fly.decide.arcjet.com\",\n    \"https://fly.decide.arcjettest.com\",\n    \"https://decide.arcjet.orb.local\",\n    // Allow trailing slashes\n    \"https://decide.arcjet.com/\",\n    \"https://decide.arcjettest.com/\",\n    \"https://fly.decide.arcjet.com/\",\n    \"https://fly.decide.arcjettest.com/\",\n    \"https://decide.arcjet.orb.local/\",\n];\n/**\n * Get the base URL of an Arcjet API.\n *\n * @param environment\n *   Environment.\n * @returns\n *   Base URL of Arcjet API.\n */\nfunction baseUrl(environment) {\n    // Use ARCJET_BASE_URL if it is set and belongs to our allowlist; otherwise\n    // use the hardcoded default.\n    if (typeof environment[\"ARCJET_BASE_URL\"] === \"string\" &&\n        baseUrlAllowed.includes(environment[\"ARCJET_BASE_URL\"])) {\n        return environment[\"ARCJET_BASE_URL\"];\n    }\n    // If we're running on fly.io, use the Arcjet Decide Service hosted on fly\n    // Ref: https://fly.io/docs/machines/runtime-environment/#environment-variables\n    if (platform(environment) === \"fly-io\") {\n        return \"https://fly.decide.arcjet.com\";\n    }\n    return \"https://decide.arcjet.com\";\n}\n\nexport { baseUrl, isDevelopment, logLevel, platform };\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;;;;AACD,SAAS,SAAS,WAAW;IACzB,IAAI,OAAO,WAAW,CAAC,kBAAkB,KAAK,YAC1C,WAAW,CAAC,kBAAkB,KAAK,IAAI;QACvC,OAAO;IACX;IACA,IAAI,OAAO,WAAW,CAAC,eAAe,KAAK,YACvC,WAAW,CAAC,eAAe,KAAK,IAAI;QACpC,OAAO;IACX;IACA,IAAI,OAAO,WAAW,CAAC,SAAS,KAAK,YACjC,WAAW,CAAC,SAAS,KAAK,KAAK;QAC/B,OAAO;IACX;IACA,gDAAgD;IAChD,IAAI,OAAO,WAAW,CAAC,SAAS,KAAK,YACjC,WAAW,CAAC,SAAS,KAAK,QAAQ;QAClC,OAAO;IACX;AACJ;AACA;;;;;;;CAOC,GACD,SAAS,cAAc,WAAW;IAC9B,OAAQ,YAAY,QAAQ,KAAK,iBAC7B,YAAY,IAAI,KAAK,iBACrB,YAAY,UAAU,KAAK;AACnC;AACA;;;;;;;CAOC,GACD,SAAS,SAAS,WAAW;IACzB,MAAM,QAAQ,WAAW,CAAC,mBAAmB;IAC7C,OAAQ;QACJ,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACD,OAAO;QACX;YACI,6BAA6B;YAC7B,OAAO;IACf;AACJ;AACA,MAAM,iBAAiB;IACnB;IACA;IACA;IACA;IACA;IACA,yBAAyB;IACzB;IACA;IACA;IACA;IACA;CACH;AACD;;;;;;;CAOC,GACD,SAAS,QAAQ,WAAW;IACxB,2EAA2E;IAC3E,6BAA6B;IAC7B,IAAI,OAAO,WAAW,CAAC,kBAAkB,KAAK,YAC1C,eAAe,QAAQ,CAAC,WAAW,CAAC,kBAAkB,GAAG;QACzD,OAAO,WAAW,CAAC,kBAAkB;IACzC;IACA,0EAA0E;IAC1E,+EAA+E;IAC/E,IAAI,SAAS,iBAAiB,UAAU;QACpC,OAAO;IACX;IACA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 5712, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/sprintf/index.js"],"sourcesContent":["function bigintReplacer(key, value) {\n    if (typeof value === \"bigint\") {\n        return \"[BigInt]\";\n    }\n    return value;\n}\n// TODO: Deduplicate this and logger implementation\nfunction tryStringify(o) {\n    try {\n        return JSON.stringify(o, bigintReplacer);\n    }\n    catch {\n        return `\"[Circular]\"`;\n    }\n}\nconst PERCENT_CODE = 37; /* % */\nconst LOWERCASE_D_CODE = 100; /* d */\nconst LOWERCASE_F_CODE = 102; /* f */\nconst LOWERCASE_I_CODE = 105; /* i */\nconst UPPERCASE_O_CODE = 79; /* O */\nconst LOWERCASE_O_CODE = 111; /* o */\nconst LOWERCASE_J_CODE = 106; /* j */\nconst LOWERCASE_S_CODE = 115; /* s */\n// Heavily based on https://github.com/pinojs/quick-format-unescaped\n//\n// The MIT License (MIT)\n//\n// Copyright (c) 2016-2019 David Mark Clements\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n/**\n * Format a string with placeholders using the provided arguments.\n *\n * @param template\n *   Template.\n * @param values\n *   Values to interpolate.\n * @returns\n *   Formatted string.\n */\nfunction sprintf(template, ...values) {\n    if (typeof template !== \"string\") {\n        throw new TypeError(\"First argument must be a string\");\n    }\n    if (values.length === 0) {\n        return template;\n    }\n    let output = \"\";\n    let valueIndex = 0;\n    let lastPosition = -1;\n    for (let index = 0; index < template.length;) {\n        if (template.charCodeAt(index) === PERCENT_CODE &&\n            index + 1 < template.length) {\n            lastPosition = lastPosition > -1 ? lastPosition : 0;\n            switch (template.charCodeAt(index + 1)) {\n                case LOWERCASE_D_CODE:\n                case LOWERCASE_F_CODE: {\n                    if (valueIndex >= values.length) {\n                        break;\n                    }\n                    const value = values[valueIndex];\n                    if (typeof value !== \"number\") {\n                        break;\n                    }\n                    if (lastPosition < index) {\n                        output += template.slice(lastPosition, index);\n                    }\n                    output += value;\n                    lastPosition = index + 2;\n                    index++;\n                    break;\n                }\n                case LOWERCASE_I_CODE: {\n                    if (valueIndex >= values.length) {\n                        break;\n                    }\n                    const value = values[valueIndex];\n                    if (typeof value !== \"number\") {\n                        break;\n                    }\n                    if (lastPosition < index) {\n                        output += template.slice(lastPosition, index);\n                    }\n                    output += Math.floor(value);\n                    lastPosition = index + 2;\n                    index++;\n                    break;\n                }\n                case UPPERCASE_O_CODE:\n                case LOWERCASE_O_CODE:\n                case LOWERCASE_J_CODE: {\n                    if (valueIndex >= values.length) {\n                        break;\n                    }\n                    const value = values[valueIndex];\n                    if (value === undefined) {\n                        break;\n                    }\n                    if (lastPosition < index) {\n                        output += template.slice(lastPosition, index);\n                    }\n                    if (typeof value === \"string\") {\n                        output += `'${value}'`;\n                        lastPosition = index + 2;\n                        index++;\n                        break;\n                    }\n                    if (typeof value === \"bigint\") {\n                        output += `\"[BigInt]\"`;\n                        lastPosition = index + 2;\n                        index++;\n                        break;\n                    }\n                    if (typeof value === \"function\") {\n                        output += value.name || \"<anonymous>\";\n                        lastPosition = index + 2;\n                        index++;\n                        break;\n                    }\n                    output += tryStringify(value);\n                    lastPosition = index + 2;\n                    index++;\n                    break;\n                }\n                case LOWERCASE_S_CODE: {\n                    if (valueIndex >= values.length) {\n                        break;\n                    }\n                    const value = values[valueIndex];\n                    if (typeof value !== \"string\") {\n                        break;\n                    }\n                    if (lastPosition < index) {\n                        output += template.slice(lastPosition, index);\n                    }\n                    output += value;\n                    lastPosition = index + 2;\n                    index++;\n                    break;\n                }\n                case PERCENT_CODE: {\n                    if (lastPosition < index) {\n                        output += template.slice(lastPosition, index);\n                    }\n                    output += \"%\";\n                    lastPosition = index + 2;\n                    index++;\n                    valueIndex--;\n                    break;\n                }\n            }\n            ++valueIndex;\n        }\n        ++index;\n    }\n    if (lastPosition === -1) {\n        return template;\n    }\n    if (lastPosition < template.length) {\n        output += template.slice(lastPosition);\n    }\n    return output;\n}\n\nexport { sprintf as default, sprintf };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5902, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/logger/index.js"],"sourcesContent":["import format from '@arcjet/sprintf';\n\nfunction bigintReplacer(key, value) {\n    if (typeof value === \"bigint\") {\n        return \"[BigInt]\";\n    }\n    return value;\n}\n// TODO: Deduplicate this and sprintf implementation\nfunction tryStringify(value) {\n    try {\n        return JSON.stringify(value, bigintReplacer);\n    }\n    catch {\n        return \"[Circular]\";\n    }\n}\nconst PREFIX = \"Aj\";\nfunction getMessage(mergingObject, message, interpolationValues) {\n    // The first argument was the message so juggle the arguments\n    if (typeof mergingObject === \"string\") {\n        interpolationValues = [message, ...interpolationValues];\n        message = mergingObject;\n    }\n    // Prefer a string message over `mergingObject.msg`, as per Pino:\n    // https://github.com/pinojs/pino/blob/8db130eba0439e61c802448d31eb1998cebfbc98/docs/api.md#message-string\n    if (typeof message === \"string\") {\n        return format(message, ...interpolationValues);\n    }\n    if (typeof mergingObject === \"object\" &&\n        mergingObject !== null &&\n        \"msg\" in mergingObject &&\n        typeof mergingObject.msg === \"string\") {\n        return format(mergingObject.msg, [message, ...interpolationValues]);\n    }\n}\nfunction getOutput(messageOrObject, message, interpolationValues) {\n    let output = getMessage(messageOrObject, message, interpolationValues);\n    if (typeof output !== \"string\") {\n        return;\n    }\n    if (typeof messageOrObject === \"object\" && messageOrObject !== null) {\n        for (const [key, value] of Object.entries(messageOrObject)) {\n            output += `\\n      ${key}: ${tryStringify(value)}`;\n        }\n    }\n    return output;\n}\n/**\n * Logger.\n */\nclass Logger {\n    #logLevel;\n    /**\n     * Configuration.\n     *\n     * @param options\n     *   Configuration.\n     * @returns\n     *   Logger.\n     */\n    constructor(options) {\n        if (typeof options.level !== \"string\") {\n            throw new Error(`Invalid log level`);\n        }\n        switch (options.level) {\n            case \"debug\":\n                this.#logLevel = 0;\n                break;\n            case \"info\":\n                this.#logLevel = 1;\n                break;\n            case \"warn\":\n                this.#logLevel = 2;\n                break;\n            case \"error\":\n                this.#logLevel = 3;\n                break;\n            default: {\n                throw new Error(`Unknown log level: ${options.level}`);\n            }\n        }\n    }\n    debug(messageOrObject, message, ...interpolationValues) {\n        if (this.#logLevel <= 0) {\n            const output = getOutput(messageOrObject, message, interpolationValues);\n            if (typeof output !== \"undefined\") {\n                console.debug(`${PREFIX} DEBUG ${output}`);\n            }\n        }\n    }\n    info(messageOrObject, message, ...interpolationValues) {\n        if (this.#logLevel <= 1) {\n            const output = getOutput(messageOrObject, message, interpolationValues);\n            if (typeof output !== \"undefined\") {\n                console.info(`${PREFIX} INFO ${output}`);\n            }\n        }\n    }\n    warn(messageOrObject, message, ...interpolationValues) {\n        if (this.#logLevel <= 2) {\n            const output = getOutput(messageOrObject, message, interpolationValues);\n            if (typeof output !== \"undefined\") {\n                console.warn(`${PREFIX} WARN ${output}`);\n            }\n        }\n    }\n    error(messageOrObject, message, ...interpolationValues) {\n        if (this.#logLevel <= 3) {\n            const output = getOutput(messageOrObject, message, interpolationValues);\n            if (typeof output !== \"undefined\") {\n                console.error(`${PREFIX} ERROR ${output}`);\n            }\n        }\n    }\n}\n\nexport { Logger };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6027, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@connectrpc/connect-web/dist/esm/assert-fetch-api.js"],"sourcesContent":["// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Asserts that the fetch API is available.\n */\nexport function assertFetchApi() {\n    try {\n        new Headers();\n    }\n    catch (_) {\n        throw new Error(\"connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.\");\n    }\n}\n"],"names":[],"mappings":"AAAA,0CAA0C;AAC1C,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,kDAAkD;AAClD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;AACjC;;CAEC;;;AACM,SAAS;IACZ,IAAI;QACA,IAAI;IACR,EACA,OAAO,GAAG;QACN,MAAM,IAAI,MAAM;IACpB;AACJ","ignoreList":[0]}},
    {"offset": {"line": 6056, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@connectrpc/connect-web/dist/esm/connect-transport.js"],"sourcesContent":["// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { Message, MethodIdempotency, MethodKind } from \"@bufbuild/protobuf\";\nimport { Code, ConnectError, appendHeaders, createContextValues, } from \"@connectrpc/connect\";\nimport { createClientMethodSerializers, createEnvelopeReadableStream, createMethodUrl, getJsonOptions, encodeEnvelope, runStreamingCall, runUnaryCall, compressedFlag, } from \"@connectrpc/connect/protocol\";\nimport { endStreamFlag, endStreamFromJson, errorFromJson, requestHeader, trailerDemux, transformConnectPostToGetRequest, validateResponse, } from \"@connectrpc/connect/protocol-connect\";\nimport { assertFetchApi } from \"./assert-fetch-api.js\";\n/**\n * Create a Transport for the Connect protocol, which makes unary and\n * server-streaming methods available to web browsers. It uses the fetch\n * API to make HTTP requests.\n */\nexport function createConnectTransport(options) {\n    var _a;\n    assertFetchApi();\n    const useBinaryFormat = (_a = options.useBinaryFormat) !== null && _a !== void 0 ? _a : false;\n    return {\n        async unary(service, method, signal, timeoutMs, header, message, contextValues) {\n            var _a;\n            const { serialize, parse } = createClientMethodSerializers(method, useBinaryFormat, options.jsonOptions, options.binaryOptions);\n            timeoutMs =\n                timeoutMs === undefined\n                    ? options.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return await runUnaryCall({\n                interceptors: options.interceptors,\n                signal,\n                timeoutMs,\n                req: {\n                    stream: false,\n                    service,\n                    method,\n                    url: createMethodUrl(options.baseUrl, service, method),\n                    init: {\n                        method: \"POST\",\n                        credentials: (_a = options.credentials) !== null && _a !== void 0 ? _a : \"same-origin\",\n                        redirect: \"error\",\n                        mode: \"cors\",\n                    },\n                    header: requestHeader(method.kind, useBinaryFormat, timeoutMs, header, false),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : createContextValues(),\n                    message,\n                },\n                next: async (req) => {\n                    var _a;\n                    const useGet = options.useHttpGet === true &&\n                        method.idempotency === MethodIdempotency.NoSideEffects;\n                    let body = null;\n                    if (useGet) {\n                        req = transformConnectPostToGetRequest(req, serialize(req.message), useBinaryFormat);\n                    }\n                    else {\n                        body = serialize(req.message);\n                    }\n                    const fetch = (_a = options.fetch) !== null && _a !== void 0 ? _a : globalThis.fetch;\n                    const response = await fetch(req.url, Object.assign(Object.assign({}, req.init), { headers: req.header, signal: req.signal, body }));\n                    const { isUnaryError, unaryError } = validateResponse(method.kind, useBinaryFormat, response.status, response.headers);\n                    if (isUnaryError) {\n                        throw errorFromJson((await response.json()), appendHeaders(...trailerDemux(response.headers)), unaryError);\n                    }\n                    const [demuxedHeader, demuxedTrailer] = trailerDemux(response.headers);\n                    return {\n                        stream: false,\n                        service,\n                        method,\n                        header: demuxedHeader,\n                        message: useBinaryFormat\n                            ? parse(new Uint8Array(await response.arrayBuffer()))\n                            : method.O.fromJson((await response.json()), getJsonOptions(options.jsonOptions)),\n                        trailer: demuxedTrailer,\n                    };\n                },\n            });\n        },\n        async stream(service, method, signal, timeoutMs, header, input, contextValues) {\n            var _a;\n            const { serialize, parse } = createClientMethodSerializers(method, useBinaryFormat, options.jsonOptions, options.binaryOptions);\n            function parseResponseBody(body, trailerTarget, header, signal) {\n                return __asyncGenerator(this, arguments, function* parseResponseBody_1() {\n                    const reader = createEnvelopeReadableStream(body).getReader();\n                    let endStreamReceived = false;\n                    for (;;) {\n                        const result = yield __await(reader.read());\n                        if (result.done) {\n                            break;\n                        }\n                        const { flags, data } = result.value;\n                        if ((flags & compressedFlag) === compressedFlag) {\n                            throw new ConnectError(`protocol error: received unsupported compressed output`, Code.Internal);\n                        }\n                        if ((flags & endStreamFlag) === endStreamFlag) {\n                            endStreamReceived = true;\n                            const endStream = endStreamFromJson(data);\n                            if (endStream.error) {\n                                const error = endStream.error;\n                                header.forEach((value, key) => {\n                                    error.metadata.append(key, value);\n                                });\n                                throw error;\n                            }\n                            endStream.metadata.forEach((value, key) => trailerTarget.set(key, value));\n                            continue;\n                        }\n                        yield yield __await(parse(data));\n                    }\n                    // Node wil not throw an AbortError on `read` if the\n                    // signal is aborted before `getReader` is called.\n                    // As a work around we check at the end and throw.\n                    //\n                    // Ref: https://github.com/nodejs/undici/issues/1940\n                    if (\"throwIfAborted\" in signal) {\n                        // We assume that implementations without `throwIfAborted` (old\n                        // browsers) do honor aborted signals on `read`.\n                        signal.throwIfAborted();\n                    }\n                    if (!endStreamReceived) {\n                        throw \"missing EndStreamResponse\";\n                    }\n                });\n            }\n            async function createRequestBody(input) {\n                if (method.kind != MethodKind.ServerStreaming) {\n                    throw \"The fetch API does not support streaming request bodies\";\n                }\n                const r = await input[Symbol.asyncIterator]().next();\n                if (r.done == true) {\n                    throw \"missing request message\";\n                }\n                return encodeEnvelope(0, serialize(r.value));\n            }\n            timeoutMs =\n                timeoutMs === undefined\n                    ? options.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return await runStreamingCall({\n                interceptors: options.interceptors,\n                timeoutMs,\n                signal,\n                req: {\n                    stream: true,\n                    service,\n                    method,\n                    url: createMethodUrl(options.baseUrl, service, method),\n                    init: {\n                        method: \"POST\",\n                        credentials: (_a = options.credentials) !== null && _a !== void 0 ? _a : \"same-origin\",\n                        redirect: \"error\",\n                        mode: \"cors\",\n                    },\n                    header: requestHeader(method.kind, useBinaryFormat, timeoutMs, header, false),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : createContextValues(),\n                    message: input,\n                },\n                next: async (req) => {\n                    var _a;\n                    const fetch = (_a = options.fetch) !== null && _a !== void 0 ? _a : globalThis.fetch;\n                    const fRes = await fetch(req.url, Object.assign(Object.assign({}, req.init), { headers: req.header, signal: req.signal, body: await createRequestBody(req.message) }));\n                    validateResponse(method.kind, useBinaryFormat, fRes.status, fRes.headers);\n                    if (fRes.body === null) {\n                        throw \"missing response body\";\n                    }\n                    const trailer = new Headers();\n                    const res = Object.assign(Object.assign({}, req), { header: fRes.headers, trailer, message: parseResponseBody(fRes.body, trailer, fRes.headers, req.signal) });\n                    return res;\n                },\n            });\n        },\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6308, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/transport/edge-light.js"],"sourcesContent":["import { createConnectTransport } from '@connectrpc/connect-web';\n\n// This file is used when running on the `edge-light` condition.\n// Specifically Edge by Vercel.\n// It is the same as `workerd.ts`, which runs on Cloudflare.\n// It uses DOM based APIs (`@connectrpc/connect-web`) to connect to the API.\n// Differing from `bun.ts` this solves the `redirect` option set to `error`\n// inside `connect` as that does not work on the edge.\n//\n// For more information, see:\n//\n// * <https://github.com/connectrpc/connect-es/pull/589>\n// * <https://github.com/connectrpc/connect-es/issues/749#issuecomment-1693507516>\n// * <https://github.com/connectrpc/connect-es/pull/1082>\n// * <https://github.com/e2b-dev/E2B/pull/669/files>\nfunction createTransport(baseUrl) {\n    return createConnectTransport({\n        baseUrl,\n        interceptors: [\n            (next) => (req) => {\n                req.init.redirect = \"follow\";\n                return next(req);\n            },\n        ],\n        fetch,\n    });\n}\n\nexport { createTransport };\n"],"names":[],"mappings":";;;AAAA;;AAEA,gEAAgE;AAChE,+BAA+B;AAC/B,4DAA4D;AAC5D,4EAA4E;AAC5E,2EAA2E;AAC3E,sDAAsD;AACtD,EAAE;AACF,6BAA6B;AAC7B,EAAE;AACF,wDAAwD;AACxD,kFAAkF;AAClF,yDAAyD;AACzD,oDAAoD;AACpD,SAAS,gBAAgB,OAAO;IAC5B,OAAO,IAAA,uNAAsB,EAAC;QAC1B;QACA,cAAc;YACV,CAAC,OAAS,CAAC;oBACP,IAAI,IAAI,CAAC,QAAQ,GAAG;oBACpB,OAAO,KAAK;gBAChB;SACH;QACD;IACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 6345, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/next/index.js"],"sourcesContent":["import { NextResponse } from 'next/server.js';\nimport { headers, cookies } from 'next/headers.js';\nimport core__default from 'arcjet';\nexport * from 'arcjet';\nimport { readBodyWeb } from '@arcjet/body';\nimport findIp, { parseProxy } from '@arcjet/ip';\nimport { ArcjetHeaders } from '@arcjet/headers';\nimport { logLevel, isDevelopment, baseUrl, platform } from '@arcjet/env';\nimport { Logger } from '@arcjet/logger';\nimport { createClient } from '@arcjet/protocol/client.js';\nimport { createTransport } from '@arcjet/transport';\n\n/**\n * Get minimal request details (cookies, headers).\n *\n * This function can be used in server components, server actions,\n * route handlers, and middleware.\n *\n * @returns\n *   Promise that resolves to the request details.\n */\nasync function request() {\n    const hdrs = await headers();\n    const cook = await cookies();\n    const cookieEntries = cook\n        .getAll()\n        .map((cookie) => [cookie.name, cookie.value]);\n    return {\n        headers: hdrs,\n        cookies: Object.fromEntries(cookieEntries),\n    };\n}\n/**\n * Create a remote client.\n *\n * @param options\n *   Configuration (optional).\n * @returns\n *   Client.\n */\nfunction createRemoteClient(options) {\n    const url = options?.baseUrl ?? baseUrl(process.env);\n    const timeout = options?.timeout ?? (isDevelopment(process.env) ? 1000 : 500);\n    // Transport is the HTTP client that the client uses to make requests.\n    const transport = createTransport(url);\n    const sdkStack = \"NEXTJS\";\n    const sdkVersion = \"1.0.0-beta.17\";\n    return createClient({\n        transport,\n        baseUrl: url,\n        timeout,\n        sdkStack,\n        sdkVersion,\n    });\n}\nfunction isIterable(val) {\n    return typeof val?.[Symbol.iterator] === \"function\";\n}\nfunction cookiesToArray(cookies) {\n    if (typeof cookies === \"undefined\") {\n        return [];\n    }\n    if (isIterable(cookies)) {\n        return Array.from(cookies).map(([_, cookie]) => cookie);\n    }\n    else {\n        return Object.entries(cookies).map(([name, value]) => ({\n            name,\n            value: value ?? \"\",\n        }));\n    }\n}\nfunction cookiesToString(cookies) {\n    // This is essentially the implementation of `RequestCookies#toString` in\n    // Next.js but normalized for NextApiRequest cookies object\n    return cookiesToArray(cookies)\n        .map((v) => `${v.name}=${encodeURIComponent(v.value)}`)\n        .join(\"; \");\n}\n/**\n * Create a new Next.js integration of Arcjet.\n *\n * >  **Tip**:\n * > build your initial base client with as many rules as possible outside of a\n * > request handler;\n * > if you need more rules inside handlers later then you can call `withRule()`\n * > on that base client.\n *\n * @template Rules\n *   List of rules.\n * @template Characteristics\n *   Characteristics to track a user by.\n * @param options\n *   Configuration.\n * @returns\n *   Next.js integration of Arcjet.\n */\nfunction arcjet(options) {\n    const client = options.client ?? createRemoteClient();\n    const log = options.log\n        ? options.log\n        : new Logger({\n            level: logLevel(process.env),\n        });\n    const proxies = Array.isArray(options.proxies)\n        ? options.proxies.map(parseProxy)\n        : undefined;\n    if (isDevelopment(process.env)) {\n        log.warn(\"Arcjet will use 127.0.0.1 when missing public IP address in development mode\");\n    }\n    function toArcjetRequest(request, props) {\n        // We construct an ArcjetHeaders to normalize over Headers\n        const headers = new ArcjetHeaders(request.headers);\n        const xArcjetIp = isDevelopment(process.env)\n            ? headers.get(\"x-arcjet-ip\")\n            : undefined;\n        let ip = xArcjetIp ||\n            findIp({\n                ip: request.ip,\n                socket: request.socket,\n                info: request.info,\n                requestContext: request.requestContext,\n                headers,\n            }, { platform: platform(process.env), proxies });\n        if (ip === \"\") {\n            // If the `ip` is empty but we're in development mode, we default the IP\n            // so the request doesn't fail.\n            if (isDevelopment(process.env)) {\n                ip = \"127.0.0.1\";\n            }\n            else {\n                log.warn(`Client IP address is missing. If this is a dev environment set the ARCJET_ENV env var to \"development\"`);\n            }\n        }\n        const method = request.method ?? \"\";\n        const host = headers.get(\"host\") ?? \"\";\n        let path = \"\";\n        let query = \"\";\n        let protocol = \"\";\n        // TODO(#36): nextUrl has formatting logic when you `toString` but\n        // we don't account for that here\n        if (typeof request.nextUrl !== \"undefined\") {\n            path = request.nextUrl.pathname ?? \"\";\n            if (typeof request.nextUrl.search !== \"undefined\") {\n                query = request.nextUrl.search;\n            }\n            if (typeof request.nextUrl.protocol !== \"undefined\") {\n                protocol = request.nextUrl.protocol;\n            }\n        }\n        else {\n            if (typeof request.socket?.encrypted !== \"undefined\") {\n                protocol = request.socket.encrypted ? \"https:\" : \"http:\";\n            }\n            else {\n                protocol = \"http:\";\n            }\n            // Do some very simple validation, but also try/catch around URL parsing\n            if (typeof request.url !== \"undefined\" &&\n                request.url !== \"\" &&\n                host !== \"\") {\n                try {\n                    const url = new URL(request.url, `${protocol}//${host}`);\n                    path = url.pathname;\n                    query = url.search;\n                    protocol = url.protocol;\n                }\n                catch {\n                    // If the parsing above fails, just set the path as whatever url we\n                    // received.\n                    path = request.url ?? \"\";\n                    log.warn('Unable to parse URL. Using \"%s\" as `path`.', path);\n                }\n            }\n            else {\n                path = request.url ?? \"\";\n            }\n        }\n        const cookies = cookiesToString(request.cookies);\n        const extra = {};\n        // If we're running on Vercel, we can add some extra information\n        if (process.env[\"VERCEL\"]) {\n            // Vercel ID https://vercel.com/docs/concepts/edge-network/headers\n            extra[\"vercel-id\"] = headers.get(\"x-vercel-id\") ?? \"\";\n            // Vercel deployment URL\n            // https://vercel.com/docs/concepts/edge-network/headers\n            extra[\"vercel-deployment-url\"] =\n                headers.get(\"x-vercel-deployment-url\") ?? \"\";\n            // Vercel git commit SHA\n            // https://vercel.com/docs/environment-variables/system-environment-variables#VERCEL_GIT_COMMIT_SHA\n            extra[\"vercel-git-commit-sha\"] =\n                process.env[\"VERCEL_GIT_COMMIT_SHA\"] ?? \"\";\n        }\n        return {\n            ...props,\n            ...extra,\n            ip,\n            method,\n            protocol,\n            host,\n            path,\n            headers,\n            cookies,\n            query,\n        };\n    }\n    function withClient(aj) {\n        return Object.freeze({\n            withRule(rule) {\n                const client = aj.withRule(rule);\n                return withClient(client);\n            },\n            async protect(request, ...[props]) {\n                // TODO(#220): The generic manipulations get really mad here, so we cast\n                // Further investigation makes it seem like it has something to do with\n                // the definition of `props` in the signature but it's hard to track down\n                const req = toArcjetRequest(request, props ?? {});\n                const getBody = async () => {\n                    if (typeof request.clone === \"function\") {\n                        const clonedRequest = request.clone();\n                        let expectedLength;\n                        // TODO: This shouldn't need to build headers again but the type\n                        // for `req` above is overly relaxed\n                        const headers = new ArcjetHeaders(request.headers);\n                        const expectedLengthString = headers.get(\"content-length\");\n                        if (typeof expectedLengthString === \"string\") {\n                            expectedLength = parseInt(expectedLengthString, 10);\n                        }\n                        // HEAD and GET requests do not have a body.\n                        if (!clonedRequest.body) {\n                            throw new Error(\"Cannot read body: body is missing\");\n                        }\n                        return readBodyWeb(clonedRequest.body, { expectedLength });\n                    }\n                    // The body is `null` if there was no body with the request.\n                    // See: <https://nextjs.org/docs/pages/building-your-application/routing/api-routes#request-helpers>\n                    if (request.body === null || request.body === undefined) {\n                        throw new Error(\"Cannot read body: body is missing\");\n                    }\n                    if (typeof request.body === \"string\") {\n                        return request.body;\n                    }\n                    return JSON.stringify(request.body);\n                };\n                return aj.protect({ getBody }, req);\n            },\n        });\n    }\n    const aj = core__default({ ...options, client, log });\n    return withClient(aj);\n}\n/**\n * Protect your Next.js application using Arcjet as middleware.\n *\n * @param arcjet\n *   Next.js integration of Arcjet.\n * @param existingMiddleware\n *   Existing middleware to be called after Arcjet decides that a request is\n *   allowed.\n * @returns\n *   Next.js middleware that will run Arcjet and when it allows the request\n *   call further middleware,\n *   but when it denies the request will immediately return a JSON\n *   `NextResponse` with `403` or `429`.\n */\nfunction createMiddleware(arcjet, existingMiddleware) {\n    return async function middleware(request, event) {\n        const decision = await arcjet.protect(request);\n        if (decision.isDenied()) {\n            // TODO(#222): Content type negotiation using `Accept` header\n            if (decision.reason.isRateLimit()) {\n                return NextResponse.json({ code: 429, message: \"Too Many Requests\" }, { status: 429 });\n            }\n            else {\n                return NextResponse.json({ code: 403, message: \"Forbidden\" }, { status: 403 });\n            }\n        }\n        else {\n            if (typeof existingMiddleware === \"function\") {\n                return existingMiddleware(request, event);\n            }\n            else {\n                return NextResponse.next();\n            }\n        }\n    };\n}\nfunction isNextApiResponse(val) {\n    if (val === null) {\n        return false;\n    }\n    if (typeof val !== \"object\") {\n        return false;\n    }\n    if (!(\"status\" in val)) {\n        return false;\n    }\n    if (!(\"json\" in val)) {\n        return false;\n    }\n    if (typeof val.status !== \"function\" || typeof val.json !== \"function\") {\n        return false;\n    }\n    return true;\n}\n/**\n * Wrap a Next.js page route, edge middleware, or an API route running on the\n * Edge Runtime.\n *\n * @param arcjet\n *   Next.js integration of Arcjet.\n * @param handler\n *   Request handler to be called after Arcjet decides that a request is\n *   allowed.\n * @returns\n *   Function that will run Arcjet on a request and when it is allowed call\n *   `handler`,\n *   but when it is denied will immediately return a JSON `NextResponse` or\n *   `NextApiResponse` with `403` or `429`.\n */\nfunction withArcjet(arcjet, handler) {\n    return async (...args) => {\n        const request = args[0];\n        const response = args[1];\n        const decision = await arcjet.protect(request);\n        if (decision.isDenied()) {\n            if (isNextApiResponse(response)) {\n                // TODO(#222): Content type negotiation using `Accept` header\n                if (decision.reason.isRateLimit()) {\n                    return response\n                        .status(429)\n                        .json({ code: 429, message: \"Too Many Requests\" });\n                }\n                else {\n                    return response.status(403).json({ code: 403, message: \"Forbidden\" });\n                }\n            }\n            else {\n                // TODO(#222): Content type negotiation using `Accept` header\n                if (decision.reason.isRateLimit()) {\n                    return NextResponse.json({ code: 429, message: \"Too Many Requests\" }, { status: 429 });\n                }\n                else {\n                    return NextResponse.json({ code: 403, message: \"Forbidden\" }, { status: 403 });\n                }\n            }\n        }\n        else {\n            return handler(...args);\n        }\n    };\n}\n\nexport { createMiddleware, createRemoteClient, arcjet as default, request, withArcjet };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6754, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@t3-oss/env-core/dist/standard.js","sources":["turbopack:///[project]/node_modules/@t3-oss/env-core/src/standard.ts"],"sourcesContent":["/** The Standard Schema interface. */\nexport interface StandardSchemaV1<Input = unknown, Output = Input> {\n  /** The Standard Schema properties. */\n  readonly \"~standard\": StandardSchemaV1.Props<Input, Output>;\n}\n\nexport declare namespace StandardSchemaV1 {\n  /** The Standard Schema properties interface. */\n  export interface Props<Input = unknown, Output = Input> {\n    /** The version number of the standard. */\n    readonly version: 1;\n    /** The vendor name of the schema library. */\n    readonly vendor: string;\n    /** Validates unknown input values. */\n    readonly validate: (value: unknown) => Result<Output> | Promise<Result<Output>>;\n    /** Inferred types associated with the schema. */\n    readonly types?: Types<Input, Output> | undefined;\n  }\n\n  /** The result interface of the validate function. */\n  export type Result<Output> = SuccessResult<Output> | FailureResult;\n\n  /** The result interface if validation succeeds. */\n  export interface SuccessResult<Output> {\n    /** The typed output value. */\n    readonly value: Output;\n    /** The non-existent issues. */\n    readonly issues?: undefined;\n  }\n\n  /** The result interface if validation fails. */\n  export interface FailureResult {\n    /** The issues of failed validation. */\n    readonly issues: ReadonlyArray<Issue>;\n  }\n\n  /** The issue interface of the failure output. */\n  export interface Issue {\n    /** The error message of the issue. */\n    readonly message: string;\n    /** The path of the issue, if any. */\n    readonly path?: ReadonlyArray<PropertyKey | PathSegment> | undefined;\n  }\n\n  /** The path segment interface of the issue. */\n  export interface PathSegment {\n    /** The key representing a path segment. */\n    readonly key: PropertyKey;\n  }\n\n  /** The Standard Schema types interface. */\n  export interface Types<Input = unknown, Output = Input> {\n    /** The input type of the schema. */\n    readonly input: Input;\n    /** The output type of the schema. */\n    readonly output: Output;\n  }\n\n  /** Infers the input type of a Standard Schema. */\n  export type InferInput<Schema extends StandardSchemaV1> = NonNullable<\n    Schema[\"~standard\"][\"types\"]\n  >[\"input\"];\n\n  /** Infers the output type of a Standard Schema. */\n  export type InferOutput<Schema extends StandardSchemaV1> = NonNullable<\n    Schema[\"~standard\"][\"types\"]\n  >[\"output\"];\n}\n\nexport type StandardSchemaDictionary<\n  Input = Record<string, unknown>,\n  Output extends Record<keyof Input, unknown> = Input,\n> = {\n  [K in keyof Input]-?: StandardSchemaV1<Input[K], Output[K]>;\n};\n\nexport namespace StandardSchemaDictionary {\n  export type InferInput<T extends StandardSchemaDictionary> = {\n    [K in keyof T]: StandardSchemaV1.InferInput<T[K]>;\n  };\n  export type InferOutput<T extends StandardSchemaDictionary> = {\n    [K in keyof T]: StandardSchemaV1.InferOutput<T[K]>;\n  };\n}\n\nexport function ensureSynchronous<T>(value: T | Promise<T>, message: string): asserts value is T {\n  if (value instanceof Promise) {\n    throw new Error(message);\n  }\n}\n\nexport function parseWithDictionary<TDict extends StandardSchemaDictionary>(\n  dictionary: TDict,\n  value: Record<string, unknown>,\n): StandardSchemaV1.Result<StandardSchemaDictionary.InferOutput<TDict>> {\n  const result: Record<string, unknown> = {};\n  const issues: StandardSchemaV1.Issue[] = [];\n  for (const key in dictionary) {\n    const propResult = dictionary[key][\"~standard\"].validate(value[key]);\n\n    ensureSynchronous(propResult, `Validation must be synchronous, but ${key} returned a Promise.`);\n\n    if (propResult.issues) {\n      issues.push(\n        ...propResult.issues.map((issue) => ({\n          ...issue,\n          message: issue.message, // https://github.com/t3-oss/t3-env/pull/346\n          path: [key, ...(issue.path ?? [])],\n        })),\n      );\n      continue;\n    }\n    result[key] = propResult.value;\n  }\n  if (issues.length) {\n    return { issues };\n  }\n  return { value: result as never };\n}\n"],"names":["result: Record<string, unknown>","issues: StandardSchemaV1.Issue[]"],"mappings":";;;;;AAqFA,SAAgB,kBAAqB,KAAA,EAAuB,OAAA,EAAqC;IAC/F,IAAI,iBAAiB,QACnB,CAAA,MAAM,IAAI,MAAM,QAAQ;;AAI5B,SAAgB,oBACd,UAAA,EACA,KAAA,EACsE;IACtE,MAAMA,SAAkC,CAAA,CAAE;IAC1C,MAAMC,SAAmC,EAAE;IAC3C,IAAK,MAAM,OAAO,WAAY;QAC5B,MAAM,aAAa,UAAA,CAAW,IAAA,CAAK,YAAA,CAAa,QAAA,CAAS,KAAA,CAAM,IAAA,CAAK;QAEpE,kBAAkB,YAAY,CAAA,oCAAA,EAAuC,IAAI,oBAAA,CAAA,CAAsB;QAE/F,IAAI,WAAW,MAAA,EAAQ;YACrB,OAAO,IAAA,CACL,GAAG,WAAW,MAAA,CAAO,GAAA,CAAA,CAAK,QAAA,CAAW;oBACnC,GAAG,KAAA;oBACH,SAAS,MAAM,OAAA;oBACf,MAAM;wBAAC,KAAK;2BAAI,MAAM,IAAA,IAAQ,EAAE;qBAAE;iBACnC,EAAE,CACJ;YACD;;QAEF,MAAA,CAAO,IAAA,GAAO,WAAW,KAAA;;IAE3B,IAAI,OAAO,MAAA,CACT,CAAA,OAAO;QAAE;IAAA,CAAQ;IAEnB,OAAO;QAAE,OAAO;IAAA,CAAiB"}},
    {"offset": {"line": 6794, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@t3-oss/env-core/dist/index.js","sources":["turbopack:///[project]/node_modules/@t3-oss/env-core/src/index.ts"],"sourcesContent":["/**\n * This is the core package of t3-env.\n * It contains the `createEnv` function that you can use to create your schema.\n * @module\n */\nimport type { StandardSchemaDictionary, StandardSchemaV1 } from \"./standard.ts\";\nimport { ensureSynchronous, parseWithDictionary } from \"./standard.ts\";\n\nexport type {\n  /**\n   * The Standard Schema Interface\n   * @see https://github.com/standard-schema/standard-schema\n   * @internal\n   */\n  StandardSchemaV1,\n  /**\n   * A record with values being Standard Schema validators\n   * @see https://github.com/standard-schema/standard-schema\n   * @internal\n   */\n  StandardSchemaDictionary,\n};\n\n/**\n * Symbol for indicating type errors\n * @internal\n */\ntype ErrorMessage<T extends string> = T;\n\n/**\n * Simplify a type\n * @internal\n */\ntype Simplify<T> = {\n  [P in keyof T]: T[P];\n} & {};\n\n/**\n * Get the keys of the possibly undefined values\n * @internal\n */\ntype PossiblyUndefinedKeys<T> = {\n  [K in keyof T]: undefined extends T[K] ? K : never;\n}[keyof T];\n\n/**\n * Make the keys of the type possibly undefined\n * @internal\n */\ntype UndefinedOptional<T> = Partial<Pick<T, PossiblyUndefinedKeys<T>>> &\n  Omit<T, PossiblyUndefinedKeys<T>>;\n\n/**\n * Make the keys of the type impossible\n * @internal\n */\ntype Impossible<T extends Record<string, any>> = Partial<Record<keyof T, never>>;\n\n/**\n * Reverse a Readonly object to be mutable\n * @internal\n */\ntype Mutable<T> = T extends Readonly<infer U> ? U : T;\n\n/**\n * Reduce an array of records to a single object where later keys override earlier ones\n * @internal\n */\ntype Reduce<TArr extends Record<string, unknown>[], TAcc = object> = TArr extends []\n  ? TAcc\n  : TArr extends [infer Head, ...infer Tail]\n    ? Tail extends Record<string, unknown>[]\n      ? Mutable<Head> & Omit<Reduce<Tail, TAcc>, keyof Head>\n      : never\n    : never;\n\n/**\n * The options that can be passed to the `createEnv` function.\n */\nexport interface BaseOptions<\n  TShared extends StandardSchemaDictionary,\n  TExtends extends Array<Record<string, unknown>>,\n> {\n  /**\n   * How to determine whether the app is running on the server or the client.\n   * @default typeof window === \"undefined\"\n   */\n  isServer?: boolean;\n\n  /**\n   * Shared variables, often those that are provided by build tools and is available to both client and server,\n   * but isn't prefixed and doesn't require to be manually supplied. For example `NODE_ENV`, `VERCEL_URL` etc.\n   */\n  shared?: TShared;\n\n  /**\n   * Extend presets\n   */\n  extends?: TExtends;\n\n  /**\n   * Called when validation fails. By default the error is logged,\n   * and an error is thrown telling what environment variables are invalid.\n   */\n  onValidationError?: (issues: readonly StandardSchemaV1.Issue[]) => never;\n\n  /**\n   * Called when a server-side environment variable is accessed on the client.\n   * By default an error is thrown.\n   */\n  onInvalidAccess?: (variable: string) => never;\n\n  /**\n   * Whether to skip validation of environment variables.\n   * @default false\n   */\n  skipValidation?: boolean;\n\n  /**\n   * By default, this library will feed the environment variables directly to\n   * the Zod validator.\n   *\n   * This means that if you have an empty string for a value that is supposed\n   * to be a number (e.g. `PORT=` in a \".env\" file), Zod will incorrectly flag\n   * it as a type mismatch violation. Additionally, if you have an empty string\n   * for a value that is supposed to be a string with a default value (e.g.\n   * `DOMAIN=` in an \".env\" file), the default value will never be applied.\n   *\n   * In order to solve these issues, we recommend that all new projects\n   * explicitly specify this option as true.\n   */\n  emptyStringAsUndefined?: boolean;\n}\n\n/**\n * Using this interface doesn't validate all environment variables are specified\n * in the `runtimeEnv` object. You may want to use `StrictOptions` instead if\n * your framework performs static analysis and tree-shakes unused variables.\n */\nexport interface LooseOptions<\n  TShared extends StandardSchemaDictionary,\n  TExtends extends Array<Record<string, unknown>>,\n> extends BaseOptions<TShared, TExtends> {\n  runtimeEnvStrict?: never;\n\n  /**\n   * What object holds the environment variables at runtime. This is usually\n   * `process.env` or `import.meta.env`.\n   */\n  // Unlike `runtimeEnvStrict`, this doesn't enforce that all environment variables are set.\n  runtimeEnv: Record<string, string | boolean | number | undefined>;\n}\n\n/**\n * Using this interface validates all environment variables are specified\n * in the `runtimeEnv` object. If you miss one, you'll get a type error. Useful\n * if you want to make sure all environment variables are set for frameworks that\n * perform static analysis and tree-shakes unused variables.\n */\nexport interface StrictOptions<\n  TPrefix extends string | undefined,\n  TServer extends StandardSchemaDictionary,\n  TClient extends StandardSchemaDictionary,\n  TShared extends StandardSchemaDictionary,\n  TExtends extends Array<Record<string, unknown>>,\n> extends BaseOptions<TShared, TExtends> {\n  /**\n   * Runtime Environment variables to use for validation - `process.env`, `import.meta.env` or similar.\n   * Enforces all environment variables to be set. Required in for example Next.js Edge and Client runtimes.\n   */\n  runtimeEnvStrict: Record<\n    | {\n        [TKey in keyof TClient]: TPrefix extends undefined\n          ? never\n          : TKey extends `${TPrefix}${string}`\n            ? TKey\n            : never;\n      }[keyof TClient]\n    | {\n        [TKey in keyof TServer]: TPrefix extends undefined\n          ? TKey\n          : TKey extends `${TPrefix}${string}`\n            ? never\n            : TKey;\n      }[keyof TServer]\n    | {\n        [TKey in keyof TShared]: TKey extends string ? TKey : never;\n      }[keyof TShared],\n    string | boolean | number | undefined\n  >;\n  runtimeEnv?: never;\n}\n\n/**\n * This interface is used to define the client-side environment variables.\n * It's used in conjunction with the `clientPrefix` option to ensure\n * that all client-side variables are prefixed with the same string.\n * Common examples of prefixes are `NEXT_PUBLIC_`, `NUXT_PUBLIC` or `PUBLIC_`.\n */\nexport interface ClientOptions<\n  TPrefix extends string | undefined,\n  TClient extends StandardSchemaDictionary,\n> {\n  /**\n   * The prefix that client-side variables must have. This is enforced both at\n   * a type-level and at runtime.\n   */\n  clientPrefix: TPrefix;\n\n  /**\n   * Specify your client-side environment variables schema here. This way you can ensure the app isn't\n   * built with invalid env vars.\n   */\n  client: Partial<{\n    [TKey in keyof TClient]: TKey extends `${TPrefix}${string}`\n      ? TClient[TKey]\n      : ErrorMessage<`${TKey extends string ? TKey : never} is not prefixed with ${TPrefix}.`>;\n  }>;\n}\n\n/**\n * This interface is used to define the schema for your\n * server-side environment variables.\n */\nexport interface ServerOptions<\n  TPrefix extends string | undefined,\n  TServer extends StandardSchemaDictionary,\n> {\n  /**\n   * Specify your server-side environment variables schema here. This way you can ensure the app isn't\n   * built with invalid env vars.\n   */\n  server: Partial<{\n    [TKey in keyof TServer]: TPrefix extends undefined\n      ? TServer[TKey]\n      : TPrefix extends \"\"\n        ? TServer[TKey]\n        : TKey extends `${TPrefix}${string}`\n          ? ErrorMessage<`${TKey extends `${TPrefix}${string}`\n              ? TKey\n              : never} should not prefixed with ${TPrefix}.`>\n          : TServer[TKey];\n  }>;\n}\n\nexport interface CreateSchemaOptions<\n  TServer extends StandardSchemaDictionary,\n  TClient extends StandardSchemaDictionary,\n  TShared extends StandardSchemaDictionary,\n  TFinalSchema extends StandardSchemaV1<{}, {}>,\n> {\n  /**\n   * A custom function to combine the schemas.\n   * Can be used to add further refinement or transformation.\n   */\n  createFinalSchema?: (shape: TServer & TClient & TShared, isServer: boolean) => TFinalSchema;\n}\n\nexport type ServerClientOptions<\n  TPrefix extends string | undefined,\n  TServer extends StandardSchemaDictionary,\n  TClient extends StandardSchemaDictionary,\n> =\n  | (ClientOptions<TPrefix, TClient> & ServerOptions<TPrefix, TServer>)\n  | (ServerOptions<TPrefix, TServer> & Impossible<ClientOptions<never, never>>)\n  | (ClientOptions<TPrefix, TClient> & Impossible<ServerOptions<never, never>>);\n\nexport type EnvOptions<\n  TPrefix extends string | undefined,\n  TServer extends StandardSchemaDictionary,\n  TClient extends StandardSchemaDictionary,\n  TShared extends StandardSchemaDictionary,\n  TExtends extends Array<Record<string, unknown>>,\n  TFinalSchema extends StandardSchemaV1<{}, {}>,\n> = (\n  | (LooseOptions<TShared, TExtends> & ServerClientOptions<TPrefix, TServer, TClient>)\n  | (StrictOptions<TPrefix, TServer, TClient, TShared, TExtends> &\n      ServerClientOptions<TPrefix, TServer, TClient>)\n) &\n  CreateSchemaOptions<TServer, TClient, TShared, TFinalSchema>;\n\ntype TPrefixFormat = string | undefined;\ntype TServerFormat = StandardSchemaDictionary;\ntype TClientFormat = StandardSchemaDictionary;\ntype TSharedFormat = StandardSchemaDictionary;\ntype TExtendsFormat = Array<Record<string, unknown>>;\n\nexport type DefaultCombinedSchema<\n  TServer extends TServerFormat,\n  TClient extends TClientFormat,\n  TShared extends TSharedFormat,\n> = StandardSchemaV1<\n  {},\n  UndefinedOptional<StandardSchemaDictionary.InferOutput<TServer & TClient & TShared>>\n>;\n\nexport type CreateEnv<\n  TFinalSchema extends StandardSchemaV1<{}, {}>,\n  TExtends extends TExtendsFormat,\n> = Readonly<Simplify<Reduce<[StandardSchemaV1.InferOutput<TFinalSchema>, ...TExtends]>>>;\n\n/**\n * Create a new environment variable schema.\n */\nexport function createEnv<\n  TPrefix extends TPrefixFormat,\n  TServer extends TServerFormat = NonNullable<unknown>,\n  TClient extends TClientFormat = NonNullable<unknown>,\n  TShared extends TSharedFormat = NonNullable<unknown>,\n  const TExtends extends TExtendsFormat = [],\n  TFinalSchema extends StandardSchemaV1<{}, {}> = DefaultCombinedSchema<TServer, TClient, TShared>,\n>(\n  opts: EnvOptions<TPrefix, TServer, TClient, TShared, TExtends, TFinalSchema>,\n): CreateEnv<TFinalSchema, TExtends> {\n  const runtimeEnv = opts.runtimeEnvStrict ?? opts.runtimeEnv ?? process.env;\n\n  const emptyStringAsUndefined = opts.emptyStringAsUndefined ?? false;\n  if (emptyStringAsUndefined) {\n    for (const [key, value] of Object.entries(runtimeEnv)) {\n      if (value === \"\") {\n        delete runtimeEnv[key];\n      }\n    }\n  }\n\n  const skip = !!opts.skipValidation;\n  if (skip) {\n    if (opts.extends) {\n      for (const preset of opts.extends) {\n        preset.skipValidation = true;\n      }\n    }\n\n    // biome-ignore lint/suspicious/noExplicitAny: <explanation>\n    return runtimeEnv as any;\n  }\n\n  const _client = typeof opts.client === \"object\" ? opts.client : {};\n  const _server = typeof opts.server === \"object\" ? opts.server : {};\n  const _shared = typeof opts.shared === \"object\" ? opts.shared : {};\n  const isServer = opts.isServer ?? (typeof window === \"undefined\" || \"Deno\" in window);\n\n  const finalSchemaShape = isServer\n    ? {\n        ..._server,\n        ..._shared,\n        ..._client,\n      }\n    : {\n        ..._client,\n        ..._shared,\n      };\n\n  const finalSchema = opts.createFinalSchema?.(finalSchemaShape as never, isServer);\n  const parsed =\n    finalSchema?.[\"~standard\"].validate(runtimeEnv) ??\n    parseWithDictionary(finalSchemaShape, runtimeEnv);\n\n  ensureSynchronous(parsed, \"Validation must be synchronous\");\n\n  const onValidationError =\n    opts.onValidationError ??\n    ((issues) => {\n      console.error(\" Invalid environment variables:\", issues);\n      throw new Error(\"Invalid environment variables\");\n    });\n\n  const onInvalidAccess =\n    opts.onInvalidAccess ??\n    (() => {\n      throw new Error(\" Attempted to access a server-side environment variable on the client\");\n    });\n\n  if (parsed.issues) {\n    return onValidationError(parsed.issues);\n  }\n\n  const isServerAccess = (prop: string) => {\n    if (!opts.clientPrefix) return true;\n    return !prop.startsWith(opts.clientPrefix) && !(prop in _shared);\n  };\n  const isValidServerAccess = (prop: string) => {\n    return isServer || !isServerAccess(prop);\n  };\n  const ignoreProp = (prop: string) => {\n    return prop === \"__esModule\" || prop === \"$$typeof\";\n  };\n\n  const extendedObj = (opts.extends ?? []).reduce((acc, curr) => {\n    return Object.assign(acc, curr);\n  }, {});\n  const fullObj = Object.assign(extendedObj, parsed.value);\n\n  const env = new Proxy(fullObj, {\n    get(target, prop) {\n      if (typeof prop !== \"string\") return undefined;\n      if (ignoreProp(prop)) return undefined;\n      if (!isValidServerAccess(prop)) return onInvalidAccess(prop);\n      return Reflect.get(target, prop);\n    },\n    // Maybe reconsider this in the future:\n    // https://github.com/t3-oss/t3-env/pull/111#issuecomment-1682931526\n    // set(_target, prop) {\n    //   // Readonly - this is the error message you get from assigning to a frozen object\n    //   throw new Error(\n    //     typeof prop === \"string\"\n    //       ? `Cannot assign to read only property ${prop} of object #<Object>`\n    //       : `Cannot assign to read only property of object #<Object>`\n    //   );\n    // },\n  });\n\n  return env as any;\n}\n"],"names":[],"mappings":";;;;;;;;GAgTA,SAAgB,UAQd,IAAA,EACmC;IACnC,MAAM,aAAa,KAAK,gBAAA,IAAoB,KAAK,UAAA,IAAc,QAAQ,GAAA;IAGvE,IAD+B,KAAK,sBAAA,IAA0B,OAE5D;aAAK,MAAM,CAAC,KAAK,MAAA,IAAU,OAAO,OAAA,CAAQ,WAAW,CACnD,IAAI,UAAU,GACZ,CAAA,OAAO,UAAA,CAAW,IAAA;;IAMxB,IADa,CAAC,CAAC,KAAK,cAAA,EACV;QACR,IAAI,KAAK,OAAA,CACP,CAAA,KAAK,MAAM,UAAU,KAAK,OAAA,CACxB,OAAO,cAAA,GAAiB;QAK5B,OAAO;;IAGT,MAAM,UAAU,OAAO,KAAK,MAAA,KAAW,WAAW,KAAK,MAAA,GAAS,CAAA,CAAE;IAClE,MAAM,UAAU,OAAO,KAAK,MAAA,KAAW,WAAW,KAAK,MAAA,GAAS,CAAA,CAAE;IAClE,MAAM,UAAU,OAAO,KAAK,MAAA,KAAW,WAAW,KAAK,MAAA,GAAS,CAAA,CAAE;IAClE,MAAM,WAAW,KAAK,QAAA,IAAA,CAAa,OAAO,SAAW,eAAe,UAAU,MAAA;IAE9E,MAAM,mBAAmB,WACrB;QACE,GAAG,OAAA;QACH,GAAG,OAAA;QACH,GAAG,OAAA;KACJ,GACD;QACE,GAAG,OAAA;QACH,GAAG,OAAA;KACJ;IAGL,MAAM,SAAA,AADc,KAAK,iBAAA,GAAoB,kBAA2B,SAAS,EAAA,CAEjE,YAAA,CAAa,SAAS,WAAW,QAC/C,6LAAA,EAAoB,kBAAkB,WAAW;IAEnD,IAAA,2LAAA,EAAkB,QAAQ,iCAAiC;IAE3D,MAAM,oBACJ,KAAK,iBAAA,IAAA,CAAA,CACH,WAAW;QACX,QAAQ,KAAA,CAAM,oCAAoC,OAAO;QACzD,MAAM,IAAI,MAAM,gCAAgC;;IAGpD,MAAM,kBACJ,KAAK,eAAA,IAAA,CAAA,MACE;QACL,MAAM,IAAI,MAAM,yEAAyE;;IAG7F,IAAI,OAAO,MAAA,CACT,CAAA,OAAO,kBAAkB,OAAO,MAAA,CAAO;IAGzC,MAAM,iBAAA,CAAkB,SAAiB;QACvC,IAAI,CAAC,KAAK,YAAA,CAAc,CAAA,OAAO;QAC/B,OAAO,CAAC,KAAK,UAAA,CAAW,KAAK,YAAA,CAAa,IAAI,CAAA,CAAE,QAAQ,OAAA;;IAE1D,MAAM,sBAAA,CAAuB,SAAiB;QAC5C,OAAO,YAAY,CAAC,eAAe,KAAK;;IAE1C,MAAM,aAAA,CAAc,SAAiB;QACnC,OAAO,SAAS,gBAAgB,SAAS;;IAG3C,MAAM,cAAA,CAAe,KAAK,OAAA,IAAW,EAAE,EAAE,MAAA,CAAA,CAAQ,KAAK,SAAS;QAC7D,OAAO,OAAO,MAAA,CAAO,KAAK,KAAK;OAC9B,CAAA,CAAE,CAAC;IACN,MAAM,UAAU,OAAO,MAAA,CAAO,aAAa,OAAO,KAAA,CAAM;IAqBxD,OAnBY,IAAI,MAAM,SAAS;QAC7B,KAAI,MAAA,EAAQ,IAAA,EAAM;YAChB,IAAI,OAAO,SAAS,SAAU,CAAA,OAAO,KAAA;YACrC,IAAI,WAAW,KAAK,CAAE,CAAA,OAAO,KAAA;YAC7B,IAAI,CAAC,oBAAoB,KAAK,CAAE,CAAA,OAAO,gBAAgB,KAAK;YAC5D,OAAO,QAAQ,GAAA,CAAI,QAAQ,KAAK;;KAYnC,CAAC"}},
    {"offset": {"line": 6862, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@t3-oss/env-nextjs/dist/index.js","sources":["turbopack:///[project]/node_modules/@t3-oss/env-nextjs/src/index.ts"],"sourcesContent":["/**\n * This is the nextjs package of t3-env.\n * It contains the `createEnv` function that you can use to create your schema.\n * @module\n */\nimport type {\n  CreateEnv,\n  CreateSchemaOptions,\n  DefaultCombinedSchema,\n  ServerClientOptions,\n  StandardSchemaDictionary,\n  StandardSchemaV1,\n  StrictOptions,\n} from \"@t3-oss/env-core\";\nimport { createEnv as createEnvCore } from \"@t3-oss/env-core\";\n\nconst CLIENT_PREFIX = \"NEXT_PUBLIC_\";\ntype ClientPrefix = typeof CLIENT_PREFIX;\n\ntype Options<\n  TServer extends StandardSchemaDictionary,\n  TClient extends Record<`${ClientPrefix}${string}`, StandardSchemaV1>,\n  TShared extends StandardSchemaDictionary,\n  TExtends extends Array<Record<string, unknown>>,\n  TFinalSchema extends StandardSchemaV1<{}, {}>,\n> = Omit<\n  StrictOptions<ClientPrefix, TServer, TClient, TShared, TExtends> &\n    ServerClientOptions<ClientPrefix, TServer, TClient> &\n    CreateSchemaOptions<TServer, TClient, TShared, TFinalSchema>,\n  \"runtimeEnvStrict\" | \"runtimeEnv\" | \"clientPrefix\"\n> &\n  (\n    | {\n        /**\n         * Manual destruction of `process.env`. Required for Next.js < 13.4.4.\n         */\n        runtimeEnv: StrictOptions<\n          ClientPrefix,\n          TServer,\n          TClient,\n          TShared,\n          TExtends\n        >[\"runtimeEnvStrict\"];\n        experimental__runtimeEnv?: never;\n      }\n    | {\n        runtimeEnv?: never;\n        /**\n         * Can be used for Next.js ^13.4.4 since they stopped static analysis of server side `process.env`.\n         * Only client side `process.env` is statically analyzed and needs to be manually destructured.\n         */\n        experimental__runtimeEnv: Record<\n          | {\n              [TKey in keyof TClient]: TKey extends `${ClientPrefix}${string}` ? TKey : never;\n            }[keyof TClient]\n          | {\n              [TKey in keyof TShared]: TKey extends string ? TKey : never;\n            }[keyof TShared],\n          string | boolean | number | undefined\n        >;\n      }\n  );\n\n/**\n * Create a new environment variable schema.\n */\nexport function createEnv<\n  TServer extends StandardSchemaDictionary = NonNullable<unknown>,\n  TClient extends Record<`${ClientPrefix}${string}`, StandardSchemaV1> = NonNullable<unknown>,\n  TShared extends StandardSchemaDictionary = NonNullable<unknown>,\n  const TExtends extends Array<Record<string, unknown>> = [],\n  TFinalSchema extends StandardSchemaV1<{}, {}> = DefaultCombinedSchema<TServer, TClient, TShared>,\n>(\n  opts: Options<TServer, TClient, TShared, TExtends, TFinalSchema>,\n): CreateEnv<TFinalSchema, TExtends> {\n  const client = typeof opts.client === \"object\" ? opts.client : {};\n  const server = typeof opts.server === \"object\" ? opts.server : {};\n  const shared = opts.shared;\n\n  const runtimeEnv = opts.runtimeEnv\n    ? opts.runtimeEnv\n    : {\n        ...process.env,\n        ...opts.experimental__runtimeEnv,\n      };\n\n  return createEnvCore<ClientPrefix, TServer, TClient, TShared, TExtends, TFinalSchema>({\n    ...opts,\n    shared,\n    client,\n    server,\n    clientPrefix: CLIENT_PREFIX,\n    runtimeEnv,\n  });\n}\n"],"names":["createEnvCore"],"mappings":";;;;;;AAgBA,MAAM,gBAAgB;;;GAkDtB,SAAgB,UAOd,IAAA,EACmC;IACnC,MAAM,SAAS,OAAO,KAAK,MAAA,KAAW,WAAW,KAAK,MAAA,GAAS,CAAA,CAAE;IACjE,MAAM,SAAS,OAAO,KAAK,MAAA,KAAW,WAAW,KAAK,MAAA,GAAS,CAAA,CAAE;IACjE,MAAM,SAAS,KAAK,MAAA;IAEpB,MAAM,aAAa,KAAK,UAAA,GACpB,KAAK,UAAA,GACL;QACE,GAAG,QAAQ,GAAA;QACX,GAAG,KAAK,wBAAA;KACT;IAEL,WAAOA,gLAAAA,EAA+E;QACpF,GAAG,IAAA;QACH;QACA;QACA;QACA,cAAc;QACd;KACD,CAAC"}}]
}